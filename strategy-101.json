{"version":2,"kind":"Article","sha256":"02e591051e269f8286f85e90c39f59449342036ca8b581436f35e5e2fa85e4a9","slug":"strategy-101","location":"/strategy-101.md","dependencies":[],"frontmatter":{"title":"Freqtrade 策略开发指南","description":"本文档介绍了 Freqtrade 策略开发的基础知识,包括必备概念、策略结构以及如何开发自己的交易策略。","short_title":"策略开发指南","subtitle":"从零开始学习 Freqtrade 策略开发","subject":"Freqtrade 策略开发","authors":[{"id":"Freqtrade","name":"Freqtrade"}],"github":"https://github.com/freqtrade-cn/docs_zh-CN","keywords":["Freqtrade","中文文档","交易机器人","量化交易","加密货币","数字货币","区块链","人工智能","机器学习"],"edit_url":"https://github.com/freqtrade-cn/docs_zh-CN/blob/main/strategy-101.md","exports":[{"format":"md","filename":"strategy-101.md","url":"/build/strategy-101-ab1b843d4fe466ff8cecde12d5886cda.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Freqtrade 策略 101：策略开发快速入门","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"pRKfn0nE3b"}],"identifier":"freqtrade-101","label":"Freqtrade 策略 101：策略开发快速入门","html_id":"freqtrade-101","implicit":true,"key":"WYasEy84t8"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"本快速入门假设你已了解交易基础，并已阅读 ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"VI9l8A5eWP"},{"type":"link","url":"/bot-basics","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Freqtrade 基础","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"iC25G0mVT9"}],"urlSource":"bot-basics.md","dataUrl":"/bot-basics.json","internal":true,"protocol":"file","key":"v3OKKmCDXG"},{"type":"text","value":" 页面。","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"PAViofYXPQ"}],"key":"vmltHl5JUj"},{"type":"heading","depth":3,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"必备知识","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"pfMtZp9oL5"}],"identifier":"id","label":"必备知识","html_id":"id","implicit":true,"key":"LTUzsMB8h0"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"在 ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"gMFhyhgofT"},{"type":"inlineCode","value":"Freqtrade","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"pNlxVqgWir"},{"type":"text","value":" 中，策略是一个 ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"VrKwpsuvLZ"},{"type":"inlineCode","value":"Python","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"bBKvWCsedp"},{"type":"text","value":" 类，用于定义买入和卖出加密货币“资产”的逻辑。","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"POmOzRxWUJ"}],"key":"JvxhIuPxPs"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"资产通过 ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"e3cGDxXkx3"},{"type":"inlineCode","value":"pairs","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"kf2Iepnfpj"},{"type":"text","value":"（交易对）定义，代表“币种”和“计价币”。币种是你用另一种货币作为计价币进行交易的资产。","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"pqRskT9XM4"}],"key":"i2Z0CmqGoV"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"交易所提供的数据以 ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"JH1xjiKUf8"},{"type":"inlineCode","value":"K线","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"fRRVZx051F"},{"type":"text","value":"（candles）形式给出，每根 K 线包含六个值：","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"R7MQJBUwPV"},{"type":"inlineCode","value":"date","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"CloYgeoWPC"},{"type":"text","value":"、","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"WpyBIftsFe"},{"type":"inlineCode","value":"open","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"kbwIDjzvEB"},{"type":"text","value":"、","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"IOk620BarU"},{"type":"inlineCode","value":"high","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"imsFRVOEwt"},{"type":"text","value":"、","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"f12N3700Ef"},{"type":"inlineCode","value":"low","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"y8TORwey3b"},{"type":"text","value":"、","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"sjOmzdALS9"},{"type":"inlineCode","value":"close","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"B44nde6Vd7"},{"type":"text","value":" 和 ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"OEvljrunzE"},{"type":"inlineCode","value":"volume","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"khGQfqHXm5"},{"type":"text","value":"。","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"nHOu2ioTik"}],"key":"TsHCEliAEz"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"inlineCode","value":"技术分析","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"qKTuPnz6mv"},{"type":"text","value":"（Technical analysis）函数通过各种计算和统计公式分析 ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"jUAMw0mWsT"},{"type":"inlineCode","value":"K","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"gbMHlRkbhT"},{"type":"text","value":" 线数据，生成称为“指标”（indicators）的二级值。","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"SZ7moJIaOi"}],"key":"kJuvyFByxc"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"指标在交易对的 K 线上被分析，用于生成“信号”（signals）。","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"eh6nNTmaLO"}],"key":"ignnkc3Cvp"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"信号会在加密货币“交易所”上转化为“订单”（orders），即“交易”（trades）。","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"IUKCzMAJC8"}],"key":"ddmOObru6d"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"我们使用“进场”（entry）和“出场”（exit）来代替“买入”和“卖出”，因为 Freqtrade 同时支持“多头”（long）和“空头”（short）交易。","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"XcSUQn9sre"}],"key":"woN4iojrvS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":29,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"strong","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"多头（long）","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"BeNIydTgHA"}],"key":"xWnvkTUOHF"},{"type":"text","value":"：你用计价币买入币种，例如用 ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"ZqAJpiIka0"},{"type":"inlineCode","value":"USDT","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"AmpA8KC9hM"},{"type":"text","value":" 买入 ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"FsAcy04gh5"},{"type":"inlineCode","value":"BTC","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"eZ9gji5v9g"},{"type":"text","value":"，之后以高于买入价的价格卖出获利。多头交易的盈利来自币种相对计价币的升值。","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"GU3M58tIee"}],"key":"R0yJKqrsZk"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"strong","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"空头（short）","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"QX5Tn9EzN1"}],"key":"QeisxtdRzI"},{"type":"text","value":"：你从交易所借入币种，之后以更低的价格买回并归还，赚取差价。空头交易的盈利来自币种相对计价币的贬值（你以更低的价格还清借款）。","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"KobNPGVEzX"}],"key":"a7GSVVe0WW"}],"key":"fZnaOLjcUo"},{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"虽然 ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"zC2vAG3ysJ"},{"type":"inlineCode","value":"Freqtrade","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"RmgoCYbuZn"},{"type":"text","value":" 支持部分交易所的现货和合约市场，但为简化起见，本教程仅关注现货（多头）交易。","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"BP0rZZgDK2"}],"key":"axEVXTDS0y"},{"type":"heading","depth":3,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"基础策略结构","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"aNW2pAIOtE"}],"identifier":"id","label":"基础策略结构","html_id":"id-1","implicit":true,"key":"LZqMlggfDg"},{"type":"heading","depth":4,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"主数据帧(dataframe)","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"pLpz651U7a"}],"identifier":"id-dataframe","label":"主数据帧(dataframe)","html_id":"id-dataframe","implicit":true,"key":"cDZuAPIm4d"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"inlineCode","value":"Freqtrade","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"rUOvBx9amz"},{"type":"text","value":" 策略使用一种带有行和列的表格数据结构，称为 ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"zj0Sl6kkZW"},{"type":"inlineCode","value":"数据帧(dataframe)","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"cgB2wlRM5Y"},{"type":"text","value":"，用于生成进出场信号。","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"dgzjlcHs9q"}],"key":"ZVyiY0xzFg"},{"type":"paragraph","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"你配置的每个交易对都有自己的数据帧。","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"CodlnymfND"}],"key":"QcDEZTvmCo"},{"type":"paragraph","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"数据帧以 ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"akgVbOn2JL"},{"type":"inlineCode","value":"date","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"lLWhFodWvP"},{"type":"text","value":" 列为索引，例如 ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"j0Jj0gUtQm"},{"type":"inlineCode","value":"2024-06-31 12:00","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"D31HUv0QCG"},{"type":"text","value":"。","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"gic3CBWFxo"}],"key":"G0pfHq4qZT"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"接下来的 5 列分别代表 ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"HfPpQnrc0H"},{"type":"inlineCode","value":"open","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"ZjhTvY94JW"},{"type":"text","value":"、","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"ExuQ79wPMe"},{"type":"inlineCode","value":"high","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"oIEJRSpIVF"},{"type":"text","value":"、","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"IMEVVddSnR"},{"type":"inlineCode","value":"low","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"u6rsnrdSZl"},{"type":"text","value":"、","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"piJvfdet0z"},{"type":"inlineCode","value":"close","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"l9g01DGla1"},{"type":"text","value":" 和 ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"j90Jgqkm90"},{"type":"inlineCode","value":"volume","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"r81mmdKoSM"},{"type":"text","value":"（OHLCV）数据。","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"rUHgE9NJuv"}],"key":"NuWEw2a6qi"},{"type":"heading","depth":4,"position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"填充指标值(populate_indicators)","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"OUXSmDcLUB"}],"identifier":"id-populate-indicators","label":"填充指标值(populate_indicators)","html_id":"id-populate-indicators","implicit":true,"key":"pUmnt79tOw"},{"type":"paragraph","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"inlineCode","value":"populate_indicators","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"sKZY5ny3GW"},{"type":"text","value":" 函数会向数据帧添加代表技术分析指标值的列。","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"ijwAaeQOIL"}],"key":"U6nJNBNQ28"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"常见指标包括","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"Iu0owY8w85"},{"type":"inlineCode","value":"相对强弱指数（RSI）","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"uzx5zQVcds"},{"type":"text","value":"、","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"sG0fDr1Cwb"},{"type":"inlineCode","value":"布林带（Bollinger Bands）","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"LoNABjoQRg"},{"type":"text","value":"、","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"WEQo8srHSs"},{"type":"inlineCode","value":"资金流指数（MFI）","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"o3KYzrHiKL"},{"type":"text","value":"、","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"HDSXPDGvcM"},{"type":"inlineCode","value":"均线（MA）","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"trzSLphJ3X"},{"type":"text","value":"、","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"GUTT8ynrWg"},{"type":"inlineCode","value":"平均真实波幅（ATR）","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"AlIlSuwzNi"},{"type":"text","value":"等。","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"thij2wypsB"}],"key":"xLMTtHOcch"},{"type":"paragraph","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"通过调用技术分析函数（如 ta-lib 的 RSI 函数 ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"JE1GLwsDZf"},{"type":"inlineCode","value":"ta.RSI()","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"YyhlgJqgVa"},{"type":"text","value":"）并赋值给某列名（如 ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"XweqI8xBHN"},{"type":"inlineCode","value":"rsi","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"VR61T0pfRJ"},{"type":"text","value":"），即可向数据帧添加指标列：","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"qq7tTcGQkh"}],"key":"aqBTR8gomt"},{"type":"code","lang":"python","value":"dataframe['rsi'] = ta.RSI(dataframe)","position":{"start":{"line":54,"column":1},"end":{"line":56,"column":1}},"key":"h8mTpVYVoo"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"技术分析库","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"WqGwYfkoFm"}],"key":"qqpucvoFY6"},{"type":"paragraph","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"不同的库生成指标值的方式不同。请查阅各自文档了解如何集成到你的策略中。你也可以参考 ","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"mVxDgwqfSB"},{"type":"link","url":"https://github.com/freqtrade/freqtrade-strategies","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"Freqtrade 示例策略","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"olWvCxg8LO"}],"urlSource":"https://github.com/freqtrade/freqtrade-strategies","error":true,"key":"YMPI8unex5"},{"type":"text","value":" 获取灵感。","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"QmBhiIar80"}],"key":"VMP3firZCy"}],"key":"MmLqi5l30s"},{"type":"heading","depth":4,"position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"填充进场信号(populate_entry_trend)","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"XV1FEMmhK6"}],"identifier":"id-populate-entry-trend","label":"填充进场信号(populate_entry_trend)","html_id":"id-populate-entry-trend","implicit":true,"key":"nW37U1RoCu"},{"type":"paragraph","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"inlineCode","value":"populate_entry_trend","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"REpcV1v6Ii"},{"type":"text","value":" 函数定义进场信号的条件。","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"T0v8NCnIii"}],"key":"rIt0CSecDe"},{"type":"paragraph","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"text","value":"数据帧会新增 ","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"xD8uHcARc9"},{"type":"inlineCode","value":"enter_long","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"P5Ci9mSTYW"},{"type":"text","value":" 列，当该列值为 ","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"TbrhIX8jeY"},{"type":"inlineCode","value":"1","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"ccwsoBHdUp"},{"type":"text","value":" 时，Freqtrade 视为进场信号。","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"EzucLxxz13"}],"key":"bGBPKGfpgR"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"做空","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"ZZKpbX9VqR"}],"key":"iGT8Ru4dwu"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"若要做空交易，请使用 ","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"grOiZzl4qr"},{"type":"inlineCode","value":"enter_short","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"j7ssQZG3mq"},{"type":"text","value":" 列。","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"Tv4tyuKQy2"}],"key":"TIksxXm0cw"}],"key":"p0mHYYgJPN"},{"type":"heading","depth":4,"position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"填充出场信号(populate_exit_trend)","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"f4aBLopyRF"}],"identifier":"id-populate-exit-trend","label":"填充出场信号(populate_exit_trend)","html_id":"id-populate-exit-trend","implicit":true,"key":"WENgIvTEwx"},{"type":"paragraph","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"inlineCode","value":"populate_exit_trend","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"VTcYGRmyIG"},{"type":"text","value":" 函数定义出场信号的条件。","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"MeLTw01i7t"}],"key":"vDAaRpstuy"},{"type":"paragraph","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"数据帧会新增 ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"Dc2kBcFxYI"},{"type":"inlineCode","value":"exit_long","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"yIONUU02dS"},{"type":"text","value":" 列，当该列值为 ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"cppwfoixXg"},{"type":"inlineCode","value":"1","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"rPGaZ3WqzP"},{"type":"text","value":" 时，Freqtrade 视为出场信号。","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"EeEVmnt9fo"}],"key":"M715LwmPME"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"做空","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"O3CyFSVBGz"}],"key":"Y8PRMXXh4j"},{"type":"paragraph","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"若要做空平仓，请使用 ","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"lslkw45haF"},{"type":"inlineCode","value":"exit_short","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"sfjZVXrCwk"},{"type":"text","value":" 列。","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"lTD4XDgT6i"}],"key":"NC595dB1ZG"}],"key":"gXxzcDjHB3"},{"type":"heading","depth":3,"position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"text","value":"一个简单的策略","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"xqHSJaVA4H"}],"identifier":"id","label":"一个简单的策略","html_id":"id-2","implicit":true,"key":"sRtn4U8u1P"},{"type":"paragraph","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"下面是一个最小化的 Freqtrade 策略示例：","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"MgxNk4gPAs"}],"key":"omt3ZonrTx"},{"type":"code","lang":"python","value":"from freqtrade.strategy import IStrategy\nfrom pandas import DataFrame\nimport talib.abstract as ta\n\nclass MyStrategy(IStrategy):\n\n    timeframe = '15m'\n\n    # 初始止损设为 -10%\n    stoploss = -0.10\n\n    # 盈利大于 1% 时随时出场\n    minimal_roi = {\"0\": 0.01}\n\n    def populate_indicators(self, dataframe: DataFrame, metadata: dict) -> DataFrame:\n        # 生成技术分析指标值\n        dataframe['rsi'] = ta.RSI(dataframe, timeperiod=14)\n\n        return dataframe\n\n    def populate_entry_trend(self, dataframe: DataFrame, metadata: dict) -> DataFrame:\n        # 根据指标值生成进场信号\n        dataframe.loc[\n            (dataframe['rsi'] < 30),\n            'enter_long'] = 1\n\n        return dataframe\n\n    def populate_exit_trend(self, dataframe: DataFrame, metadata: dict) -> DataFrame:\n        # 根据指标值生成出场信号\n        dataframe.loc[\n            (dataframe['rsi'] > 70),\n            'exit_long'] = 1\n\n        return dataframe","position":{"start":{"line":86,"column":1},"end":{"line":122,"column":1}},"key":"ADAaHftF04"},{"type":"heading","depth":3,"position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"text","value":"交易执行","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"IMxQ4YIDwN"}],"identifier":"id","label":"交易执行","html_id":"id-3","implicit":true,"key":"T1YIwSqETE"},{"type":"paragraph","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"children":[{"type":"text","value":"当检测到信号（进场或出场列为 ","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"VJlB10cmIc"},{"type":"inlineCode","value":"1","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"bCEnQvS9IW"},{"type":"text","value":"）时，Freqtrade 会尝试下单，即创建一个 ","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"bYeUoVDXhn"},{"type":"inlineCode","value":"trade","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"uqRnsEjjsp"},{"type":"text","value":" 或 ","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"MYGsmbDMdA"},{"type":"inlineCode","value":"position","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"OdjYKqbRBh"},{"type":"text","value":"。","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"tkNikY4TDP"}],"key":"yHKchBEdH4"},{"type":"paragraph","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"每个新交易会占用一个“槽位”（slot）。槽位代表可同时开启的新交易最大数量。","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"nEANuRKaDK"}],"key":"s8RbSH7quw"},{"type":"paragraph","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"槽位数量由 ","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"UZpHLGTvfO"},{"type":"inlineCode","value":"max_open_trades","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"oRGKxDKJSR"},{"type":"text","value":" ","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"YYuj0kGiju"},{"type":"crossReference","url":"/configuration","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"配置项","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"bTYpxVom7n"}],"urlSource":"configuration.md#parameters-list","dataUrl":"/configuration.json","identifier":"parameters-list","label":"parameters-list","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"parameters-list","key":"nkW1RYvGe1"},{"type":"text","value":" 决定。","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"EkXrPj1PRL"}],"key":"C9CJTvZkM9"},{"type":"paragraph","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"但在以下情况下，生成信号未必会创建交易订单，包括：","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"LM3EohOwIx"}],"key":"nAVW4jD1sG"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":134,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"text","value":"剩余计价币不足以买入资产，或钱包中无足够资产卖出（包括手续费）","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"CzAybWDCID"}],"key":"wKyyJqH79U"},{"type":"listItem","spread":true,"position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"剩余可用槽位不足（已开仓数量等于 ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"is0SRat8kr"},{"type":"inlineCode","value":"max_open_trades","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"PovkpauHpP"},{"type":"text","value":"）","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"ZAEi3Ca15J"}],"key":"aH3OXR4ezQ"},{"type":"listItem","spread":true,"position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"text","value":"某交易对已有持仓（Freqtrade 不支持同一对叠加持仓，但可","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"ukpfOcUblK"},{"type":"crossReference","url":"/strategy-callbacks","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"text","value":"调整已有持仓","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"Mofpvgpqhf"}],"urlSource":"strategy-callbacks.md#adjust-trade-position","dataUrl":"/strategy-callbacks.json","identifier":"adjust-trade-position","label":"adjust-trade-position","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"adjust-trade-position","key":"pOswXAveev"},{"type":"text","value":"）","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"p7JZYjjkVb"}],"key":"D0WC647RH5"},{"type":"listItem","spread":true,"position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"text","value":"同一根 K 线上同时出现进场和出场信号，视为","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"rUCwD5JUK1"},{"type":"crossReference","url":"/strategy-customization","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"text","value":"信号冲突","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"aEaPItPxTP"}],"urlSource":"strategy-customization.md#colliding-signals","dataUrl":"/strategy-customization.json","identifier":"colliding-signals","label":"colliding-signals","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"colliding-signals","key":"Eh2rPMAGrr"},{"type":"text","value":"，不会下单","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"tjkiWKS9Cg"}],"key":"OxrjctJjrh"},{"type":"listItem","spread":true,"position":{"start":{"line":138,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"策略通过相关 ","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"qe5E9ZejV3"},{"type":"crossReference","url":"/strategy-callbacks","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"entry","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"vRlujj5w9Q"}],"urlSource":"strategy-callbacks.md#trade-entry-buy-order-confirmation","dataUrl":"/strategy-callbacks.json","identifier":"trade-entry-buy-order-confirmation","label":"trade-entry-buy-order-confirmation","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"trade-entry-buy-order-confirmation","key":"TFr1UfU5T2"},{"type":"text","value":" 或 ","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"Tf8wKufwwW"},{"type":"crossReference","url":"/strategy-callbacks","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"exit","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"rRfFoIpg4v"}],"urlSource":"strategy-callbacks.md#trade-exit-sell-order-confirmation","dataUrl":"/strategy-callbacks.json","identifier":"trade-exit-sell-order-confirmation","label":"trade-exit-sell-order-confirmation","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"trade-exit-sell-order-confirmation","key":"ibbSOfvEsd"},{"type":"text","value":" 回调主动拒绝下单","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"mOrQBDBnxS"}],"key":"gzQM5m64pB"}],"key":"DvRK3Ccna5"},{"type":"paragraph","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"更多细节请阅读 ","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"CEVfjosOqb"},{"type":"link","url":"/strategy-customization","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"策略自定义","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"NfvxEzO0na"}],"urlSource":"strategy-customization.md","dataUrl":"/strategy-customization.json","internal":true,"protocol":"file","key":"HBK1YgvadS"},{"type":"text","value":" 文档。","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"iL8pM9TwVe"}],"key":"onx9dHJOka"},{"type":"heading","depth":3,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"回测与前向测试","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"wZqkaOH7wv"}],"identifier":"id","label":"回测与前向测试","html_id":"id-4","implicit":true,"key":"rcwcjgg7oL"},{"type":"paragraph","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"策略开发可能漫长且令人沮丧，因为将人的“直觉”转化为可运行的计算机策略（“量化”）并不总是直观的。因此，策略应经过测试以验证其是否按预期工作。","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"WIME4t0Fbx"}],"key":"DMgnIgpT5S"},{"type":"paragraph","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"Freqtrade 提供两种测试模式：","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"dUaPC2IDl2"}],"key":"YrDWyTr3aY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":148,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"strong","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"回测（backtesting）","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"IPNNPk8psY"}],"key":"Rvx4kvs295"},{"type":"text","value":"：使用你","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"UE6llTEZkm"},{"type":"link","url":"/data-download","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"从交易所下载的历史数据","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"H7HeGqOOi5"}],"urlSource":"data-download.md","dataUrl":"/data-download.json","internal":true,"protocol":"file","key":"xGTZOwUuyO"},{"type":"text","value":"，回测可快速评估策略表现。但结果很容易被扭曲，使策略看起来比实际更赚钱。详见","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"QdpTmlPgZn"},{"type":"link","url":"/backtesting","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"回测文档","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"ll7yNVYYC8"}],"urlSource":"backtesting.md","dataUrl":"/backtesting.json","internal":true,"protocol":"file","key":"ex8i0lSJi6"},{"type":"text","value":"。","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"UVWaMF6KgN"}],"key":"okJP0X8DET"},{"type":"listItem","spread":true,"position":{"start":{"line":149,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"strong","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"模拟盘（dry run）","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"ZRzIlcEOeh"}],"key":"XxgXz4bsvs"},{"type":"text","value":"：也称“前向测试”，用实时数据，但不会在交易所实际下单，只在 Freqtrade 内部跟踪信号和交易。前向测试实时运行，结果更可靠但耗时更长。","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"iW6L4yLtJB"}],"key":"AqqbnDAsv2"}],"key":"AqT8V6gQgL"},{"type":"paragraph","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"通过在 ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"iQaleJ4gWv"},{"type":"crossReference","url":"/configuration","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"配置文件","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"RK2UK7A3uN"}],"urlSource":"configuration.md#using-dry-run-mode","dataUrl":"/configuration.json","identifier":"using-dry-run-mode","label":"using-dry-run-mode","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"using-dry-run-mode","key":"oQ1Nb1H85o"},{"type":"text","value":" 中将 ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"WmmKrKupZL"},{"type":"inlineCode","value":"dry_run","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"xxypRDJKW3"},{"type":"text","value":" 设为 true 启用模拟盘。","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"A956Dr5MmT"}],"key":"o4jfVb0IJO"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"回测结果可能极不准确","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"O4izfjs5LY"}],"key":"a4ANX2rzVJ"},{"type":"paragraph","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"回测结果与实际可能有很大差异。请查阅","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"I0NrJ3hypk"},{"type":"crossReference","url":"/backtesting","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"回测假设","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"hJZ7Z0suP4"}],"urlSource":"backtesting.md#assumptions-made-by-backtesting","dataUrl":"/backtesting.json","identifier":"assumptions-made-by-backtesting","label":"assumptions-made-by-backtesting","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"assumptions-made-by-backtesting","key":"p0YNwIWTqw"},{"type":"text","value":"和","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"ILKpsqky1w"},{"type":"crossReference","url":"/strategy-customization","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"常见策略错误","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"X2wu2bf05j"}],"urlSource":"strategy-customization.md#common-mistakes-when-developing-strategies","dataUrl":"/strategy-customization.json","identifier":"common-mistakes-when-developing-strategies","label":"common-mistakes-when-developing-strategies","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"common-mistakes-when-developing-strategies","key":"rIuICYHgp3"},{"type":"text","value":"。","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"q1CNchi3mD"}],"key":"qTCYlxLOeb"},{"type":"paragraph","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"一些网站展示的 Freqtrade 策略回测结果很亮眼，但请勿认为这些结果可实现或真实。","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"IdLe3CdIGP"}],"key":"m7RP1SWl7t"}],"key":"oWE39JgdJ9"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"有用的命令","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"wR99uT57JY"}],"key":"zy0X1rorhK"},{"type":"paragraph","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"Freqtrade 提供两个有用命令检查策略基本缺陷：","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"Nyq3suYOIs"},{"type":"link","url":"/lookahead-analysis","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"lookahead-analysis","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"OkbSrM65op"}],"urlSource":"lookahead-analysis.md","dataUrl":"/lookahead-analysis.json","internal":true,"protocol":"file","key":"N6R64e5VCA"},{"type":"text","value":" 和 ","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"FdBzHcXidU"},{"type":"link","url":"/recursive-analysis","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"recursive-analysis","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"Ukf3o8Q4jV"}],"urlSource":"recursive-analysis.md","dataUrl":"/recursive-analysis.json","internal":true,"protocol":"file","key":"wk15YHOPIO"},{"type":"text","value":"。","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"RtgXrM0Yt3"}],"key":"af83wMNjqf"}],"key":"CsJKhVnjOM"},{"type":"heading","depth":4,"position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"text","value":"评估回测与模拟盘结果","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"HCkQ6wHhQJ"}],"identifier":"id","label":"评估回测与模拟盘结果","html_id":"id-5","implicit":true,"key":"SroMsRF3FN"},{"type":"paragraph","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"text","value":"回测后务必用模拟盘运行策略，比较两者结果是否足够接近。","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"kp93er0haC"}],"key":"ORuUYZrr9e"},{"type":"paragraph","position":{"start":{"line":167,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"text","value":"如有明显差异，请检查进出场信号在两种模式下是否一致且出现在同一根 K 线上。","position":{"start":{"line":167,"column":1},"end":{"line":167,"column":1}},"key":"sIwxLLnf8X"}],"key":"SUvuE8GWRk"},{"type":"paragraph","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"children":[{"type":"text","value":"但 ","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"PFeUBWWZtW"},{"type":"inlineCode","value":"dry run","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"JkIe5xT2BG"},{"type":"text","value":" 和回测之间总会有差异：","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"DhwX00jBSG"}],"key":"gCHIK2H2Jy"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":171,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"回测假定所有订单都成交。","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"vAThBVQc4z"},{"type":"inlineCode","value":"dry run","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"Q1t0rv5MGZ"},{"type":"text","value":" 下若用限价单或交易所无成交量，可能无法成交。","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"ZMuPuZXu7H"}],"key":"ALjarFDcSf"},{"type":"listItem","spread":true,"position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"回测在信号出现的 K 线收盘后，假定以下一根 K 线开盘价进场（除非策略有自定义定价回调）。","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"CPwX0XH5Ad"},{"type":"inlineCode","value":"dry run","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"hDABCxG8p2"},{"type":"text","value":" 下信号到实际下单有延迟。这是因为新 K 线到来时，Freqtrade 需分析所有交易对数据，实际下单会比 K 线开盘稍有延迟。","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"AYqsPOJMs0"}],"key":"XTruG2mMuM"},{"type":"listItem","spread":true,"position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"children":[{"type":"inlineCode","value":"dry run","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"OC0jaOJBr4"},{"type":"text","value":" 下的进场价格可能与回测不同，导致收益计算也不同。因此 ROI、止损、追踪止损和回调出场等结果不完全一致很正常。","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"P3qxdxTQZO"}],"key":"RmBTdBHXn8"},{"type":"listItem","spread":true,"position":{"start":{"line":174,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"text","value":"计算机处理新 K 线和信号、下单的延迟越大，价格波动越不可控。请确保你的电脑能在合理时间内处理所有交易对数据。若数据处理延迟严重，Freqtrade 会在日志中警告。","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"lZBqzSYScX"}],"key":"HjuaEtYxso"}],"key":"oLnGTWV0Kn"},{"type":"heading","depth":3,"position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"控制和监控运行中的机器人","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"bxR0l2qvmW"}],"identifier":"id","label":"控制和监控运行中的机器人","html_id":"id-6","implicit":true,"key":"qsuEw09Ncm"},{"type":"paragraph","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"children":[{"type":"text","value":"机器人在 ","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"cGutu4ycTG"},{"type":"inlineCode","value":"dry run","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"OtIw7dikcM"},{"type":"text","value":" 或实盘模式下运行时，Freqtrade 提供六种控制和监控方式：","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"d8Fju3JXin"}],"key":"N1YBHYIsvY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":180,"column":1},"end":{"line":186,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"strong","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"link","url":"/freq-ui","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"FreqUI","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"IlQQ4ootfg"}],"urlSource":"freq-ui.md","dataUrl":"/freq-ui.json","internal":true,"protocol":"file","key":"MwASXG00kp"}],"key":"PdiPADtVys"},{"type":"text","value":"：最易上手的 Web 界面，可查看和控制机器人当前活动。","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"cqKWDZyyod"}],"key":"VR445QjBcV"},{"type":"listItem","spread":true,"position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"strong","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"link","url":"/telegram-usage","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"text","value":"Telegram","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"hUdcZyN368"}],"urlSource":"telegram-usage.md","dataUrl":"/telegram-usage.json","internal":true,"protocol":"file","key":"rufTROYc8J"}],"key":"SIYb69SO5h"},{"type":"text","value":"：在移动设备上集成 Telegram，可接收机器人活动提醒并控制部分功能。","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"BGvbECY2iv"}],"key":"OQVo9rljt3"},{"type":"listItem","spread":true,"position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"strong","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"link","url":"https://github.com/freqtrade/ftui","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"text","value":"FTUI","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"akuM8YiY0v"}],"urlSource":"https://github.com/freqtrade/ftui","error":true,"key":"I4Aouhiy7A"}],"key":"nkQBkEMIeo"},{"type":"text","value":"：命令行界面，仅用于监控运行中的机器人。","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"flyXD9bU1v"}],"key":"kdzYtxuzni"},{"type":"listItem","spread":true,"position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"strong","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"crossReference","url":"/rest-api","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"text","value":"freqtrade-client","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"key":"cH7p6C1lOP"}],"urlSource":"rest-api.md#consuming-the-api","dataUrl":"/rest-api.json","identifier":"consuming-the-api","label":"consuming-the-api","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"consuming-the-api","key":"MKAzLLpOr5"}],"key":"N52FnW9pag"},{"type":"text","value":"：Python 实现的 REST API 客户端，便于在 Python 应用或命令行中请求和消费机器人响应。","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"key":"iTH3mbX7dD"}],"key":"K7E8iFneHL"},{"type":"listItem","spread":true,"position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"strong","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"crossReference","url":"/rest-api","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"text","value":"REST API 接口","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"v42dLlE1MS"}],"urlSource":"rest-api.md#available-endpoints","dataUrl":"/rest-api.json","identifier":"available-endpoints","label":"available-endpoints","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"available-endpoints","key":"BW9N2DhNzb"}],"key":"O5nUT4oU4r"},{"type":"text","value":"：REST API 允许开发者自定义工具与 Freqtrade 机器人交互。","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"sTOjlzltQZ"}],"key":"WneDxaHSkK"},{"type":"listItem","spread":true,"position":{"start":{"line":185,"column":1},"end":{"line":186,"column":1}},"children":[{"type":"strong","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"link","url":"/webhook-config","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"Webhooks","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"QYRIFl97GO"}],"urlSource":"webhook-config.md","dataUrl":"/webhook-config.json","internal":true,"protocol":"file","key":"q2g8MWCydE"}],"key":"C38YL3NAmN"},{"type":"text","value":"：Freqtrade 可通过 webhook 向其他服务（如 discord）发送信息。","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"nB3K4enAVK"}],"key":"jqI3A1HVpG"}],"key":"ct6sEr8yM8"},{"type":"heading","depth":4,"position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"children":[{"type":"text","value":"日志","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"i1GX3D29Mm"}],"identifier":"id","label":"日志","html_id":"id-7","implicit":true,"key":"q63ikuoouy"},{"type":"paragraph","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"children":[{"type":"text","value":"Freqtrade 会生成详细的调试日志，帮助你了解机器人运行状况。请熟悉日志中的信息和错误消息。","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"Xz9WLQIgi0"}],"key":"OUvYKZ2DP9"},{"type":"paragraph","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"text","value":"日志默认输出到标准输出（命令行）。如需写入文件，许多 freqtrade 命令（包括 ","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"iJSaI9Rvza"},{"type":"inlineCode","value":"trade","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"SSh94XV0AC"},{"type":"text","value":"）支持 ","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"GK6l3MiR1N"},{"type":"inlineCode","value":"--logfile","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"rG5BM7GNzJ"},{"type":"text","value":" 选项。","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"KBgG9y8z5Y"}],"key":"PcwrseT0R6"},{"type":"paragraph","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"children":[{"type":"text","value":"示例请查阅 ","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"ZT63kMQ9dw"},{"type":"crossReference","url":"/faq","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"children":[{"type":"text","value":"FAQ","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"nlV5wWeXhl"}],"urlSource":"faq.md#how-do-i-search-the-bot-logs-for-something","dataUrl":"/faq.json","identifier":"how-do-i-search-the-bot-logs-for-something","label":"how-do-i-search-the-bot-logs-for-something","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"how-do-i-search-the-bot-logs-for-something","key":"jVqjOyVnhi"},{"type":"text","value":"。","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"IGAr6Duw4g"}],"key":"P6ff1zktqx"},{"type":"heading","depth":3,"position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"最后的思考","position":{"start":{"line":195,"column":1},"end":{"line":195,"column":1}},"key":"fqtPWX1BJh"}],"identifier":"id","label":"最后的思考","html_id":"id-8","implicit":true,"key":"VZ04SQaw43"},{"type":"paragraph","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"量化交易很难，大多数公开策略表现并不好，因为要让策略在多种场景下持续盈利需要大量时间和精力。","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"I9IdkuqH6Z"}],"key":"xRsZ4BjuF2"},{"type":"paragraph","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"因此，直接用公开策略并通过回测评估表现往往问题多多。但 Freqtrade 提供了多种工具，帮助你做出决策并尽职调查。","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"IxFIwXfrLe"}],"key":"WjA4T0y4OU"},{"type":"paragraph","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"盈利的方式有很多，没有任何单一技巧或配置能让表现不佳的策略变好。","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"rncNHxWr4A"}],"key":"QzvMb3oZBq"},{"type":"paragraph","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"children":[{"type":"text","value":"Freqtrade 是一个开源平台，拥有庞大且乐于助人的社区——欢迎加入我们的 ","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"L4HxREdmWG"},{"type":"link","url":"https://discord.gg/p7nuUNVfP7","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"children":[{"type":"text","value":"discord 频道","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"Uf1j0Yzo8Y"}],"urlSource":"https://discord.gg/p7nuUNVfP7","key":"VpaifBJRUn"},{"type":"text","value":" 与他人交流你的策略！","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"yXW73FPGLe"}],"key":"sagarj9PGq"},{"type":"paragraph","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"text","value":"始终只投资你愿意失去的资金。","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"P8uFn1PUX6"}],"key":"PZyYDD1d1o"},{"type":"heading","depth":3,"position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"children":[{"type":"text","value":"总结","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"M4OCyceLQ3"}],"identifier":"id","label":"总结","html_id":"id-9","implicit":true,"key":"l2Iwvx9hTk"},{"type":"paragraph","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"children":[{"type":"text","value":"在 Freqtrade 中开发策略，就是基于技术指标定义进出场信号。按照上述结构和方法，你可以创建并测试自己的交易策略。","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"gecLbKNicS"}],"key":"JfIckYPvxB"},{"type":"paragraph","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"常见问题可在我们的 ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"Euum2gVjiq"},{"type":"link","url":"/faq","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"FAQ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"vn4F1LIF0d"}],"urlSource":"faq.md","dataUrl":"/faq.json","internal":true,"protocol":"file","key":"YeKiwvIuK6"},{"type":"text","value":" 查阅。","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"hVkvORKDRL"}],"key":"jjkI83oPGi"},{"type":"paragraph","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"text","value":"欲深入了解，请参考更详细的 ","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"IeortrztLp"},{"type":"link","url":"/strategy-customization","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"text","value":"Freqtrade 策略自定义文档","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"sqg2wyssbT"}],"urlSource":"strategy-customization.md","dataUrl":"/strategy-customization.json","internal":true,"protocol":"file","key":"vSxUZz7kCS"},{"type":"text","value":"。","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"gBoBebWhyR"}],"key":"c8wdFP8bRS"}],"key":"TAMwI8e14r"}],"key":"hEyyhDkdw3"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"配置 Freqtrade","short_title":"配置","url":"/configuration","group":"安装"},"next":{"title":"策略自定义指南","short_title":"策略自定义","url":"/strategy-customization","group":"安装"}}},"domain":"http://localhost:3002"}