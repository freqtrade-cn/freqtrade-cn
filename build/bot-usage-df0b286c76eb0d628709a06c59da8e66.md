---
title: 机器人使用指南
subject: FreqTrade 机器人使用指南
subtitle: 了解如何运行和配置机器人
short_title: 机器人使用
description: 本文档介绍了如何启动和运行 FreqTrade 机器人,包括命令行参数、配置文件使用等基本操作说明。
---

# 启动机器人

本页介绍机器人的不同参数及如何运行。

:::{note}
如果你使用了 `setup.sh`，在运行 freqtrade 命令前不要忘记激活你的虚拟环境（`source .venv/bin/activate`）。
:::

:::{warning} 时钟需同步
运行机器人的系统时钟必须准确，并频繁与 NTP 服务器同步，以避免与交易所通信时出现问题。
:::

## 机器人命令

```{include} commands/main.md
```

### 机器人交易命令

```{include} commands/trade.md
```

### 如何指定使用哪个配置文件？

机器人允许你通过 `-c/--config` 命令行选项选择要使用的配置文件：

```bash
freqtrade trade -c path/far/far/away/config.json
```

默认情况下，机器人会从当前工作目录加载 `config.json` 配置文件。

### 如何使用多个配置文件？

机器人允许你通过命令行指定多个 `-c/--config` 选项来使用多个配置文件。后面配置文件中定义的参数会覆盖前面配置文件中同名参数。

例如，你可以为交易所的 key 和 secret 单独做一个配置文件，在 Dry 模式下用默认配置文件（key 和 secret 为空，Dry 模式下不需要）：

```bash
freqtrade trade -c ./config.json
```

在正常实盘模式下同时指定两个配置文件：

```bash
freqtrade trade -c ./config.json -c path/to/secrets/keys.config.json
```

这样可以通过为包含密钥的文件设置合适的文件权限，保护你的交易所密钥和 secret，
同时在项目 issue 或互联网上发布配置示例时，避免敏感数据泄露。

更多细节和示例请参见[配置文档](configuration.md)。

### 自定义数据存储位置

Freqtrade 允许通过 `freqtrade create-userdir --userdir someDirectory` 创建 user-data 目录。
该目录结构如下：

```
user_data/
├── backtest_results
├── data
├── hyperopts
├── hyperopt_results
├── plot
└── strategies
```

你可以在配置中添加 "user_data_dir" 设置，让机器人始终指向该目录。
或者每次命令都传入 `--userdir`。
如果目录不存在，机器人会启动失败，但会自动创建必要的子目录。

该目录应包含你的自定义策略、自定义超参和超参损失函数、回测历史数据（通过回测命令或下载脚本获取）和绘图输出。

建议使用版本控制来跟踪策略的更改。

### 如何使用 **--strategy**？

该参数允许你加载自定义策略类。
要测试机器人安装情况，可以使用 `create-userdir` 子命令安装的 `SampleStrategy`（通常在 `user_data/strategy/sample_strategy.py`）。

机器人会在 `user_data/strategies` 目录下查找你的策略文件。
如需使用其他目录，请阅读下节关于 `--strategy-path` 的说明。

要加载策略，只需在该参数中传入类名（如：`CustomStrategy`）。

**示例：**
在 `user_data/strategies` 下有文件 `my_awesome_strategy.py`，其中有策略类 `AwesomeStrategy`，加载方法如下：

```bash
freqtrade trade --strategy AwesomeStrategy
```

如果找不到你的策略文件，机器人会显示错误信息（如文件未找到或代码有误）。

更多关于策略文件的信息请参见
[策略自定义](strategy-customization.md)。

### 如何使用 **--strategy-path**？

该参数允许你添加额外的策略查找路径，会优先于默认路径查找（传入的路径必须是目录！）：

```bash
freqtrade trade --strategy AwesomeStrategy --strategy-path /some/directory
```

#### 如何安装策略？

非常简单。只需将你的策略文件复制到 `user_data/strategies` 目录，或使用 `--strategy-path`。这样机器人就可以使用它了。

### 如何使用 **--db-url**？

在 Dry-run 模式下，默认不会将交易存储到数据库。如果你希望将机器人操作存储到数据库，可以使用 `--db-url`。该参数也可用于生产环境下指定自定义数据库。例如：

```bash
freqtrade trade -c config.json --db-url sqlite:///tradesv3.dry_run.sqlite
```

## 下一步

机器人的最优策略会随市场趋势变化而变化。下一步请阅读
[策略自定义](strategy-customization.md)。
