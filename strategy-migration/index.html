<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>策略迁移指南 - Freqtrade 中文文档</title><meta property="og:title" content="策略迁移指南 - Freqtrade 中文文档"/><meta name="generator" content="mystmd"/><meta name="description" content="本文档详细介绍了如何将 Freqtrade V2 策略迁移到 V3，包括接口变更、方法重命名以及新增功能的完整说明。"/><meta property="og:description" content="本文档详细介绍了如何将 Freqtrade V2 策略迁移到 V3，包括接口变更、方法重命名以及新增功能的完整说明。"/><meta name="keywords" content="Freqtrade, 中文文档, 交易机器人, 量化交易, 加密货币, 数字货币, 区块链, 人工智能, 机器学习"/><meta name="image" content="/build/freqtrade_poweredby-54c1a23e325977ebc310429538f96a71.svg"/><meta property="og:image" content="/build/freqtrade_poweredby-54c1a23e325977ebc310429538f96a71.svg"/><link rel="stylesheet" href="/build/_assets/app-5WKS5EPQ.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Freqtrade 中文文档</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"><div class="relative inline-block mx-2 grow-0" data-headlessui-state=""><div class="inline-block"><button class="inline-flex items-center justify-center w-full py-1 mx-2 font-medium rounded-md text-md text-stone-900 dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75" id="headlessui-menu-button-:R2j4op:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span>Freqtrade 官方</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="ml-2 -mr-1 text-violet-200 hover:text-violet-100"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div></div><div class="relative inline-block mx-2 grow-0"><a href="https://github.com/freqtrade-cn/freqtrade" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Freqtrade-CN GitHub</a></div></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R74op:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a class="py-2 grow" href="/">Freqtrade 官方</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rap8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rap8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><a href="https://github.com/freqtrade-cn/freqtrade" target="_blank" rel="noopener noreferrer" class="p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded">Freqtrade-CN GitHub</a></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="Freqtrade 中文文档" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">Freqtrade 中文文档</a><a title="Freqtrade 术语词典" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/terms">术语词典</a><a title="使用 Docker 运行 Freqtrade" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/docker-quickstart">Docker 快速入门</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="安装" class="block break-words rounded py-2 grow cursor-pointer">安装</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16p8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16p8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><a title="Freqtrade 基础" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/bot-basics">基础指南</a><a title="配置 Freqtrade" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/configuration">配置</a><a title="Freqtrade 策略开发指南" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/strategy-101">策略开发指南</a><a title="策略自定义指南" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/strategy-customization">策略自定义</a><a title="策略回调指南" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/strategy-callbacks">策略回调</a><a title="止损配置指南" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/stoploss">止损</a><a title="插件体系" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/plugins">插件体系</a><a title="机器人使用指南" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/bot-usage">机器人使用</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="机器人控制和管理" class="block break-words rounded py-2 grow cursor-pointer">机器人控制和管理</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R3ep8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3ep8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><a title="数据下载" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/data-download">数据下载</a><a title="回测" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/backtesting">回测</a><a title="Hyperopt 超参数优化指南" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/hyperopt">Hyperopt 指南</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="FreqAI" class="block break-words rounded py-2 grow cursor-pointer">FreqAI</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R4ep8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R4ep8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><a title="使用杠杆交易" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/leverage">使用杠杆交易</a><a title="实用工具命令指南" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/utils">实用工具指南</a><a title="绘图" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/plotting">绘图</a><a title="交易所特定说明" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/exchanges">交易所说明</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="数据分析" class="block break-words rounded py-2 grow cursor-pointer">数据分析</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R5mp8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R5mp8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="高级话题" class="block break-words rounded py-2 grow cursor-pointer">高级话题</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R5up8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R5up8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><a title="Freqtrade 常见问题" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/faq">FAQ</a><a title="策略迁移指南" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg bg-blue-300/30 active" href="/strategy-migration">策略迁移</a><a title="更新指南" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/updating">更新指南</a><a title="Commands" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/commands">Commands</a><a title="已弃用功能" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/deprecated">已弃用功能</a><a title="开发者指南" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/developer">开发者指南</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Commands" class="block break-words rounded py-2 grow cursor-pointer">Commands</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R7mp8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R7mp8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://github.com/freqtrade-cn/docs_zh-CN" target="_blank" rel="noreferrer"><span class="self-center text-sm">Made with love by Freqtrade-CN🏅🏅</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-none pr-2 smallcaps">Freqtrade V2 到 V3 迁移</div><div class="flex-grow"></div><a href="https://github.com/freqtrade-cn/docs_zh-CN" title="GitHub Repository: freqtrade-cn/docs_zh-CN" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><a href="https://github.com/freqtrade-cn/docs_zh-CN/blob/main/strategy_migration.md" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8top:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">策略迁移指南</h1><p class="mt-2 mb-0 lead text-zinc-600 dark:text-zinc-400">从 V2 到 V3 的策略迁移完整指南</p><header class="mt-4 not-prose"><div><span class="font-semibold text-sm inline-block"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R78top:" data-state="closed">Freqtrade</button></span></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><h2 id="v2-v3" class="relative group"><span class="heading-text">V2 和 V3 之间的策略迁移</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#v2-v3" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>为了支持新的市场和交易类型（即空头交易/杠杆交易），接口必须进行一些更改。
如果你打算使用现货市场以外的市场，请将你的策略迁移到新格式。</p><p>我们付出了很大努力来保持与现有策略的兼容性，所以如果你只想继续在__现货市场__使用 freqtrade，目前应该不需要任何更改。</p><p>你可以使用快速摘要作为检查清单。请参阅下面的详细部分以获取完整的迁移详情。</p><h3 id="id" class="relative group"><span class="heading-text">快速摘要/迁移检查清单</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>注意：<code>forcesell</code>、<code>forcebuy</code>、<code>emergencysell</code> 分别改为 <code>force_exit</code>、<code>force_enter</code>、<code>emergency_exit</code>。</p><ul><li>策略方法：<ul><li><a target="_blank" rel="noreferrer" href="#populate_buy_trend" class=""><code>populate_buy_trend()</code> -&gt; <code>populate_entry_trend()</code></a></li><li><a target="_blank" rel="noreferrer" href="#populate_sell_trend" class=""><code>populate_sell_trend()</code> -&gt; <code>populate_exit_trend()</code></a></li><li><a target="_blank" rel="noreferrer" href="#custom_sell" class=""><code>custom_sell()</code> -&gt; <code>custom_exit()</code></a></li><li><a target="_blank" rel="noreferrer" href="#custom_entry_timeout" class=""><code>check_buy_timeout()</code> -&gt; <code>check_entry_timeout()</code></a></li><li><a target="_blank" rel="noreferrer" href="#custom_entry_timeout" class=""><code>check_sell_timeout()</code> -&gt; <code>check_exit_timeout()</code></a></li><li>没有交易对象的回调新增 <code>side</code> 参数<ul><li><a target="_blank" rel="noreferrer" href="#custom_stake_amount" class=""><code>custom_stake_amount</code></a></li><li><a target="_blank" rel="noreferrer" href="#confirm_trade_entry" class=""><code>confirm_trade_entry</code></a></li><li><a target="_blank" rel="noreferrer" href="#custom_entry_price" class=""><code>custom_entry_price</code></a></li></ul></li><li><a target="_blank" rel="noreferrer" href="#confirm_trade_exit" class=""><code>confirm_trade_exit</code> 中更改参数名称</a></li></ul></li><li>数据框列：<ul><li><a target="_blank" rel="noreferrer" href="#populate_buy_trend" class=""><code>buy</code> -&gt; <code>enter_long</code></a></li><li><a target="_blank" rel="noreferrer" href="#populate_sell_trend" class=""><code>sell</code> -&gt; <code>exit_long</code></a></li><li><a target="_blank" rel="noreferrer" href="#populate_buy_trend" class=""><code>buy_tag</code> -&gt; <code>enter_tag</code>（用于多头和空头交易）</a></li><li><a target="_blank" rel="noreferrer" href="#populate_sell_trend" class="">新增列 <code>enter_short</code> 和相应的新列 <code>exit_short</code></a></li></ul></li><li>trade-object 现在有以下新属性：<ul><li><code>is_short</code></li><li><code>entry_side</code></li><li><code>exit_side</code></li><li><code>trade_direction</code></li><li>重命名：<code>sell_reason</code> -&gt; <code>exit_reason</code></li></ul></li><li><a target="_blank" rel="noreferrer" href="#adjust-trade-position-changes" class="">将 <code>trade.nr_of_successful_buys</code> 重命名为 <code>trade.nr_of_successful_entries</code>（主要与 <code>adjust_trade_position()</code> 相关）</a></li><li>引入新的 <span data-state="closed"><a class="hover-link" href="/strategy-callbacks"><code>leverage</code> 回调</a></span>。</li><li>信息对现在可以在元组中传递第三个元素，定义蜡烛类型。</li><li><code>@informative</code> 装饰器现在接受可选的 <code>candle_type</code> 参数。</li><li><a target="_blank" rel="noreferrer" href="#helper-methods" class="">辅助方法</a> <code>stoploss_from_open</code> 和 <code>stoploss_from_absolute</code> 现在接受 <code>is_short</code> 作为附加参数。</li><li><code>INTERFACE_VERSION</code> 应设置为 3。</li><li><a target="_blank" rel="noreferrer" href="#strategyconfiguration-settings" class="">策略/配置设置</a>。<ul><li><code>order_time_in_force</code> buy -&gt; entry, sell -&gt; exit。</li><li><code>order_types</code> buy -&gt; entry, sell -&gt; exit。</li><li><code>unfilledtimeout</code> buy -&gt; entry, sell -&gt; exit。</li><li><code>ignore_buying_expired_candle_after</code> -&gt; 移到根级别而不是 “ask_strategy/exit_pricing”</li></ul></li><li>术语更改<ul><li>卖出原因改为反映新的&quot;exit&quot;命名而不是 sells。如果你在策略中使用 <code>exit_reason</code> 检查，请小心并最终更新你的策略。<ul><li><code>sell_signal</code> -&gt; <code>exit_signal</code></li><li><code>custom_sell</code> -&gt; <code>custom_exit</code></li><li><code>force_sell</code> -&gt; <code>force_exit</code></li><li><code>emergency_sell</code> -&gt; <code>emergency_exit</code></li></ul></li><li>订单定价<ul><li><code>bid_strategy</code> -&gt; <code>entry_pricing</code></li><li><code>ask_strategy</code> -&gt; <code>exit_pricing</code></li><li><code>ask_last_balance</code> -&gt; <code>price_last_balance</code></li><li><code>bid_last_balance</code> -&gt; <code>price_last_balance</code></li></ul></li><li>Webhook 术语从&quot;sell&quot;改为&quot;exit&quot;，从&quot;buy&quot;改为 entry<ul><li><code>webhookbuy</code> -&gt; <code>entry</code></li><li><code>webhookbuyfill</code> -&gt; <code>entry_fill</code></li><li><code>webhookbuycancel</code> -&gt; <code>entry_cancel</code></li><li><code>webhooksell</code> -&gt; <code>exit</code></li><li><code>webhooksellfill</code> -&gt; <code>exit_fill</code></li><li><code>webhooksellcancel</code> -&gt; <code>exit_cancel</code></li></ul></li><li>Telegram 通知设置<ul><li><code>buy</code> -&gt; <code>entry</code></li><li><code>buy_fill</code> -&gt; <code>entry_fill</code></li><li><code>buy_cancel</code> -&gt; <code>entry_cancel</code></li><li><code>sell</code> -&gt; <code>exit</code></li><li><code>sell_fill</code> -&gt; <code>exit_fill</code></li><li><code>sell_cancel</code> -&gt; <code>exit_cancel</code></li></ul></li><li>策略/配置设置：<ul><li><code>use_sell_signal</code> -&gt; <code>use_exit_signal</code></li><li><code>sell_profit_only</code> -&gt; <code>exit_profit_only</code></li><li><code>sell_profit_offset</code> -&gt; <code>exit_profit_offset</code></li><li><code>ignore_roi_if_buy_signal</code> -&gt; <code>ignore_roi_if_entry_signal</code></li><li><code>forcebuy_enable</code> -&gt; <code>force_entry_enable</code></li></ul></li></ul></li></ul><h3 id="id-1" class="relative group"><span class="heading-text">详细说明</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><h4 id="populate-buy-trend" class="relative group"><span class="heading-text"><code>populate_buy_trend</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#populate-buy-trend" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>在 <code>populate_buy_trend()</code> 中 - 你需要将分配的列从 <code>&#x27;buy&#x27;</code> 改为 <code>&#x27;enter_long&#x27;</code>，同时将方法名从 <code>populate_buy_trend</code> 改为 <code>populate_entry_trend</code>。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def populate_buy_trend(self, dataframe: DataFrame, metadata: dict) -&gt; DataFrame:
    dataframe.loc[
        (
            (qtpylib.crossed_above(dataframe[&#x27;rsi&#x27;], 30)) &amp;  # 信号：RSI 上穿 30
            (dataframe[&#x27;tema&#x27;] &lt;= dataframe[&#x27;bb_middleband&#x27;]) &amp;  # 守卫
            (dataframe[&#x27;tema&#x27;] &gt; dataframe[&#x27;tema&#x27;].shift(1)) &amp;  # 守卫
            (dataframe[&#x27;volume&#x27;] &gt; 0)  # 确保成交量不为 0
        ),
        [&#x27;buy&#x27;, &#x27;buy_tag&#x27;]] = (1, &#x27;rsi_cross&#x27;)

    return dataframe</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def populate_entry_trend(self, dataframe: DataFrame, metadata: dict) -&gt; DataFrame:
    dataframe.loc[
        (
            (qtpylib.crossed_above(dataframe[&#x27;rsi&#x27;], 30)) &amp;  # 信号：RSI 上穿 30
            (dataframe[&#x27;tema&#x27;] &lt;= dataframe[&#x27;bb_middleband&#x27;]) &amp;  # 守卫
            (dataframe[&#x27;tema&#x27;] &gt; dataframe[&#x27;tema&#x27;].shift(1)) &amp;  # 守卫
            (dataframe[&#x27;volume&#x27;] &gt; 0)  # 确保成交量不为 0
        ),
        [&#x27;enter_long&#x27;, &#x27;enter_tag&#x27;]] = (1, &#x27;rsi_cross&#x27;)

    return dataframe</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>请参阅<span data-state="closed"><a class="hover-link" href="/strategy-customization">策略文档</a></span>了解如何入场和出场空头交易。</p><h4 id="populate-sell-trend" class="relative group"><span class="heading-text"><code>populate_sell_trend</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#populate-sell-trend" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>与 <code>populate_buy_trend</code> 类似，<code>populate_sell_trend()</code> 将重命名为 <code>populate_exit_trend()</code>。
我们还将列从 <code>&#x27;sell&#x27;</code> 改为 <code>&#x27;exit_long&#x27;</code>。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def populate_sell_trend(self, dataframe: DataFrame, metadata: dict) -&gt; DataFrame:
    dataframe.loc[
        (
            (qtpylib.crossed_above(dataframe[&#x27;rsi&#x27;], 70)) &amp;  # 信号：RSI 上穿 70
            (dataframe[&#x27;tema&#x27;] &gt; dataframe[&#x27;bb_middleband&#x27;]) &amp;  # 守卫
            (dataframe[&#x27;tema&#x27;] &lt; dataframe[&#x27;tema&#x27;].shift(1)) &amp;  # 守卫
            (dataframe[&#x27;volume&#x27;] &gt; 0)  # 确保成交量不为 0
        ),
        [&#x27;sell&#x27;, &#x27;exit_tag&#x27;]] = (1, &#x27;some_exit_tag&#x27;)
    return dataframe</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def populate_exit_trend(self, dataframe: DataFrame, metadata: dict) -&gt; DataFrame:
    dataframe.loc[
        (
            (qtpylib.crossed_above(dataframe[&#x27;rsi&#x27;], 70)) &amp;  # 信号：RSI 上穿 70
            (dataframe[&#x27;tema&#x27;] &gt; dataframe[&#x27;bb_middleband&#x27;]) &amp;  # 守卫
            (dataframe[&#x27;tema&#x27;] &lt; dataframe[&#x27;tema&#x27;].shift(1)) &amp;  # 守卫
            (dataframe[&#x27;volume&#x27;] &gt; 0)  # 确保成交量不为 0
        ),
        [&#x27;exit_long&#x27;, &#x27;exit_tag&#x27;]] = (1, &#x27;some_exit_tag&#x27;)
    return dataframe</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>请参阅<span data-state="closed"><a class="hover-link" href="/strategy-customization">策略文档</a></span>了解如何入场和出场空头交易。</p><h4 id="custom-sell" class="relative group"><span class="heading-text"><code>custom_sell</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#custom-sell" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p><code>custom_sell</code> 已重命名为 <code>custom_exit</code>。
它现在也会在每次迭代时被调用，与当前利润和 <code>exit_profit_only</code> 设置无关。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def custom_sell(self, pair: str, trade: &#x27;Trade&#x27;, current_time: &#x27;datetime&#x27;, current_rate: float,
                    current_profit: float, **kwargs):
        dataframe, _ = self.dp.get_analyzed_dataframe(pair, self.timeframe)
        last_candle = dataframe.iloc[-1].squeeze()
        # ...</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def custom_exit(self, pair: str, trade: &#x27;Trade&#x27;, current_time: &#x27;datetime&#x27;, current_rate: float,
                    current_profit: float, **kwargs):
        dataframe, _ = self.dp.get_analyzed_dataframe(pair, self.timeframe)
        last_candle = dataframe.iloc[-1].squeeze()
        # ...</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="custom-entry-timeout" class="relative group"><span class="heading-text"><code>custom_entry_timeout</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#custom-entry-timeout" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p><code>check_buy_timeout()</code> 已重命名为 <code>check_entry_timeout()</code>，<code>check_sell_timeout()</code> 已重命名为 <code>check_exit_timeout()</code>。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def check_buy_timeout(self, pair: str, trade: &#x27;Trade&#x27;, order: dict, 
                            current_time: datetime, **kwargs) -&gt; bool:
        return False

    def check_sell_timeout(self, pair: str, trade: &#x27;Trade&#x27;, order: dict, 
                            current_time: datetime, **kwargs) -&gt; bool:
        return False </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def check_entry_timeout(self, pair: str, trade: &#x27;Trade&#x27;, order: &#x27;Order&#x27;, 
                            current_time: datetime, **kwargs) -&gt; bool:
        return False

    def check_exit_timeout(self, pair: str, trade: &#x27;Trade&#x27;, order: &#x27;Order&#x27;, 
                            current_time: datetime, **kwargs) -&gt; bool:
        return False </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="custom-stake-amount" class="relative group"><span class="heading-text"><code>custom_stake_amount</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#custom-stake-amount" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>新增字符串参数 <code>side</code> - 可以是 <code>&quot;long&quot;</code> 或 <code>&quot;short&quot;</code>。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def custom_stake_amount(self, pair: str, current_time: datetime, current_rate: float,
                            proposed_stake: float, min_stake: Optional[float], max_stake: float,
                            entry_tag: Optional[str], **kwargs) -&gt; float:
        # ... 
        return proposed_stake</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def custom_stake_amount(self, pair: str, current_time: datetime, current_rate: float,
                            proposed_stake: float, min_stake: float | None, max_stake: float,
                            entry_tag: str | None, side: str, **kwargs) -&gt; float:
        # ... 
        return proposed_stake</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="confirm-trade-entry" class="relative group"><span class="heading-text"><code>confirm_trade_entry</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#confirm-trade-entry" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>新增字符串参数 <code>side</code> - 可以是 <code>&quot;long&quot;</code> 或 <code>&quot;short&quot;</code>。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def confirm_trade_entry(self, pair: str, order_type: str, amount: float, rate: float,
                            time_in_force: str, current_time: datetime, entry_tag: Optional[str], 
                            **kwargs) -&gt; bool:
      return True</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def confirm_trade_entry(self, pair: str, order_type: str, amount: float, rate: float,
                            time_in_force: str, current_time: datetime, entry_tag: str | None, 
                            side: str, **kwargs) -&gt; bool:
      return True</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="confirm-trade-exit" class="relative group"><span class="heading-text"><code>confirm_trade_exit</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#confirm-trade-exit" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>将参数 <code>sell_reason</code> 改为 <code>exit_reason</code>。
为了兼容性，<code>sell_reason</code> 仍将在有限时间内提供。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def confirm_trade_exit(self, pair: str, trade: Trade, order_type: str, amount: float,
                           rate: float, time_in_force: str, sell_reason: str,
                           current_time: datetime, **kwargs) -&gt; bool:
    return True</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def confirm_trade_exit(self, pair: str, trade: Trade, order_type: str, amount: float,
                           rate: float, time_in_force: str, exit_reason: str,
                           current_time: datetime, **kwargs) -&gt; bool:
    return True</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="custom-entry-price" class="relative group"><span class="heading-text"><code>custom_entry_price</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#custom-entry-price" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>新增字符串参数 <code>side</code> - 可以是 <code>&quot;long&quot;</code> 或 <code>&quot;short&quot;</code>。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def custom_entry_price(self, pair: str, current_time: datetime, proposed_rate: float,
                           entry_tag: Optional[str], **kwargs) -&gt; float:
      return proposed_rate</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class AwesomeStrategy(IStrategy):
    def custom_entry_price(self, pair: str, trade: Trade | None, current_time: datetime, proposed_rate: float,
                           entry_tag: str | None, side: str, **kwargs) -&gt; float:
      return proposed_rate</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="id-2" class="relative group"><span class="heading-text">调整交易仓位更改</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>虽然 adjust-trade-position 本身没有改变，但你不应该再使用 <code>trade.nr_of_successful_buys</code> - 而是使用 <code>trade.nr_of_successful_entries</code>，它也将包括空头入场。</p><h4 id="id-3" class="relative group"><span class="heading-text">辅助方法</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>为 <code>stoploss_from_open</code> 和 <code>stoploss_from_absolute</code> 添加参数 “is_short”。
这应该给出 <code>trade.is_short</code> 的值。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    def custom_stoploss(self, pair: str, trade: &#x27;Trade&#x27;, current_time: datetime,
                        current_rate: float, current_profit: float, **kwargs) -&gt; float:
        # 一旦利润上升到 10% 以上，将止损保持在开盘价上方 7%
        if current_profit &gt; 0.10:
            return stoploss_from_open(0.07, current_profit)

        return stoploss_from_absolute(current_rate - (candle[&#x27;atr&#x27;] * 2), current_rate)

        return 1
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    def custom_stoploss(self, pair: str, trade: &#x27;Trade&#x27;, current_time: datetime,
                        current_rate: float, current_profit: float, after_fill: bool, 
                        **kwargs) -&gt; float | None:
        # 一旦利润上升到 10% 以上，将止损保持在开盘价上方 7%
        if current_profit &gt; 0.10:
            return stoploss_from_open(0.07, current_profit, is_short=trade.is_short)

        return stoploss_from_absolute(current_rate - (candle[&#x27;atr&#x27;] * 2), current_rate, is_short=trade.is_short, leverage=trade.leverage)

</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="id-4" class="relative group"><span class="heading-text">策略/配置设置</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-4" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><h5 id="order-time-in-force" class="relative group"><span class="heading-text"><code>order_time_in_force</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#order-time-in-force" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p><code>order_time_in_force</code> 属性从 <code>&quot;buy&quot;</code> 改为 <code>&quot;entry&quot;</code>，从 <code>&quot;sell&quot;</code> 改为 <code>&quot;exit&quot;</code>。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    order_time_in_force: dict = {
        &quot;buy&quot;: &quot;gtc&quot;,
        &quot;sell&quot;: &quot;gtc&quot;,
    }</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    order_time_in_force: dict = {
        &quot;entry&quot;: &quot;GTC&quot;,
        &quot;exit&quot;: &quot;GTC&quot;,
    }</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h5 id="order-types" class="relative group"><span class="heading-text"><code>order_types</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#order-types" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p><code>order_types</code> 已将所有措辞从 <code>buy</code> 改为 <code>entry</code> - 从 <code>sell</code> 改为 <code>exit</code>。
并且两个词用 <code>_</code> 连接。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    order_types = {
        &quot;buy&quot;: &quot;limit&quot;,
        &quot;sell&quot;: &quot;limit&quot;,
        &quot;emergencysell&quot;: &quot;market&quot;,
        &quot;forcesell&quot;: &quot;market&quot;,
        &quot;forcebuy&quot;: &quot;market&quot;,
        &quot;stoploss&quot;: &quot;market&quot;,
        &quot;stoploss_on_exchange&quot;: false,
        &quot;stoploss_on_exchange_interval&quot;: 60
    }</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    order_types = {
        &quot;entry&quot;: &quot;limit&quot;,
        &quot;exit&quot;: &quot;limit&quot;,
        &quot;emergency_exit&quot;: &quot;market&quot;,
        &quot;force_exit&quot;: &quot;market&quot;,
        &quot;force_entry&quot;: &quot;market&quot;,
        &quot;stoploss&quot;: &quot;market&quot;,
        &quot;stoploss_on_exchange&quot;: false,
        &quot;stoploss_on_exchange_interval&quot;: 60
    }</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h5 id="id-5" class="relative group"><span class="heading-text">策略级别设置</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-5" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><ul><li><code>use_sell_signal</code> -&gt; <code>use_exit_signal</code></li><li><code>sell_profit_only</code> -&gt; <code>exit_profit_only</code></li><li><code>sell_profit_offset</code> -&gt; <code>exit_profit_offset</code></li><li><code>ignore_roi_if_buy_signal</code> -&gt; <code>ignore_roi_if_entry_signal</code></li></ul><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    # 这些值可以在配置中被覆盖。
    use_sell_signal = True
    sell_profit_only = True
    sell_profit_offset: 0.01
    ignore_roi_if_buy_signal = False</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    # 这些值可以在配置中被覆盖。
    use_exit_signal = True
    exit_profit_only = True
    exit_profit_offset: 0.01
    ignore_roi_if_entry_signal = False</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h5 id="unfilledtimeout" class="relative group"><span class="heading-text"><code>unfilledtimeout</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#unfilledtimeout" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p><code>unfilledtimeout</code> 已将所有措辞从 <code>buy</code> 改为 <code>entry</code> - 从 <code>sell</code> 改为 <code>exit</code>。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">unfilledtimeout = {
        &quot;buy&quot;: 10,
        &quot;sell&quot;: 10,
        &quot;exit_timeout_count&quot;: 0,
        &quot;unit&quot;: &quot;minutes&quot;
    }</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">unfilledtimeout = {
        &quot;entry&quot;: 10,
        &quot;exit&quot;: 10,
        &quot;exit_timeout_count&quot;: 0,
        &quot;unit&quot;: &quot;minutes&quot;
    }</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h5 id="order-pricing" class="relative group"><span class="heading-text"><code>order pricing</code></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#order-pricing" title="Link to this Section" aria-label="Link to this Section">¶</a></h5><p>订单定价有两种变化。<code>bid_strategy</code> 重命名为 <code>entry_pricing</code>，<code>ask_strategy</code> 重命名为 <code>exit_pricing</code>。
属性 <code>ask_last_balance</code> -&gt; <code>price_last_balance</code> 和 <code>bid_last_balance</code> -&gt; <code>price_last_balance</code> 也被重命名。
此外，价格端现在可以定义为 <code>ask</code>、<code>bid</code>、<code>same</code> 或 <code>other</code>。
请参阅<span data-state="closed"><a class="hover-link" href="/configuration">定价文档</a></span>了解更多信息。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-json" style="white-space:pre">{
    &quot;bid_strategy&quot;: {
        &quot;price_side&quot;: &quot;bid&quot;,
        &quot;use_order_book&quot;: true,
        &quot;order_book_top&quot;: 1,
        &quot;ask_last_balance&quot;: 0.0,
        &quot;check_depth_of_market&quot;: {
            &quot;enabled&quot;: false,
            &quot;bids_to_ask_delta&quot;: 1
        }
    },
    &quot;ask_strategy&quot;:{
        &quot;price_side&quot;: &quot;ask&quot;,
        &quot;use_order_book&quot;: true,
        &quot;order_book_top&quot;: 1,
        &quot;bid_last_balance&quot;: 0.0
        &quot;ignore_buying_expired_candle_after&quot;: 120
    }
}</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>之后：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-json" style="white-space:pre">{
    &quot;entry_pricing&quot;: {
        &quot;price_side&quot;: &quot;same&quot;,
        &quot;use_order_book&quot;: true,
        &quot;order_book_top&quot;: 1,
        &quot;price_last_balance&quot;: 0.0,
        &quot;check_depth_of_market&quot;: {
            &quot;enabled&quot;: false,
            &quot;bids_to_ask_delta&quot;: 1
        }
    },
    &quot;exit_pricing&quot;:{
        &quot;price_side&quot;: &quot;same&quot;,
        &quot;use_order_book&quot;: true,
        &quot;order_book_top&quot;: 1,
        &quot;price_last_balance&quot;: 0.0
    },
    &quot;ignore_buying_expired_candle_after&quot;: 120
}</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h3 id="freqai" class="relative group"><span class="heading-text">FreqAI 策略</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#freqai" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><code>populate_any_indicators()</code> 方法已被拆分为 <code>feature_engineering_expand_all()</code>、<code>feature_engineering_expand_basic()</code>、<code>feature_engineering_standard()</code> 和 <code>set_freqai_targets()</code>。</p><p>对于每个新函数，交易对（和必要的时间框架）将自动添加到列中。
因此，使用新逻辑定义特征变得更加简单。</p><p>有关每个方法的完整说明，请转到相应的 <span data-state="closed"><a class="hover-link" href="/freqai-feature-engineering">freqAI 文档页面</a></span></p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">
def populate_any_indicators(
        self, pair, df, tf, informative=None, set_generalized_indicators=False
    ):

        if informative is None:
            informative = self.dp.get_pair_dataframe(pair, tf)

        # 第一个循环自动复制时间周期的指标
        for t in self.freqai_info[&quot;feature_parameters&quot;][&quot;indicator_periods_candles&quot;]:

            t = int(t)
            informative[f&quot;%-{pair}rsi-period_{t}&quot;] = ta.RSI(informative, timeperiod=t)
            informative[f&quot;%-{pair}mfi-period_{t}&quot;] = ta.MFI(informative, timeperiod=t)
            informative[f&quot;%-{pair}adx-period_{t}&quot;] = ta.ADX(informative, timeperiod=t)
            informative[f&quot;%-{pair}sma-period_{t}&quot;] = ta.SMA(informative, timeperiod=t)
            informative[f&quot;%-{pair}ema-period_{t}&quot;] = ta.EMA(informative, timeperiod=t)

            bollinger = qtpylib.bollinger_bands(
                qtpylib.typical_price(informative), window=t, stds=2.2
            )
            informative[f&quot;{pair}bb_lowerband-period_{t}&quot;] = bollinger[&quot;lower&quot;]
            informative[f&quot;{pair}bb_middleband-period_{t}&quot;] = bollinger[&quot;mid&quot;]
            informative[f&quot;{pair}bb_upperband-period_{t}&quot;] = bollinger[&quot;upper&quot;]

            informative[f&quot;%-{pair}bb_width-period_{t}&quot;] = (
                informative[f&quot;{pair}bb_upperband-period_{t}&quot;]
                - informative[f&quot;{pair}bb_lowerband-period_{t}&quot;]
            ) / informative[f&quot;{pair}bb_middleband-period_{t}&quot;]
            informative[f&quot;%-{pair}close-bb_lower-period_{t}&quot;] = (
                informative[&quot;close&quot;] / informative[f&quot;{pair}bb_lowerband-period_{t}&quot;]
            )

            informative[f&quot;%-{pair}roc-period_{t}&quot;] = ta.ROC(informative, timeperiod=t)

            informative[f&quot;%-{pair}relative_volume-period_{t}&quot;] = (
                informative[&quot;volume&quot;] / informative[&quot;volume&quot;].rolling(t).mean()
            ) # (1)

        informative[f&quot;%-{pair}pct-change&quot;] = informative[&quot;close&quot;].pct_change()
        informative[f&quot;%-{pair}raw_volume&quot;] = informative[&quot;volume&quot;]
        informative[f&quot;%-{pair}raw_price&quot;] = informative[&quot;close&quot;]
        # (2)

        indicators = [col for col in informative if col.startswith(&quot;%&quot;)]
        # 这个循环复制并移动所有指标，为数据添加时效性
        for n in range(self.freqai_info[&quot;feature_parameters&quot;][&quot;include_shifted_candles&quot;] + 1):
            if n == 0:
                continue
            informative_shift = informative[indicators].shift(n)
            informative_shift = informative_shift.add_suffix(&quot;_shift-&quot; + str(n))
            informative = pd.concat((informative, informative_shift), axis=1)

        df = merge_informative_pair(df, informative, self.config[&quot;timeframe&quot;], tf, ffill=True)
        skip_columns = [
            (s + &quot;_&quot; + tf) for s in [&quot;date&quot;, &quot;open&quot;, &quot;high&quot;, &quot;low&quot;, &quot;close&quot;, &quot;volume&quot;]
        ]
        df = df.drop(columns=skip_columns)

        # 在这里添加通用指标（因为在实盘中，它将调用此函数在训练期间填充指标）。注意我们如何确保不多次添加它们
        if set_generalized_indicators:
            df[&quot;%-day_of_week&quot;] = (df[&quot;date&quot;].dt.dayofweek + 1) / 7
            df[&quot;%-hour_of_day&quot;] = (df[&quot;date&quot;].dt.hour + 1) / 25
            # (3)

            # 用户通过在前面添加 &amp;- 来添加目标（见下面的约定）
            df[&quot;&amp;-s_close&quot;] = (
                df[&quot;close&quot;]
                .shift(-self.freqai_info[&quot;feature_parameters&quot;][&quot;label_period_candles&quot;])
                .rolling(self.freqai_info[&quot;feature_parameters&quot;][&quot;label_period_candles&quot;])
                .mean()
                / df[&quot;close&quot;]
                - 1
            )  # (4)

        return df</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><ol start="1"><li>特征 - 移到 <code>feature_engineering_expand_all</code></li><li>基本特征，不在 <code>indicator_periods_candles</code> 中扩展 - 移到 <code>feature_engineering_expand_basic()</code>。</li><li>不应扩展的标准特征 - 移到 <code>feature_engineering_standard()</code>。</li><li>目标 - 移到 <code>set_freqai_targets()</code>。</li></ol><h4 id="freqai-1" class="relative group"><span class="heading-text">freqai - 特征工程扩展全部</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#freqai-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>特征现在会自动扩展。因此，需要删除扩展循环以及 <code>{pair}</code> / <code>{timeframe}</code> 部分。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    def feature_engineering_expand_all(self, dataframe, period, **kwargs) -&gt; DataFrame::
        &quot;&quot;&quot;
        *仅在使用 FreqAI 启用的策略时有效*
        此函数将根据配置定义的 `indicator_periods_candles`、`include_timeframes`、`include_shifted_candles` 和 `include_corr_pairs` 自动扩展定义的特征。
        换句话说，在此函数中定义的单个特征将自动扩展为总共
        `indicator_periods_candles` * `include_timeframes` * `include_shifted_candles` *
        `include_corr_pairs` 个添加到模型的特征。

        所有特征必须以 `%` 开头才能被 FreqAI 内部识别。

        有关这些配置定义的参数如何加速特征工程的更多详细信息，请参阅文档：

        https://www.freqtrade.io/en/latest/freqai-parameter-table/#feature-parameters

        https://www.freqtrade.io/en/latest/freqai-feature-engineering/#defining-the-features

        :param df: 将接收特征的策略数据框
        :param period: 指标的周期 - 使用示例：
        dataframe[&quot;%-ema-period&quot;] = ta.EMA(dataframe, timeperiod=period)
        &quot;&quot;&quot;

        dataframe[&quot;%-rsi-period&quot;] = ta.RSI(dataframe, timeperiod=period)
        dataframe[&quot;%-mfi-period&quot;] = ta.MFI(dataframe, timeperiod=period)
        dataframe[&quot;%-adx-period&quot;] = ta.ADX(dataframe, timeperiod=period)
        dataframe[&quot;%-sma-period&quot;] = ta.SMA(dataframe, timeperiod=period)
        dataframe[&quot;%-ema-period&quot;] = ta.EMA(dataframe, timeperiod=period)

        bollinger = qtpylib.bollinger_bands(
            qtpylib.typical_price(dataframe), window=period, stds=2.2
        )
        dataframe[&quot;bb_lowerband-period&quot;] = bollinger[&quot;lower&quot;]
        dataframe[&quot;bb_middleband-period&quot;] = bollinger[&quot;mid&quot;]
        dataframe[&quot;bb_upperband-period&quot;] = bollinger[&quot;upper&quot;]

        dataframe[&quot;%-bb_width-period&quot;] = (
            dataframe[&quot;bb_upperband-period&quot;]
            - dataframe[&quot;bb_lowerband-period&quot;]
        ) / dataframe[&quot;bb_middleband-period&quot;]
        dataframe[&quot;%-close-bb_lower-period&quot;] = (
            dataframe[&quot;close&quot;] / dataframe[&quot;bb_lowerband-period&quot;]
        )

        dataframe[&quot;%-roc-period&quot;] = ta.ROC(dataframe, timeperiod=period)

        dataframe[&quot;%-relative_volume-period&quot;] = (
            dataframe[&quot;volume&quot;] / dataframe[&quot;volume&quot;].rolling(period).mean()
        )

        return dataframe
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="freqai-2" class="relative group"><span class="heading-text">Freqai - 特征工程基础</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#freqai-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>基本特征。确保从特征中删除 <code>{pair}</code> 部分。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    def feature_engineering_expand_basic(self, dataframe: DataFrame, **kwargs) -&gt; DataFrame::
        &quot;&quot;&quot;
        *仅在使用 FreqAI 启用的策略时有效*
        此函数将根据配置定义的 `include_timeframes`、`include_shifted_candles` 和 `include_corr_pairs` 自动扩展定义的特征。
        换句话说，在此函数中定义的单个特征将自动扩展为总共
        `include_timeframes` * `include_shifted_candles` * `include_corr_pairs`
        个添加到模型的特征。

        此处定义的特征将*不会*在用户定义的 `indicator_periods_candles` 上自动复制

        所有特征必须以 `%` 开头才能被 FreqAI 内部识别。

        有关这些配置定义的参数如何加速特征工程的更多详细信息，请参阅文档：

        https://www.freqtrade.io/en/latest/freqai-parameter-table/#feature-parameters

        https://www.freqtrade.io/en/latest/freqai-feature-engineering/#defining-the-features

        :param df: 将接收特征的策略数据框
        dataframe[&quot;%-pct-change&quot;] = dataframe[&quot;close&quot;].pct_change()
        dataframe[&quot;%-ema-200&quot;] = ta.EMA(dataframe, timeperiod=200)
        &quot;&quot;&quot;
        dataframe[&quot;%-pct-change&quot;] = dataframe[&quot;close&quot;].pct_change()
        dataframe[&quot;%-raw_volume&quot;] = dataframe[&quot;volume&quot;]
        dataframe[&quot;%-raw_price&quot;] = dataframe[&quot;close&quot;]
        return dataframe</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="freqai-3" class="relative group"><span class="heading-text">FreqAI - 特征工程标准</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#freqai-3" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    def feature_engineering_standard(self, dataframe: DataFrame, **kwargs) -&gt; DataFrame:
        &quot;&quot;&quot;
        *仅在使用 FreqAI 启用的策略时有效*
        此可选函数将使用基本时间框架的数据框调用一次。
        这是要调用的最终函数，这意味着进入此函数的数据框将包含所有其他
        freqai_feature_engineering_* 函数创建的所有特征和列。

        此函数是进行自定义异国特征提取的好地方（例如 tsfresh）。
        此函数是任何不应自动扩展的特征的好地方（例如星期几）。

        所有特征必须以 `%` 开头才能被 FreqAI 内部识别。

        有关特征工程的更多详细信息：

        https://www.freqtrade.io/en/latest/freqai-feature-engineering

        :param df: 将接收特征的策略数据框
        使用示例：dataframe[&quot;%-day_of_week&quot;] = (dataframe[&quot;date&quot;].dt.dayofweek + 1) / 7
        &quot;&quot;&quot;
        dataframe[&quot;%-day_of_week&quot;] = dataframe[&quot;date&quot;].dt.dayofweek
        dataframe[&quot;%-hour_of_day&quot;] = dataframe[&quot;date&quot;].dt.hour
        return dataframe</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="freqai-4" class="relative group"><span class="heading-text">FreqAI - 设置目标</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#freqai-4" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>目标现在有了自己的专用方法。</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">    def set_freqai_targets(self, dataframe: DataFrame, **kwargs) -&gt; DataFrame:
        &quot;&quot;&quot;
        *仅在使用 FreqAI 启用的策略时有效*
        设置模型目标的必需函数。
        所有目标必须以 `&amp;` 开头才能被 FreqAI 内部识别。

        有关特征工程的更多详细信息：

        https://www.freqtrade.io/en/latest/freqai-feature-engineering

        :param df: 将接收目标的策略数据框
        使用示例：dataframe[&quot;&amp;-target&quot;] = dataframe[&quot;close&quot;].shift(-1) / dataframe[&quot;close&quot;]
        &quot;&quot;&quot;
        dataframe[&quot;&amp;-s_close&quot;] = (
            dataframe[&quot;close&quot;]
            .shift(-self.freqai_info[&quot;feature_parameters&quot;][&quot;label_period_candles&quot;])
            .rolling(self.freqai_info[&quot;feature_parameters&quot;][&quot;label_period_candles&quot;])
            .mean()
            / dataframe[&quot;close&quot;]
            - 1
            )

        return dataframe</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="freqai-5" class="relative group"><span class="heading-text">FreqAI - 新数据管道</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#freqai-5" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>如果你创建了自己的自定义 <code>IFreqaiModel</code>，带有自定义 <code>train()</code>/<code>predict()</code> 函数，<em>并且</em>你仍然依赖 <code>data_cleaning_train/predict()</code>，那么你需要迁移到新的管道。如果你的模型<em>不</em>依赖 <code>data_cleaning_train/predict()</code>，那么你不需要担心这个迁移。这意味着这个迁移指南只与很小一部分高级用户相关。如果你偶然看到这个指南，欢迎在 Freqtrade discord 服务器上深入询问你的问题。</p><p>转换涉及首先删除 <code>data_cleaning_train/predict()</code>，并用 <code>define_data_pipeline()</code> 和 <code>define_label_pipeline()</code> 函数替换它们到你的 <code>IFreqaiModel</code> 类：</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">class MyCoolFreqaiModel(BaseRegressionModel):
    &quot;&quot;&quot;
    你在 Freqtrade 版本 2023.6 之前制作的一些很酷的自定义 IFreqaiModel
    &quot;&quot;&quot;
    def train(
        self, unfiltered_df: DataFrame, pair: str, dk: FreqaiDataKitchen, **kwargs
    ) -&gt; Any:

        # ... 你的自定义内容

        # 删除这些行
        # data_dictionary = dk.make_train_test_datasets(features_filtered, labels_filtered)
        # self.data_cleaning_train(dk)
        # data_dictionary = dk.normalize_data(data_dictionary)
        # (1)

        # 添加这些行。现在我们自己控制管道的 fit/transform
        dd = dk.make_train_test_datasets(features_filtered, labels_filtered)
        dk.feature_pipeline = self.define_data_pipeline(threads=dk.thread_count)
        dk.label_pipeline = self.define_label_pipeline(threads=dk.thread_count)

        (dd[&quot;train_features&quot;],
         dd[&quot;train_labels&quot;],
         dd[&quot;train_weights&quot;]) = dk.feature_pipeline.fit_transform(dd[&quot;train_features&quot;],
                                                                  dd[&quot;train_labels&quot;],
                                                                  dd[&quot;train_weights&quot;])

        (dd[&quot;test_features&quot;],
         dd[&quot;test_labels&quot;],
         dd[&quot;test_weights&quot;]) = dk.feature_pipeline.transform(dd[&quot;test_features&quot;],
                                                             dd[&quot;test_labels&quot;],
                                                             dd[&quot;test_weights&quot;])

        dd[&quot;train_labels&quot;], _, _ = dk.label_pipeline.fit_transform(dd[&quot;train_labels&quot;])
        dd[&quot;test_labels&quot;], _, _ = dk.label_pipeline.transform(dd[&quot;test_labels&quot;])

        # ... 你的自定义代码

        return model

    def predict(
        self, unfiltered_df: DataFrame, dk: FreqaiDataKitchen, **kwargs
    ) -&gt; tuple[DataFrame, npt.NDArray[np.int_]]:

        # ... 你的自定义内容

        # 删除这些行：
        # self.data_cleaning_predict(dk)
        # (2)

        # 添加这些行：
        dk.data_dictionary[&quot;prediction_features&quot;], outliers, _ = dk.feature_pipeline.transform(
            dk.data_dictionary[&quot;prediction_features&quot;], outlier_check=True)

        # 删除这行
        # pred_df = dk.denormalize_labels_from_metadata(pred_df)
        # (3)

        # 用这些行替换
        pred_df, _, _ = dk.label_pipeline.inverse_transform(pred_df)
        if self.freqai_info.get(&quot;DI_threshold&quot;, 0) &gt; 0:
            dk.DI_values = dk.feature_pipeline[&quot;di&quot;].di_values
        else:
            dk.DI_values = np.zeros(outliers.shape[0])
        dk.do_predict = outliers

        # ... 你的自定义代码
        return (pred_df, dk.do_predict)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><ol start="1"><li>数据规范化和清理现在与新管道定义统一。这是在新的 <code>define_data_pipeline()</code> 和 <code>define_label_pipeline()</code> 函数中创建的。不再使用 <code>data_cleaning_train()</code> 和 <code>data_cleaning_predict()</code> 函数。如果你愿意，你可以覆盖 <code>define_data_pipeline()</code> 来创建自己的自定义管道。</li><li>数据规范化和清理现在与新管道定义统一。这是在新的 <code>define_data_pipeline()</code> 和 <code>define_label_pipeline()</code> 函数中创建的。不再使用 <code>data_cleaning_train()</code> 和 <code>data_cleaning_predict()</code> 函数。如果你愿意，你可以覆盖 <code>define_data_pipeline()</code> 来创建自己的自定义管道。</li><li>数据反规范化使用新管道完成。用下面的行替换。</li></ol><div></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/faq"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">高级话题</div>FAQ</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/updating"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">高级话题</div>更新指南</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><footer class="article footer article-grid bg-white dark:bg-slate-950 mt-10 shadow-2xl shadow py-10"><div class="" style="text-align:center;padding:20px 0;border-top:1px solid #e5e5e5;color:#666;margin-top:2rem"><p>© 2024 <a target="_blank" rel="noreferrer" href="https://github.com/freqtrade-cn/docs_zh-CN" class="">Freqtrade 中文社区</a> | 基于 <a target="_blank" rel="noreferrer" href="https://www.freqtrade.io" class="">Freqtrade</a> 项目 | 文档由 <a target="_blank" rel="noreferrer" href="https://mystmd.org" class="">MyST</a> 驱动</p><p><a target="_blank" rel="noreferrer" href="https://github.com/freqtrade-cn/docs_zh-CN/issues" class="">报告问题</a> | <a href="https://github.com/freqtrade-cn/docs_zh-CN/blob/main/CONTRIBUTING.md" class="italic" target="_blank" rel="noreferrer" data-state="closed">贡献文档</a> | <a target="_blank" rel="noreferrer" href="https://github.com/freqtrade/freqtrade" class="">Freqtrade GitHub</a></p></div></footer><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-LOSAUO4U.js"/><link rel="modulepreload" href="/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-C7FW3E47.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-ND43KHSX.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-PZGRQ5GW.js"/><link rel="modulepreload" href="/build/_shared/chunk-ESGEJFJ3.js"/><link rel="modulepreload" href="/build/routes/$-IZLSCQFJ.js"/><script>window.__remixContext = {"url":"/strategy-migration","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.0","options":{"logo_text":"Freqtrade 中文文档","custom_footer":"Made with love by Freqtrade-CN🏅🏅","footer_url":"https://github.com/freqtrade-cn/docs_zh-CN"},"parts":{"footer":{"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"div","style":{"textAlign":"center","padding":"20px 0","borderTop":"1px solid #e5e5e5","color":"#666","marginTop":"2rem"},"children":[{"type":"paragraph","children":[{"type":"text","value":"© 2024 ","key":"CkEXPbSRbl"},{"type":"link","url":"https://github.com/freqtrade-cn/docs_zh-CN","children":[{"type":"text","value":"Freqtrade 中文社区","key":"lUtmsL6ufQ"}],"urlSource":"https://github.com/freqtrade-cn/docs_zh-CN","error":true,"key":"Czt46qKv3q"},{"type":"text","value":" | 基于 ","key":"ieJJEBXAG3"},{"type":"link","url":"https://www.freqtrade.io","children":[{"type":"text","value":"Freqtrade","key":"WTZICmWOzh"}],"urlSource":"https://www.freqtrade.io","key":"QlkkYdav8S"},{"type":"text","value":" 项目 | 文档由 ","key":"eTRFuC271E"},{"type":"link","url":"https://mystmd.org","children":[{"type":"text","value":"MyST","key":"VbcMcnIpQ3"}],"urlSource":"https://mystmd.org","key":"KKnAjjjCak"},{"type":"text","value":" 驱动","key":"YYYjavm3H3"}],"key":"wXwo7NuvIp"},{"type":"paragraph","children":[{"type":"link","url":"https://github.com/freqtrade-cn/docs_zh-CN/issues","children":[{"type":"text","value":"报告问题","key":"RgbnjsF9Rd"}],"urlSource":"https://github.com/freqtrade-cn/docs_zh-CN/issues","error":true,"key":"KLoVY0Jgkm"},{"type":"text","value":" | ","key":"N3BDh7lpUx"},{"type":"link","url":"https://github.com/freqtrade-cn/docs_zh-CN/blob/main/CONTRIBUTING.md","children":[{"type":"text","value":"贡献文档","key":"jjE9XWumZh"}],"urlSource":"https://github.com/freqtrade-cn/docs_zh-CN/blob/main/CONTRIBUTING.md","data":{"kind":"file","org":"freqtrade-cn","repo":"docs_zh-CN","reference":"main","file":"CONTRIBUTING.md","raw":"https://raw.githubusercontent.com/freqtrade-cn/docs_zh-CN/main/CONTRIBUTING.md"},"internal":false,"protocol":"github","key":"IGa8TseQcm"},{"type":"text","value":" | ","key":"xf2Giz4Lbs"},{"type":"link","url":"https://github.com/freqtrade/freqtrade","children":[{"type":"text","value":"Freqtrade GitHub","key":"metB8kSak9"}],"urlSource":"https://github.com/freqtrade/freqtrade","error":true,"key":"aIbcC2Rurl"}],"key":"lWeDc6OQjY"}],"key":"oQzSpjrecr"}],"key":"UwZODREBhj"}],"key":"JVcJ6rC0ua"},"frontmatter":{"title":"页脚","parts":{},"authors":[{"id":"Freqtrade","name":"Freqtrade"}],"github":"https://github.com/freqtrade-cn/docs_zh-CN","keywords":["Freqtrade","中文文档","交易机器人","量化交易","加密货币","数字货币","区块链","人工智能","机器学习"],"edit_url":"https://github.com/freqtrade-cn/docs_zh-CN/blob/main/footer.md"}}},"nav":[{"title":"Freqtrade 官方","children":[{"title":"Freqtrade 官方文档","url":"https://www.freqtrade.io/en/stable/"},{"title":"Freqtrade GitHub","url":"https://github.com/freqtrade/freqtrade"}]},{"title":"Freqtrade-CN GitHub","url":"https://github.com/freqtrade-cn/freqtrade"}],"actions":[],"projects":[{"title":"Freqtrade 中文文档","description":"Freqtrade 中文文档","authors":[{"id":"Freqtrade","name":"Freqtrade"}],"github":"https://github.com/freqtrade-cn/docs_zh-CN","keywords":["Freqtrade","中文文档","交易机器人","量化交易","加密货币","数字货币","区块链","人工智能","机器学习"],"id":"111d4f50-18b2-4ed2-9189-3954f232e613","toc":[{"file":"index.md"},{"file":"terms.md"},{"file":"docker_quickstart.md"},{"children":[{"file":"installation.md"},{"file":"windows_installation.md"}],"title":"安装"},{"file":"bot-basics.md"},{"file":"configuration.md"},{"file":"strategy-101.md"},{"file":"strategy-customization.md"},{"file":"strategy-callbacks.md"},{"file":"stoploss.md"},{"file":"plugins.md"},{"file":"bot-usage.md"},{"children":[{"file":"telegram-usage.md"},{"file":"freq-ui.md"},{"file":"rest-api.md"},{"file":"webhook-config.md"}],"title":"机器人控制和管理"},{"file":"data-download.md"},{"file":"backtesting.md"},{"file":"hyperopt.md"},{"children":[{"file":"freqai.md"},{"file":"freqai-configuration.md"},{"file":"freqai-parameter-table.md"},{"file":"freqai-feature-engineering.md"},{"file":"freqai-running.md"},{"file":"freqai-reinforcement-learning.md"},{"file":"freqai-developers.md"}],"title":"FreqAI"},{"file":"leverage.md"},{"file":"utils.md"},{"file":"plotting.md"},{"file":"exchanges.md"},{"children":[{"file":"data-analysis.md"},{"file":"strategy_analysis_example.md"},{"file":"advanced-backtesting.md"}],"title":"数据分析"},{"children":[{"file":"advanced-setup.md"},{"file":"trade-object.md"},{"file":"lookahead-analysis.md"},{"file":"recursive-analysis.md"},{"file":"strategy-advanced.md"},{"file":"advanced-hyperopt.md"},{"file":"advanced-orderflow.md"},{"file":"producer-consumer.md"},{"file":"sql_cheatsheet.md"},{"file":"edge.md"}],"title":"高级话题"},{"file":"faq.md"},{"file":"strategy_migration.md"},{"file":"updating.md"},{"file":"commands.md"},{"file":"deprecated.md"},{"file":"developer.md"},{"children":[{"file":"commands/main.md"},{"file":"commands/backtesting-analysis.md"},{"file":"commands/backtesting.md"},{"file":"commands/backtesting-show.md"},{"file":"commands/convert-data.md"},{"file":"commands/convert-db.md"},{"file":"commands/convert-trade-data.md"},{"file":"commands/create-userdir.md"},{"file":"commands/download-data.md"},{"file":"commands/edge.md"},{"file":"commands/hyperopt-list.md"},{"file":"commands/hyperopt.md"},{"file":"commands/hyperopt-show.md"},{"file":"commands/install-ui.md"},{"file":"commands/list-data.md"},{"file":"commands/list-exchanges.md"},{"file":"commands/list-freqaimodels.md"},{"file":"commands/list-hyperoptloss.md"},{"file":"commands/list-markets.md"},{"file":"commands/list-pairs.md"},{"file":"commands/list-strategies.md"},{"file":"commands/list-timeframes.md"},{"file":"commands/lookahead-analysis.md"},{"file":"commands/new-config.md"},{"file":"commands/new-strategy.md"},{"file":"commands/plot-dataframe.md"},{"file":"commands/plot-profit.md"},{"file":"commands/recursive-analysis.md"},{"file":"commands/show-config.md"},{"file":"commands/show-trades.md"},{"file":"commands/strategy-updater.md"},{"file":"commands/test-pairlist.md"},{"file":"commands/trade.md"},{"file":"commands/trades-to-ohlcv.md"},{"file":"commands/webserver.md"}],"title":"Commands"}],"thumbnail":"/build/freqtrade_poweredby-54c1a23e325977ebc310429538f96a71.svg","exports":[],"bibliography":[],"index":"index","pages":[{"slug":"terms","title":"Freqtrade 术语词典","short_title":"术语词典","description":"本文档详细解释了 Freqtrade 和量化交易中的核心术语，为用户提供全面的概念参考。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["术语","概念","词典","参考","量化交易","Freqtrade"],"level":1},{"slug":"docker-quickstart","title":"使用 Docker 运行 Freqtrade","short_title":"Docker 快速入门","description":"了解如何使用 Docker 容器运行和管理 Freqtrade 交易机器人,包括安装、配置和常见问题解决","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["Docker","容器","快速入门","部署"],"level":1},{"level":1,"title":"安装"},{"slug":"installation","title":"安装 Freqtrade","short_title":"安装","description":"了解如何安装和配置 Freqtrade 交易机器人,包括脚本安装、手动安装和 Conda 安装等多种方式","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["安装","配置","指南","入门"],"level":2},{"slug":"windows-installation","title":"Windows 安装指南","short_title":"Windows 安装","description":"本文档详细介绍了如何在 Windows 系统上安装 Freqtrade 交易机器人,包括自动安装和手动安装两种方式。","date":"","thumbnail":"/build/windows_install-36fd100b8143b6955258a9fa59765217.png","thumbnailOptimized":"/build/windows_install-36fd100b8143b6955258a9fa59765217.webp","banner":"","bannerOptimized":"","tags":["Windows","安装","配置","指南"],"level":2},{"slug":"bot-basics","title":"Freqtrade 基础","short_title":"基础指南","description":"本文档介绍了 Freqtrade 的基本术语、概念和执行逻辑,帮助你理解 Freqtrade 的工作原理。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"configuration","title":"配置 Freqtrade","short_title":"配置","description":"了解如何配置 Freqtrade 交易机器人,包括配置文件、环境变量等多种配置方式","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["配置","参数","环境变量","设置"],"level":1},{"slug":"strategy-101","title":"Freqtrade 策略开发指南","short_title":"策略开发指南","description":"本文档介绍了 Freqtrade 策略开发的基础知识,包括必备概念、策略结构以及如何开发自己的交易策略。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"strategy-customization","title":"策略自定义指南","short_title":"策略自定义","description":"本文档介绍如何在 Freqtrade 中自定义交易策略,包括添加新指标、设置交易规则等内容。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["策略开发","自定义","指标","交易规则","编程"],"level":1},{"slug":"strategy-callbacks","title":"策略回调指南","short_title":"策略回调","description":"本文档详细介绍了 Freqtrade 交易机器人中可用的各种策略回调函数,包括它们的用途、调用时机以及使用方法。","date":"","thumbnail":"/build/freqUI-chart-annotat-6ca425e986932e863842497203176546.png","thumbnailOptimized":"/build/freqUI-chart-annotat-6ca425e986932e863842497203176546.webp","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"stoploss","title":"止损配置指南","short_title":"止损","description":"详细介绍 Freqtrade 中的止损功能,包括静态止损、追踪止损等多种止损模式的配置方法。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"plugins","title":"插件体系","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"bot-usage","title":"机器人使用指南","short_title":"机器人使用","description":"本文档介绍了如何启动和运行 FreqTrade 机器人,包括命令行参数、配置文件使用等基本操作说明。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":1,"title":"机器人控制和管理"},{"slug":"telegram-usage","title":"Telegram 使用指南","short_title":"Telegram 指南","description":"本文档详细介绍了如何为 Freqtrade 创建和配置 Telegram 机器人，以及如何获取必要的用户 ID 和群组 ID。","date":"","thumbnail":"/build/telegram_forcebuy-73d7978f775ad92a8fe74de0313966a6.png","thumbnailOptimized":"/build/telegram_forcebuy-73d7978f775ad92a8fe74de0313966a6.webp","banner":"","bannerOptimized":"","tags":["Telegram","通知","机器人","配置","消息推送"],"level":2},{"slug":"freq-ui","title":"FreqUI 用户界面","short_title":"FreqUI","description":"FreqUI 是 Freqtrade 的内置 Web 界面,提供了一个现代化的响应式界面来监控和控制您的交易机器人。本文档介绍了如何安装、配置和使用 FreqUI。","date":"","thumbnail":"/build/frequi-login-CORS-li-92549992a8d3a76bc770a0f5b151e366.png","thumbnailOptimized":"/build/frequi-login-CORS-li-92549992a8d3a76bc770a0f5b151e366.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"rest-api","title":"REST API 指南","short_title":"REST API","description":"本文档介绍了 Freqtrade 的 REST API 功能,包括如何配置 API 服务器、安全设置、身份验证以及各种 API 端点的使用方法。","date":"","thumbnail":"/build/frequi_url-75e93be0830e56c293348021fb304d08.png","thumbnailOptimized":"/build/frequi_url-75e93be0830e56c293348021fb304d08.webp","banner":"","bannerOptimized":"","tags":["REST API","接口","配置","安全","自动化"],"level":2},{"slug":"webhook-config","title":"Webhook 配置指南","short_title":"Webhook 指南","description":"Freqtrade 的 Webhook 功能允许您在交易事件发生时发送通知到外部服务。本文档详细介绍了如何配置和使用 Webhook。","date":"","thumbnail":"/build/discord_notification-0536645313306293db781a3e0e0489d8.png","thumbnailOptimized":"/build/discord_notification-0536645313306293db781a3e0e0489d8.webp","banner":"","bannerOptimized":"","tags":["Webhook","通知","外部服务","事件","配置"],"level":2},{"slug":"data-download","title":"数据下载","description":"了解如何使用 Freqtrade 下载历史交易数据，包括 K 线数据、回测数据和超参优化所需数据的下载方法和命令参数说明","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"backtesting","title":"回测","short_title":"回测","description":"了解如何使用 Freqtrade 的回测功能验证和优化你的交易策略,包括回测命令、参数配置和结果分析","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["回测","策略验证","性能分析","历史数据"],"level":1},{"slug":"hyperopt","title":"Hyperopt 超参数优化指南","short_title":"Hyperopt 指南","description":"Hyperopt 是 Freqtrade 中用于自动化策略参数优化的工具,通过搜索最佳参数组合来提升策略性能。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["超参数优化","Hyperopt","策略优化","机器学习","参数调优"],"level":1},{"level":1,"title":"FreqAI"},{"slug":"freqai","title":"Freqai","description":"","date":"","thumbnail":"/build/freqai_doc_logo-3f2859a5a8ebe9e577941dd454c6c5ee.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-configuration","title":"FreqAI 配置指南","short_title":"FreqAI 配置","description":"本文档详细介绍了如何配置 FreqAI,包括配置文件设置和策略构建。FreqAI 是 Freqtrade 的机器学习框架,可用于构建和训练预测模型。","date":"","thumbnail":"/build/freqai_pytorch-diagr-d0712f166402f727b4f65efd22bf6315.png","thumbnailOptimized":"/build/freqai_pytorch-diagr-d0712f166402f727b4f65efd22bf6315.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-parameter-table","title":"FreqAI 参数表","short_title":"参数表","description":"本文档详细列出了 FreqAI 的所有配置参数,包括通用配置参数和特征参数,并对每个参数的功能、数据类型和默认值进行了说明。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-feature-engineering","title":"FreqAI 特征工程指南","short_title":"特征工程","description":"本文档详细介绍了 FreqAI 的特征工程功能,包括如何定义和扩展特征、数据处理管道、异常值检测等内容。这些功能可以帮助用户构建更强大的预测模型。","date":"","thumbnail":"/build/freqai_weight-factor-70f8aa4395fdd17979cf8f96e17171d0.jpg","thumbnailOptimized":"/build/freqai_weight-factor-70f8aa4395fdd17979cf8f96e17171d0.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-running","title":"FreqAI 运行指南","short_title":"FreqAI 运行","description":"FreqAI 是一个自适应机器学习框架，本文档介绍了如何在实时和回测模式下运行 FreqAI，包括模型训练、部署和管理等内容。","date":"","thumbnail":"/build/freqai_moving-window-05da86a83d6712baee031086385a7735.jpg","thumbnailOptimized":"/build/freqai_moving-window-05da86a83d6712baee031086385a7735.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-reinforcement-learning","title":"FreqAI 强化学习指南","short_title":"强化学习","description":"本文档详细介绍了 FreqAI 的强化学习功能,包括基本概念、运行方法、环境配置等内容。这些功能可以帮助用户构建和训练强化学习模型进行自动交易。","date":"","thumbnail":"/build/tensorboard-27f8850881840b007f5a56a202abb949.jpg","thumbnailOptimized":"/build/tensorboard-27f8850881840b007f5a56a202abb949.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-developers","title":"FreqAI 开发者指南","short_title":"FreqAI 开发","description":"本文档详细介绍了 FreqAI 的项目架构、数据处理流程和文件结构,为开发者提供了深入了解 FreqAI 内部工作原理的指南。","date":"","thumbnail":"/build/freqai_algorithm-dia-6d1ac15cf50f9103773ecaea4b8fd261.jpg","thumbnailOptimized":"/build/freqai_algorithm-dia-6d1ac15cf50f9103773ecaea4b8fd261.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"leverage","title":"使用杠杆交易","description":"了解如何在 Freqtrade 中使用杠杆交易,包括做空、保证金和期货交易等高级功能","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"utils","title":"实用工具命令指南","short_title":"实用工具指南","description":"本文档详细介绍了 Freqtrade 中的各种实用工具子命令,包括创建用户目录、配置文件、列出交易所和交易对等功能。","date":"","thumbnail":"/build/show-config-output-2a74674e687e07d8afa7ace1b96df8bb.png","thumbnailOptimized":"/build/show-config-output-2a74674e687e07d8afa7ace1b96df8bb.webp","banner":"","bannerOptimized":"","tags":["工具","命令","配置","策略","交易所"],"level":1},{"slug":"plotting","title":"绘图","short_title":"绘图","description":"了解如何使用 Freqtrade 的绘图功能可视化价格、指标和利润数据,包括安装配置、命令参数和示例","date":"","thumbnail":"/build/plot-dataframe-40c25f36af7de6fc6f078d42ae5f90f5.png","thumbnailOptimized":"/build/plot-dataframe-40c25f36af7de6fc6f078d42ae5f90f5.webp","banner":"","bannerOptimized":"","tags":["绘图","可视化","指标","回测","利润"],"level":1},{"slug":"exchanges","title":"交易所特定说明","short_title":"交易所说明","description":"了解各个交易所的特殊配置和常见问题","date":"","thumbnail":"/build/binance_futures_sett-b4a8da10c6eb01bf904d6fc3533999b6.png","thumbnailOptimized":"/build/binance_futures_sett-b4a8da10c6eb01bf904d6fc3533999b6.webp","banner":"","bannerOptimized":"","tags":["交易所","配置","API","连接","问题解决"],"level":1},{"level":1,"title":"数据分析"},{"slug":"data-analysis","title":"使用 Jupyter 笔记本分析机器人数据","description":"使用 Jupyter 笔记本分析 Freqtrade 机器人的回测结果和交易历史数据","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strategy-analysis-example","title":"Freqtrade 策略分析示例","short_title":"策略分析示例","description":"本文档介绍如何使用 Freqtrade 提供的工具来分析和调试交易策略,包括数据可视化、回测分析等功能。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"advanced-backtesting","title":"高级回测分析","short_title":"高级回测","description":"本文档介绍了 FreqTrade 的高级回测分析功能,包括买入/卖出标签分析、信号导出等高级特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"高级话题"},{"slug":"advanced-setup","title":"高级安装后配置","short_title":"高级安装","description":"本文档介绍了 FreqTrade 安装后可以执行的高级任务和配置选项,包括多实例运行、日志配置等高级特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"trade-object","title":"交易对象文档","short_title":"交易对象指南","description":"本文档详细介绍了 Freqtrade 中的交易对象(Trade)，包括其属性、方法以及在策略中的使用方式。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lookahead-analysis","title":"前瞻性分析指南","short_title":"前瞻性分析","description":"前瞻性分析是一个用于检测和验证交易策略中是否存在前瞻性偏差的工具。本文档详细介绍了如何使用该工具来确保策略的有效性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"recursive-analysis","title":"递归分析指南","short_title":"递归分析","description":"递归分析是一个用于检测和验证交易策略中是否存在因递归公式导致的不准确性的工具。本文档详细介绍了如何使用该工具来确保策略的有效性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strategy-advanced","title":"Freqtrade 高级策略指南","short_title":"高级策略","description":"本文档详细介绍了 Freqtrade 交易机器人的高级策略开发概念,包括持久化存储、回调方法等进阶功能。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"advanced-hyperopt","title":"高级超参数优化","short_title":"高级超参数优化","description":"本文档介绍了 FreqTrade 的高级超参数优化功能,包括自定义损失函数等高级特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"advanced-orderflow","title":"高级委托流分析","short_title":"委托流分析","description":"本文档介绍了 FreqTrade 的委托流分析功能,包括如何配置和使用公共成交数据进行高级委托流分析。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"producer-consumer","title":"生产者/消费者模式","short_title":"生产者/消费者","description":"本文档介绍了 Freqtrade 的生产者/消费者模式,包括如何配置多个机器人实例共享计算指标和信号,以及相关的 websocket 设置。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["生产者","消费者","分布式","多实例","WebSocket"],"level":2},{"slug":"sql-cheatsheet","title":"SQL 助手","short_title":"SQL 助手","description":"本文档提供了使用 SQLite 数据库进行查询的详细指南和常用命令参考。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"edge","title":"Edge Positioning - 边缘定位","short_title":"Edge","description":"Edge Positioning 模块使用概率统计来计算交易胜率和风险回报比,从而优化策略的入场点、头寸大小和止损设置。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["Edge","概率","统计","策略优化","风险管理"],"level":2},{"slug":"faq","title":"Freqtrade 常见问题","short_title":"FAQ","description":"本文档回答了关于 Freqtrade 交易机器人的常见问题,包括支持的市场、初学者指南以及常见问题的故障排除。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"strategy-migration","title":"策略迁移指南","short_title":"策略迁移","description":"本文档详细介绍了如何将 Freqtrade V2 策略迁移到 V3，包括接口变更、方法重命名以及新增功能的完整说明。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"updating","title":"更新指南","short_title":"更新指南","description":"本文档详细介绍了如何更新 Freqtrade 的不同安装方式,包括 Docker、安装脚本和原生安装等方法。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"commands","title":"Commands","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"deprecated","title":"已弃用功能","short_title":"已弃用功能","description":"本文档介绍了 FreqTrade 中已弃用和移除的命令行参数、配置参数和机器人功能,帮助用户避免使用不再受支持的特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"developer","title":"开发者指南","short_title":"开发者指南","description":"本文档面向 FreqTrade 的开发者,介绍如何为项目做出贡献、配置开发环境、编写测试以及其他开发相关的重要信息。","date":"","thumbnail":"/build/pycharm_debug-7a8a6d1f4a91d643a2d41ff932bf9a82.png","thumbnailOptimized":"/build/pycharm_debug-7a8a6d1f4a91d643a2d41ff932bf9a82.webp","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":1,"title":"Commands"},{"slug":"main","title":"Main","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"backtesting-analysis","title":"Backtesting Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"backtesting-1","title":"Backtesting","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"backtesting-show","title":"Backtesting Show","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"convert-data","title":"Convert Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"convert-db","title":"Convert Db","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"convert-trade-data","title":"Convert Trade Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"create-userdir","title":"Create Userdir","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"download-data","title":"Download Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"edge-1","title":"Edge","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hyperopt-list","title":"Hyperopt List","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hyperopt-1","title":"Hyperopt","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hyperopt-show","title":"Hyperopt Show","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"install-ui","title":"Install Ui","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-data","title":"List Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-exchanges","title":"List Exchanges","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-freqaimodels","title":"List Freqaimodels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-hyperoptloss","title":"List Hyperoptloss","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-markets","title":"List Markets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-pairs","title":"List Pairs","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-strategies","title":"List Strategies","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-timeframes","title":"List Timeframes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lookahead-analysis-1","title":"Lookahead Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"new-config","title":"New Config","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"new-strategy","title":"New Strategy","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"plot-dataframe","title":"Plot Dataframe","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"plot-profit","title":"Plot Profit","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"recursive-analysis-1","title":"Recursive Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"show-config","title":"Show Config","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"show-trades","title":"Show Trades","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strategy-updater","title":"Strategy Updater","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"test-pairlist","title":"Test Pairlist","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"trade","title":"Trade","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"trades-to-ohlcv","title":"Trades To Ohlcv","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"webserver","title":"Webserver","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3101","MODE":"static"},"routes/$":{"config":{"version":2,"myst":"1.6.0","options":{"logo_text":"Freqtrade 中文文档","custom_footer":"Made with love by Freqtrade-CN🏅🏅","footer_url":"https://github.com/freqtrade-cn/docs_zh-CN"},"parts":{"footer":{"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"div","style":{"textAlign":"center","padding":"20px 0","borderTop":"1px solid #e5e5e5","color":"#666","marginTop":"2rem"},"children":[{"type":"paragraph","children":[{"type":"text","value":"© 2024 ","key":"CkEXPbSRbl"},{"type":"link","url":"https://github.com/freqtrade-cn/docs_zh-CN","children":[{"type":"text","value":"Freqtrade 中文社区","key":"lUtmsL6ufQ"}],"urlSource":"https://github.com/freqtrade-cn/docs_zh-CN","error":true,"key":"Czt46qKv3q"},{"type":"text","value":" | 基于 ","key":"ieJJEBXAG3"},{"type":"link","url":"https://www.freqtrade.io","children":[{"type":"text","value":"Freqtrade","key":"WTZICmWOzh"}],"urlSource":"https://www.freqtrade.io","key":"QlkkYdav8S"},{"type":"text","value":" 项目 | 文档由 ","key":"eTRFuC271E"},{"type":"link","url":"https://mystmd.org","children":[{"type":"text","value":"MyST","key":"VbcMcnIpQ3"}],"urlSource":"https://mystmd.org","key":"KKnAjjjCak"},{"type":"text","value":" 驱动","key":"YYYjavm3H3"}],"key":"wXwo7NuvIp"},{"type":"paragraph","children":[{"type":"link","url":"https://github.com/freqtrade-cn/docs_zh-CN/issues","children":[{"type":"text","value":"报告问题","key":"RgbnjsF9Rd"}],"urlSource":"https://github.com/freqtrade-cn/docs_zh-CN/issues","error":true,"key":"KLoVY0Jgkm"},{"type":"text","value":" | ","key":"N3BDh7lpUx"},{"type":"link","url":"https://github.com/freqtrade-cn/docs_zh-CN/blob/main/CONTRIBUTING.md","children":[{"type":"text","value":"贡献文档","key":"jjE9XWumZh"}],"urlSource":"https://github.com/freqtrade-cn/docs_zh-CN/blob/main/CONTRIBUTING.md","data":{"kind":"file","org":"freqtrade-cn","repo":"docs_zh-CN","reference":"main","file":"CONTRIBUTING.md","raw":"https://raw.githubusercontent.com/freqtrade-cn/docs_zh-CN/main/CONTRIBUTING.md"},"internal":false,"protocol":"github","key":"IGa8TseQcm"},{"type":"text","value":" | ","key":"xf2Giz4Lbs"},{"type":"link","url":"https://github.com/freqtrade/freqtrade","children":[{"type":"text","value":"Freqtrade GitHub","key":"metB8kSak9"}],"urlSource":"https://github.com/freqtrade/freqtrade","error":true,"key":"aIbcC2Rurl"}],"key":"lWeDc6OQjY"}],"key":"oQzSpjrecr"}],"key":"UwZODREBhj"}],"key":"JVcJ6rC0ua"},"frontmatter":{"title":"页脚","parts":{},"authors":[{"id":"Freqtrade","name":"Freqtrade"}],"github":"https://github.com/freqtrade-cn/docs_zh-CN","keywords":["Freqtrade","中文文档","交易机器人","量化交易","加密货币","数字货币","区块链","人工智能","机器学习"],"edit_url":"https://github.com/freqtrade-cn/docs_zh-CN/blob/main/footer.md"}}},"nav":[{"title":"Freqtrade 官方","children":[{"title":"Freqtrade 官方文档","url":"https://www.freqtrade.io/en/stable/"},{"title":"Freqtrade GitHub","url":"https://github.com/freqtrade/freqtrade"}]},{"title":"Freqtrade-CN GitHub","url":"https://github.com/freqtrade-cn/freqtrade"}],"actions":[],"projects":[{"title":"Freqtrade 中文文档","description":"Freqtrade 中文文档","authors":[{"id":"Freqtrade","name":"Freqtrade"}],"github":"https://github.com/freqtrade-cn/docs_zh-CN","keywords":["Freqtrade","中文文档","交易机器人","量化交易","加密货币","数字货币","区块链","人工智能","机器学习"],"id":"111d4f50-18b2-4ed2-9189-3954f232e613","toc":[{"file":"index.md"},{"file":"terms.md"},{"file":"docker_quickstart.md"},{"children":[{"file":"installation.md"},{"file":"windows_installation.md"}],"title":"安装"},{"file":"bot-basics.md"},{"file":"configuration.md"},{"file":"strategy-101.md"},{"file":"strategy-customization.md"},{"file":"strategy-callbacks.md"},{"file":"stoploss.md"},{"file":"plugins.md"},{"file":"bot-usage.md"},{"children":[{"file":"telegram-usage.md"},{"file":"freq-ui.md"},{"file":"rest-api.md"},{"file":"webhook-config.md"}],"title":"机器人控制和管理"},{"file":"data-download.md"},{"file":"backtesting.md"},{"file":"hyperopt.md"},{"children":[{"file":"freqai.md"},{"file":"freqai-configuration.md"},{"file":"freqai-parameter-table.md"},{"file":"freqai-feature-engineering.md"},{"file":"freqai-running.md"},{"file":"freqai-reinforcement-learning.md"},{"file":"freqai-developers.md"}],"title":"FreqAI"},{"file":"leverage.md"},{"file":"utils.md"},{"file":"plotting.md"},{"file":"exchanges.md"},{"children":[{"file":"data-analysis.md"},{"file":"strategy_analysis_example.md"},{"file":"advanced-backtesting.md"}],"title":"数据分析"},{"children":[{"file":"advanced-setup.md"},{"file":"trade-object.md"},{"file":"lookahead-analysis.md"},{"file":"recursive-analysis.md"},{"file":"strategy-advanced.md"},{"file":"advanced-hyperopt.md"},{"file":"advanced-orderflow.md"},{"file":"producer-consumer.md"},{"file":"sql_cheatsheet.md"},{"file":"edge.md"}],"title":"高级话题"},{"file":"faq.md"},{"file":"strategy_migration.md"},{"file":"updating.md"},{"file":"commands.md"},{"file":"deprecated.md"},{"file":"developer.md"},{"children":[{"file":"commands/main.md"},{"file":"commands/backtesting-analysis.md"},{"file":"commands/backtesting.md"},{"file":"commands/backtesting-show.md"},{"file":"commands/convert-data.md"},{"file":"commands/convert-db.md"},{"file":"commands/convert-trade-data.md"},{"file":"commands/create-userdir.md"},{"file":"commands/download-data.md"},{"file":"commands/edge.md"},{"file":"commands/hyperopt-list.md"},{"file":"commands/hyperopt.md"},{"file":"commands/hyperopt-show.md"},{"file":"commands/install-ui.md"},{"file":"commands/list-data.md"},{"file":"commands/list-exchanges.md"},{"file":"commands/list-freqaimodels.md"},{"file":"commands/list-hyperoptloss.md"},{"file":"commands/list-markets.md"},{"file":"commands/list-pairs.md"},{"file":"commands/list-strategies.md"},{"file":"commands/list-timeframes.md"},{"file":"commands/lookahead-analysis.md"},{"file":"commands/new-config.md"},{"file":"commands/new-strategy.md"},{"file":"commands/plot-dataframe.md"},{"file":"commands/plot-profit.md"},{"file":"commands/recursive-analysis.md"},{"file":"commands/show-config.md"},{"file":"commands/show-trades.md"},{"file":"commands/strategy-updater.md"},{"file":"commands/test-pairlist.md"},{"file":"commands/trade.md"},{"file":"commands/trades-to-ohlcv.md"},{"file":"commands/webserver.md"}],"title":"Commands"}],"thumbnail":"/build/freqtrade_poweredby-54c1a23e325977ebc310429538f96a71.svg","exports":[],"bibliography":[],"index":"index","pages":[{"slug":"terms","title":"Freqtrade 术语词典","short_title":"术语词典","description":"本文档详细解释了 Freqtrade 和量化交易中的核心术语，为用户提供全面的概念参考。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["术语","概念","词典","参考","量化交易","Freqtrade"],"level":1},{"slug":"docker-quickstart","title":"使用 Docker 运行 Freqtrade","short_title":"Docker 快速入门","description":"了解如何使用 Docker 容器运行和管理 Freqtrade 交易机器人,包括安装、配置和常见问题解决","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["Docker","容器","快速入门","部署"],"level":1},{"level":1,"title":"安装"},{"slug":"installation","title":"安装 Freqtrade","short_title":"安装","description":"了解如何安装和配置 Freqtrade 交易机器人,包括脚本安装、手动安装和 Conda 安装等多种方式","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["安装","配置","指南","入门"],"level":2},{"slug":"windows-installation","title":"Windows 安装指南","short_title":"Windows 安装","description":"本文档详细介绍了如何在 Windows 系统上安装 Freqtrade 交易机器人,包括自动安装和手动安装两种方式。","date":"","thumbnail":"/build/windows_install-36fd100b8143b6955258a9fa59765217.png","thumbnailOptimized":"/build/windows_install-36fd100b8143b6955258a9fa59765217.webp","banner":"","bannerOptimized":"","tags":["Windows","安装","配置","指南"],"level":2},{"slug":"bot-basics","title":"Freqtrade 基础","short_title":"基础指南","description":"本文档介绍了 Freqtrade 的基本术语、概念和执行逻辑,帮助你理解 Freqtrade 的工作原理。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"configuration","title":"配置 Freqtrade","short_title":"配置","description":"了解如何配置 Freqtrade 交易机器人,包括配置文件、环境变量等多种配置方式","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["配置","参数","环境变量","设置"],"level":1},{"slug":"strategy-101","title":"Freqtrade 策略开发指南","short_title":"策略开发指南","description":"本文档介绍了 Freqtrade 策略开发的基础知识,包括必备概念、策略结构以及如何开发自己的交易策略。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"strategy-customization","title":"策略自定义指南","short_title":"策略自定义","description":"本文档介绍如何在 Freqtrade 中自定义交易策略,包括添加新指标、设置交易规则等内容。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["策略开发","自定义","指标","交易规则","编程"],"level":1},{"slug":"strategy-callbacks","title":"策略回调指南","short_title":"策略回调","description":"本文档详细介绍了 Freqtrade 交易机器人中可用的各种策略回调函数,包括它们的用途、调用时机以及使用方法。","date":"","thumbnail":"/build/freqUI-chart-annotat-6ca425e986932e863842497203176546.png","thumbnailOptimized":"/build/freqUI-chart-annotat-6ca425e986932e863842497203176546.webp","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"stoploss","title":"止损配置指南","short_title":"止损","description":"详细介绍 Freqtrade 中的止损功能,包括静态止损、追踪止损等多种止损模式的配置方法。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"plugins","title":"插件体系","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"bot-usage","title":"机器人使用指南","short_title":"机器人使用","description":"本文档介绍了如何启动和运行 FreqTrade 机器人,包括命令行参数、配置文件使用等基本操作说明。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":1,"title":"机器人控制和管理"},{"slug":"telegram-usage","title":"Telegram 使用指南","short_title":"Telegram 指南","description":"本文档详细介绍了如何为 Freqtrade 创建和配置 Telegram 机器人，以及如何获取必要的用户 ID 和群组 ID。","date":"","thumbnail":"/build/telegram_forcebuy-73d7978f775ad92a8fe74de0313966a6.png","thumbnailOptimized":"/build/telegram_forcebuy-73d7978f775ad92a8fe74de0313966a6.webp","banner":"","bannerOptimized":"","tags":["Telegram","通知","机器人","配置","消息推送"],"level":2},{"slug":"freq-ui","title":"FreqUI 用户界面","short_title":"FreqUI","description":"FreqUI 是 Freqtrade 的内置 Web 界面,提供了一个现代化的响应式界面来监控和控制您的交易机器人。本文档介绍了如何安装、配置和使用 FreqUI。","date":"","thumbnail":"/build/frequi-login-CORS-li-92549992a8d3a76bc770a0f5b151e366.png","thumbnailOptimized":"/build/frequi-login-CORS-li-92549992a8d3a76bc770a0f5b151e366.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"rest-api","title":"REST API 指南","short_title":"REST API","description":"本文档介绍了 Freqtrade 的 REST API 功能,包括如何配置 API 服务器、安全设置、身份验证以及各种 API 端点的使用方法。","date":"","thumbnail":"/build/frequi_url-75e93be0830e56c293348021fb304d08.png","thumbnailOptimized":"/build/frequi_url-75e93be0830e56c293348021fb304d08.webp","banner":"","bannerOptimized":"","tags":["REST API","接口","配置","安全","自动化"],"level":2},{"slug":"webhook-config","title":"Webhook 配置指南","short_title":"Webhook 指南","description":"Freqtrade 的 Webhook 功能允许您在交易事件发生时发送通知到外部服务。本文档详细介绍了如何配置和使用 Webhook。","date":"","thumbnail":"/build/discord_notification-0536645313306293db781a3e0e0489d8.png","thumbnailOptimized":"/build/discord_notification-0536645313306293db781a3e0e0489d8.webp","banner":"","bannerOptimized":"","tags":["Webhook","通知","外部服务","事件","配置"],"level":2},{"slug":"data-download","title":"数据下载","description":"了解如何使用 Freqtrade 下载历史交易数据，包括 K 线数据、回测数据和超参优化所需数据的下载方法和命令参数说明","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"backtesting","title":"回测","short_title":"回测","description":"了解如何使用 Freqtrade 的回测功能验证和优化你的交易策略,包括回测命令、参数配置和结果分析","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["回测","策略验证","性能分析","历史数据"],"level":1},{"slug":"hyperopt","title":"Hyperopt 超参数优化指南","short_title":"Hyperopt 指南","description":"Hyperopt 是 Freqtrade 中用于自动化策略参数优化的工具,通过搜索最佳参数组合来提升策略性能。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["超参数优化","Hyperopt","策略优化","机器学习","参数调优"],"level":1},{"level":1,"title":"FreqAI"},{"slug":"freqai","title":"Freqai","description":"","date":"","thumbnail":"/build/freqai_doc_logo-3f2859a5a8ebe9e577941dd454c6c5ee.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-configuration","title":"FreqAI 配置指南","short_title":"FreqAI 配置","description":"本文档详细介绍了如何配置 FreqAI,包括配置文件设置和策略构建。FreqAI 是 Freqtrade 的机器学习框架,可用于构建和训练预测模型。","date":"","thumbnail":"/build/freqai_pytorch-diagr-d0712f166402f727b4f65efd22bf6315.png","thumbnailOptimized":"/build/freqai_pytorch-diagr-d0712f166402f727b4f65efd22bf6315.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-parameter-table","title":"FreqAI 参数表","short_title":"参数表","description":"本文档详细列出了 FreqAI 的所有配置参数,包括通用配置参数和特征参数,并对每个参数的功能、数据类型和默认值进行了说明。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-feature-engineering","title":"FreqAI 特征工程指南","short_title":"特征工程","description":"本文档详细介绍了 FreqAI 的特征工程功能,包括如何定义和扩展特征、数据处理管道、异常值检测等内容。这些功能可以帮助用户构建更强大的预测模型。","date":"","thumbnail":"/build/freqai_weight-factor-70f8aa4395fdd17979cf8f96e17171d0.jpg","thumbnailOptimized":"/build/freqai_weight-factor-70f8aa4395fdd17979cf8f96e17171d0.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-running","title":"FreqAI 运行指南","short_title":"FreqAI 运行","description":"FreqAI 是一个自适应机器学习框架，本文档介绍了如何在实时和回测模式下运行 FreqAI，包括模型训练、部署和管理等内容。","date":"","thumbnail":"/build/freqai_moving-window-05da86a83d6712baee031086385a7735.jpg","thumbnailOptimized":"/build/freqai_moving-window-05da86a83d6712baee031086385a7735.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-reinforcement-learning","title":"FreqAI 强化学习指南","short_title":"强化学习","description":"本文档详细介绍了 FreqAI 的强化学习功能,包括基本概念、运行方法、环境配置等内容。这些功能可以帮助用户构建和训练强化学习模型进行自动交易。","date":"","thumbnail":"/build/tensorboard-27f8850881840b007f5a56a202abb949.jpg","thumbnailOptimized":"/build/tensorboard-27f8850881840b007f5a56a202abb949.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-developers","title":"FreqAI 开发者指南","short_title":"FreqAI 开发","description":"本文档详细介绍了 FreqAI 的项目架构、数据处理流程和文件结构,为开发者提供了深入了解 FreqAI 内部工作原理的指南。","date":"","thumbnail":"/build/freqai_algorithm-dia-6d1ac15cf50f9103773ecaea4b8fd261.jpg","thumbnailOptimized":"/build/freqai_algorithm-dia-6d1ac15cf50f9103773ecaea4b8fd261.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"leverage","title":"使用杠杆交易","description":"了解如何在 Freqtrade 中使用杠杆交易,包括做空、保证金和期货交易等高级功能","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"utils","title":"实用工具命令指南","short_title":"实用工具指南","description":"本文档详细介绍了 Freqtrade 中的各种实用工具子命令,包括创建用户目录、配置文件、列出交易所和交易对等功能。","date":"","thumbnail":"/build/show-config-output-2a74674e687e07d8afa7ace1b96df8bb.png","thumbnailOptimized":"/build/show-config-output-2a74674e687e07d8afa7ace1b96df8bb.webp","banner":"","bannerOptimized":"","tags":["工具","命令","配置","策略","交易所"],"level":1},{"slug":"plotting","title":"绘图","short_title":"绘图","description":"了解如何使用 Freqtrade 的绘图功能可视化价格、指标和利润数据,包括安装配置、命令参数和示例","date":"","thumbnail":"/build/plot-dataframe-40c25f36af7de6fc6f078d42ae5f90f5.png","thumbnailOptimized":"/build/plot-dataframe-40c25f36af7de6fc6f078d42ae5f90f5.webp","banner":"","bannerOptimized":"","tags":["绘图","可视化","指标","回测","利润"],"level":1},{"slug":"exchanges","title":"交易所特定说明","short_title":"交易所说明","description":"了解各个交易所的特殊配置和常见问题","date":"","thumbnail":"/build/binance_futures_sett-b4a8da10c6eb01bf904d6fc3533999b6.png","thumbnailOptimized":"/build/binance_futures_sett-b4a8da10c6eb01bf904d6fc3533999b6.webp","banner":"","bannerOptimized":"","tags":["交易所","配置","API","连接","问题解决"],"level":1},{"level":1,"title":"数据分析"},{"slug":"data-analysis","title":"使用 Jupyter 笔记本分析机器人数据","description":"使用 Jupyter 笔记本分析 Freqtrade 机器人的回测结果和交易历史数据","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strategy-analysis-example","title":"Freqtrade 策略分析示例","short_title":"策略分析示例","description":"本文档介绍如何使用 Freqtrade 提供的工具来分析和调试交易策略,包括数据可视化、回测分析等功能。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"advanced-backtesting","title":"高级回测分析","short_title":"高级回测","description":"本文档介绍了 FreqTrade 的高级回测分析功能,包括买入/卖出标签分析、信号导出等高级特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"高级话题"},{"slug":"advanced-setup","title":"高级安装后配置","short_title":"高级安装","description":"本文档介绍了 FreqTrade 安装后可以执行的高级任务和配置选项,包括多实例运行、日志配置等高级特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"trade-object","title":"交易对象文档","short_title":"交易对象指南","description":"本文档详细介绍了 Freqtrade 中的交易对象(Trade)，包括其属性、方法以及在策略中的使用方式。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lookahead-analysis","title":"前瞻性分析指南","short_title":"前瞻性分析","description":"前瞻性分析是一个用于检测和验证交易策略中是否存在前瞻性偏差的工具。本文档详细介绍了如何使用该工具来确保策略的有效性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"recursive-analysis","title":"递归分析指南","short_title":"递归分析","description":"递归分析是一个用于检测和验证交易策略中是否存在因递归公式导致的不准确性的工具。本文档详细介绍了如何使用该工具来确保策略的有效性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strategy-advanced","title":"Freqtrade 高级策略指南","short_title":"高级策略","description":"本文档详细介绍了 Freqtrade 交易机器人的高级策略开发概念,包括持久化存储、回调方法等进阶功能。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"advanced-hyperopt","title":"高级超参数优化","short_title":"高级超参数优化","description":"本文档介绍了 FreqTrade 的高级超参数优化功能,包括自定义损失函数等高级特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"advanced-orderflow","title":"高级委托流分析","short_title":"委托流分析","description":"本文档介绍了 FreqTrade 的委托流分析功能,包括如何配置和使用公共成交数据进行高级委托流分析。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"producer-consumer","title":"生产者/消费者模式","short_title":"生产者/消费者","description":"本文档介绍了 Freqtrade 的生产者/消费者模式,包括如何配置多个机器人实例共享计算指标和信号,以及相关的 websocket 设置。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["生产者","消费者","分布式","多实例","WebSocket"],"level":2},{"slug":"sql-cheatsheet","title":"SQL 助手","short_title":"SQL 助手","description":"本文档提供了使用 SQLite 数据库进行查询的详细指南和常用命令参考。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"edge","title":"Edge Positioning - 边缘定位","short_title":"Edge","description":"Edge Positioning 模块使用概率统计来计算交易胜率和风险回报比,从而优化策略的入场点、头寸大小和止损设置。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["Edge","概率","统计","策略优化","风险管理"],"level":2},{"slug":"faq","title":"Freqtrade 常见问题","short_title":"FAQ","description":"本文档回答了关于 Freqtrade 交易机器人的常见问题,包括支持的市场、初学者指南以及常见问题的故障排除。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"strategy-migration","title":"策略迁移指南","short_title":"策略迁移","description":"本文档详细介绍了如何将 Freqtrade V2 策略迁移到 V3，包括接口变更、方法重命名以及新增功能的完整说明。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"updating","title":"更新指南","short_title":"更新指南","description":"本文档详细介绍了如何更新 Freqtrade 的不同安装方式,包括 Docker、安装脚本和原生安装等方法。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"commands","title":"Commands","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"deprecated","title":"已弃用功能","short_title":"已弃用功能","description":"本文档介绍了 FreqTrade 中已弃用和移除的命令行参数、配置参数和机器人功能,帮助用户避免使用不再受支持的特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"developer","title":"开发者指南","short_title":"开发者指南","description":"本文档面向 FreqTrade 的开发者,介绍如何为项目做出贡献、配置开发环境、编写测试以及其他开发相关的重要信息。","date":"","thumbnail":"/build/pycharm_debug-7a8a6d1f4a91d643a2d41ff932bf9a82.png","thumbnailOptimized":"/build/pycharm_debug-7a8a6d1f4a91d643a2d41ff932bf9a82.webp","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":1,"title":"Commands"},{"slug":"main","title":"Main","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"backtesting-analysis","title":"Backtesting Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"backtesting-1","title":"Backtesting","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"backtesting-show","title":"Backtesting Show","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"convert-data","title":"Convert Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"convert-db","title":"Convert Db","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"convert-trade-data","title":"Convert Trade Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"create-userdir","title":"Create Userdir","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"download-data","title":"Download Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"edge-1","title":"Edge","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hyperopt-list","title":"Hyperopt List","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hyperopt-1","title":"Hyperopt","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hyperopt-show","title":"Hyperopt Show","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"install-ui","title":"Install Ui","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-data","title":"List Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-exchanges","title":"List Exchanges","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-freqaimodels","title":"List Freqaimodels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-hyperoptloss","title":"List Hyperoptloss","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-markets","title":"List Markets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-pairs","title":"List Pairs","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-strategies","title":"List Strategies","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-timeframes","title":"List Timeframes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lookahead-analysis-1","title":"Lookahead Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"new-config","title":"New Config","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"new-strategy","title":"New Strategy","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"plot-dataframe","title":"Plot Dataframe","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"plot-profit","title":"Plot Profit","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"recursive-analysis-1","title":"Recursive Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"show-config","title":"Show Config","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"show-trades","title":"Show Trades","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strategy-updater","title":"Strategy Updater","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"test-pairlist","title":"Test Pairlist","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"trade","title":"Trade","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"trades-to-ohlcv","title":"Trades To Ohlcv","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"webserver","title":"Webserver","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":2,"kind":"Article","sha256":"b44c313508c040ef4746dcda73c54e51deb29c0e4b76ba92381958071d469117","slug":"strategy-migration","location":"/strategy_migration.md","dependencies":[],"frontmatter":{"title":"策略迁移指南","description":"本文档详细介绍了如何将 Freqtrade V2 策略迁移到 V3，包括接口变更、方法重命名以及新增功能的完整说明。","short_title":"策略迁移","subtitle":"从 V2 到 V3 的策略迁移完整指南","subject":"Freqtrade V2 到 V3 迁移","authors":[{"id":"Freqtrade","name":"Freqtrade"}],"github":"https://github.com/freqtrade-cn/docs_zh-CN","keywords":["Freqtrade","中文文档","交易机器人","量化交易","加密货币","数字货币","区块链","人工智能","机器学习"],"edit_url":"https://github.com/freqtrade-cn/docs_zh-CN/blob/main/strategy_migration.md","exports":[{"format":"md","filename":"strategy_migration.md","url":"/build/strategy_migration-9186f124d7303f9dbe602f22b1136893.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"V2 和 V3 之间的策略迁移","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YKPOC1EQIG"}],"identifier":"v2-v3","label":"V2 和 V3 之间的策略迁移","html_id":"v2-v3","implicit":true,"key":"BOipIcufRy"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"为了支持新的市场和交易类型（即空头交易/杠杆交易），接口必须进行一些更改。\n如果你打算使用现货市场以外的市场，请将你的策略迁移到新格式。","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"l6TjDyQmqF"}],"key":"zAr6w4Cc9g"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"我们付出了很大努力来保持与现有策略的兼容性，所以如果你只想继续在__现货市场__使用 freqtrade，目前应该不需要任何更改。","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"QRKn1W2Mz6"}],"key":"ltU8kchSMB"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"你可以使用快速摘要作为检查清单。请参阅下面的详细部分以获取完整的迁移详情。","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"PRzjXBW7Lx"}],"key":"YfknaCbwld"},{"type":"heading","depth":3,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"快速摘要/迁移检查清单","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"CkrcOCDQbS"}],"identifier":"id","label":"快速摘要/迁移检查清单","html_id":"id","implicit":true,"key":"NCmwqKWG12"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"注意：","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"nROkDjz8rS"},{"type":"inlineCode","value":"forcesell","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"i19zRrUvWj"},{"type":"text","value":"、","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"HtiIdtmc7I"},{"type":"inlineCode","value":"forcebuy","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"by6WJfttVe"},{"type":"text","value":"、","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"VCi1enBdlE"},{"type":"inlineCode","value":"emergencysell","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"QpzgFgr9Ul"},{"type":"text","value":" 分别改为 ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"BfNK7aIFjI"},{"type":"inlineCode","value":"force_exit","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"IoNzSzjcPT"},{"type":"text","value":"、","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"QJuLbb4W3T"},{"type":"inlineCode","value":"force_enter","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"dcP1GBURvE"},{"type":"text","value":"、","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"uVMiUB5xtC"},{"type":"inlineCode","value":"emergency_exit","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"J9KMw098sc"},{"type":"text","value":"。","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"U3IWcYO40K"}],"key":"ZDuC9ABZBu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":22,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"策略方法：","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"RB80p3Goyk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":23,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"link","url":"#populate_buy_trend","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"inlineCode","value":"populate_buy_trend()","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"RNVjmD2y97"},{"type":"text","value":" -\u003e ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"NWkhHabHDU"},{"type":"inlineCode","value":"populate_entry_trend()","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"A0sVK8bMvu"}],"urlSource":"#populate_buy_trend","key":"HZ8PR1HiSk"}],"key":"bXgschWwTH"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"link","url":"#populate_sell_trend","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"inlineCode","value":"populate_sell_trend()","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"tx7St2Cl33"},{"type":"text","value":" -\u003e ","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"v36uS6XgYP"},{"type":"inlineCode","value":"populate_exit_trend()","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"P7yBrcndcj"}],"urlSource":"#populate_sell_trend","key":"vXzYEsRe6f"}],"key":"i8yObHMfJM"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"link","url":"#custom_sell","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"inlineCode","value":"custom_sell()","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"kfI32MEjo0"},{"type":"text","value":" -\u003e ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"W0BfHhDoi1"},{"type":"inlineCode","value":"custom_exit()","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"BA7SYLpha5"}],"urlSource":"#custom_sell","key":"USGloGxUx1"}],"key":"yGhy8oYBc9"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"link","url":"#custom_entry_timeout","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"inlineCode","value":"check_buy_timeout()","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"DXmbBndnm9"},{"type":"text","value":" -\u003e ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"CARoIvSTit"},{"type":"inlineCode","value":"check_entry_timeout()","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"oiF4joBW2i"}],"urlSource":"#custom_entry_timeout","key":"UosO30aBYN"}],"key":"VJaxstFbF6"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"link","url":"#custom_entry_timeout","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"inlineCode","value":"check_sell_timeout()","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"UEwSiedory"},{"type":"text","value":" -\u003e ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"JqND2usVyg"},{"type":"inlineCode","value":"check_exit_timeout()","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"cwBW7mL5PV"}],"urlSource":"#custom_entry_timeout","key":"jv2puVysoI"}],"key":"Maw58ik5Pn"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"没有交易对象的回调新增 ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"dNQwM5eXlq"},{"type":"inlineCode","value":"side","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"tdYWsOcr14"},{"type":"text","value":" 参数","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"We1PHGTEC3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":29,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"link","url":"#custom_stake_amount","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"inlineCode","value":"custom_stake_amount","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"SfFArpajyc"}],"urlSource":"#custom_stake_amount","key":"WdbgWaAc3z"}],"key":"DI38qwWE1x"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"link","url":"#confirm_trade_entry","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_entry","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"W3Iu6Sgzww"}],"urlSource":"#confirm_trade_entry","key":"IuCDMht9DZ"}],"key":"RtHAeRHn5w"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"link","url":"#custom_entry_price","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"inlineCode","value":"custom_entry_price","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"WKZoCgIFGc"}],"urlSource":"#custom_entry_price","key":"j6vDVmtPV6"}],"key":"sq64awgyP2"}],"key":"gLcQNV2wMe"}],"key":"KapOYWmVZo"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"link","url":"#confirm_trade_exit","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_exit","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"SwEkAynlxC"},{"type":"text","value":" 中更改参数名称","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"YP6c1qu7Vs"}],"urlSource":"#confirm_trade_exit","key":"Q7dclV4jOL"}],"key":"cgeNepy7xu"}],"key":"LwGG2ECVgT"}],"key":"JbzjM06atK"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"数据框列：","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"lsrcnZYETB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":34,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"link","url":"#populate_buy_trend","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"inlineCode","value":"buy","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"KfIPhe7QUk"},{"type":"text","value":" -\u003e ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"HdaBdVsNdN"},{"type":"inlineCode","value":"enter_long","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"eNfmJ618S4"}],"urlSource":"#populate_buy_trend","key":"tkoklb825x"}],"key":"wPHghiGSl8"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"link","url":"#populate_sell_trend","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"inlineCode","value":"sell","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"BHgT1gdsiD"},{"type":"text","value":" -\u003e ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"Varzm9lFQ2"},{"type":"inlineCode","value":"exit_long","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"Kix2aL78Na"}],"urlSource":"#populate_sell_trend","key":"k3eR7xumzW"}],"key":"M46VsdLhsi"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"link","url":"#populate_buy_trend","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"inlineCode","value":"buy_tag","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"x33uud2zcE"},{"type":"text","value":" -\u003e ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"obTq7wmAii"},{"type":"inlineCode","value":"enter_tag","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"mrlMWJVn86"},{"type":"text","value":"（用于多头和空头交易）","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"iJa3xrauuI"}],"urlSource":"#populate_buy_trend","key":"VaTqbaFiXv"}],"key":"C2eQLjva4x"},{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"link","url":"#populate_sell_trend","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"新增列 ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"nOBt8yJgq7"},{"type":"inlineCode","value":"enter_short","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"PmGJAQ2MHF"},{"type":"text","value":" 和相应的新列 ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"nOLkXWmGS1"},{"type":"inlineCode","value":"exit_short","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"mDjKJBjAcs"}],"urlSource":"#populate_sell_trend","key":"I1txsLnvJ2"}],"key":"jNVHktC6UP"}],"key":"XQFV7IueJc"}],"key":"wlww9nun4B"},{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"trade-object 现在有以下新属性：","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"zoCo23e8C6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":39,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"inlineCode","value":"is_short","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"zwx3OeKzpk"}],"key":"pfcaQ4ZG0B"},{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"inlineCode","value":"entry_side","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"lMn52yzduw"}],"key":"usD6KObV3k"},{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"inlineCode","value":"exit_side","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"i1c1y7qLCU"}],"key":"vhcRsY6rip"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"inlineCode","value":"trade_direction","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"QDurLzWChU"}],"key":"yyS5pbG5Gr"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"重命名：","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"dwnpVxqQzg"},{"type":"inlineCode","value":"sell_reason","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"ijFQxhPxSU"},{"type":"text","value":" -\u003e ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"kJI2zi2joq"},{"type":"inlineCode","value":"exit_reason","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"L3ifl7ccAr"}],"key":"XyaRPDseha"}],"key":"YO7SCpOStD"}],"key":"Aqdw92uIJC"},{"type":"listItem","spread":true,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"link","url":"#adjust-trade-position-changes","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"将 ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"CAR1rXWXCC"},{"type":"inlineCode","value":"trade.nr_of_successful_buys","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"CmELheTUF3"},{"type":"text","value":" 重命名为 ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"upkcSrRDoq"},{"type":"inlineCode","value":"trade.nr_of_successful_entries","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"hgx0zBqHev"},{"type":"text","value":"（主要与 ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"eEq8sejbwZ"},{"type":"inlineCode","value":"adjust_trade_position()","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"dGUD08sBDS"},{"type":"text","value":" 相关）","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"tfCo4TLOCP"}],"urlSource":"#adjust-trade-position-changes","key":"ZBwAptAZus"}],"key":"GbR5lXyOtS"},{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"引入新的 ","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"ZZDpHubJNm"},{"type":"crossReference","url":"/strategy-callbacks","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"inlineCode","value":"leverage","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"bMMLOVnDYa"},{"type":"text","value":" 回调","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"hXSOBpofg2"}],"urlSource":"strategy-callbacks.md#leverage-callback","dataUrl":"/strategy-callbacks.json","identifier":"leverage-callback","label":"leverage-callback","remote":true,"protocol":"file","key":"rHFP5colN1"},{"type":"text","value":"。","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"x1OU3PTD74"}],"key":"Fh1PxVlU1P"},{"type":"listItem","spread":true,"position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"信息对现在可以在元组中传递第三个元素，定义蜡烛类型。","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"biVXIgxRyQ"}],"key":"nmwhGkncFX"},{"type":"listItem","spread":true,"position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"inlineCode","value":"@informative","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"xi2XAJEIcR"},{"type":"text","value":" 装饰器现在接受可选的 ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"ieL9iRJrSA"},{"type":"inlineCode","value":"candle_type","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"Al80wCGbzk"},{"type":"text","value":" 参数。","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"Snglm8RUBn"}],"key":"Q20lWhmWj3"},{"type":"listItem","spread":true,"position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"link","url":"#helper-methods","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"辅助方法","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"BDcoztHzR5"}],"urlSource":"#helper-methods","key":"MFqlKN4aqn"},{"type":"text","value":" ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"UhwsRC0tho"},{"type":"inlineCode","value":"stoploss_from_open","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"LnjDtzqbqe"},{"type":"text","value":" 和 ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"KOh5xyQo1Y"},{"type":"inlineCode","value":"stoploss_from_absolute","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"GVfS0rk199"},{"type":"text","value":" 现在接受 ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"iaXFzVblrd"},{"type":"inlineCode","value":"is_short","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"lSoDT8qfy5"},{"type":"text","value":" 作为附加参数。","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"tcrX74769y"}],"key":"fuKIxvp13o"},{"type":"listItem","spread":true,"position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"inlineCode","value":"INTERFACE_VERSION","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"S9nr6HNivi"},{"type":"text","value":" 应设置为 3。","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"G3c2bNTZyN"}],"key":"VDnukMAuFI"},{"type":"listItem","spread":true,"position":{"start":{"line":50,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"link","url":"#strategyconfiguration-settings","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"策略/配置设置","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"WROk4BxmK3"}],"urlSource":"#strategyconfiguration-settings","key":"JIakPb2DOW"},{"type":"text","value":"。","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"sYnaNa1XlR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":51,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"inlineCode","value":"order_time_in_force","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"Pca22uvn9E"},{"type":"text","value":" buy -\u003e entry, sell -\u003e exit。","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"qK5k1vHZVL"}],"key":"RJOG3f39cv"},{"type":"listItem","spread":true,"position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"inlineCode","value":"order_types","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"Y4oDkmAjkb"},{"type":"text","value":" buy -\u003e entry, sell -\u003e exit。","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"mynAamS4wi"}],"key":"nYEIJgn9PK"},{"type":"listItem","spread":true,"position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"inlineCode","value":"unfilledtimeout","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"VG8qmtnFSx"},{"type":"text","value":" buy -\u003e entry, sell -\u003e exit。","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"o4LAU3mIfK"}],"key":"MRkZ1aDyEn"},{"type":"listItem","spread":true,"position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"inlineCode","value":"ignore_buying_expired_candle_after","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"WthapmEaQn"},{"type":"text","value":" -\u003e 移到根级别而不是 “ask_strategy/exit_pricing”","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"E0hVqzchhi"}],"key":"nIwRLDcyKy"}],"key":"VWJ1eVC53H"}],"key":"dNN5hZIzRU"},{"type":"listItem","spread":true,"position":{"start":{"line":55,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"术语更改","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"nTM40hbvxX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":56,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":56,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"卖出原因改为反映新的\"exit\"命名而不是 sells。如果你在策略中使用 ","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"OgcBjZIvIK"},{"type":"inlineCode","value":"exit_reason","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"bHvyF9z1EH"},{"type":"text","value":" 检查，请小心并最终更新你的策略。","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"NdVAqS4Pm8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":57,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"inlineCode","value":"sell_signal","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"S4R7D3vUH6"},{"type":"text","value":" -\u003e ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"SMg4dzCD4Z"},{"type":"inlineCode","value":"exit_signal","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"eh4ZrUO6Cf"}],"key":"ooOhNnj5ev"},{"type":"listItem","spread":true,"position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"inlineCode","value":"custom_sell","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"bZJWbjHsGY"},{"type":"text","value":" -\u003e ","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"wiL0ZuSvyx"},{"type":"inlineCode","value":"custom_exit","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"Auff3dBHqk"}],"key":"eP6g9oZ3Px"},{"type":"listItem","spread":true,"position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"inlineCode","value":"force_sell","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"XVZ4NXFLsU"},{"type":"text","value":" -\u003e ","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"eVgGEA32Au"},{"type":"inlineCode","value":"force_exit","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"siOpyonXQw"}],"key":"XPAP5XeaTs"},{"type":"listItem","spread":true,"position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"inlineCode","value":"emergency_sell","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"nzv2Jswsmp"},{"type":"text","value":" -\u003e ","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"DQgVmS593T"},{"type":"inlineCode","value":"emergency_exit","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"At4x5uYknT"}],"key":"HW1qcgU6U2"}],"key":"nXfOlRrrcp"}],"key":"OhMSCPpouA"},{"type":"listItem","spread":true,"position":{"start":{"line":61,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"订单定价","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"NEtRGTsVKk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":62,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"inlineCode","value":"bid_strategy","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"bsFE8Xuhzp"},{"type":"text","value":" -\u003e ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"S7VdH4ybXp"},{"type":"inlineCode","value":"entry_pricing","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"MSo1EOViw7"}],"key":"JcgYiSvtci"},{"type":"listItem","spread":true,"position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"inlineCode","value":"ask_strategy","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"iB1daNktAh"},{"type":"text","value":" -\u003e ","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"bFF1SpwNle"},{"type":"inlineCode","value":"exit_pricing","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"qjnxukgr2b"}],"key":"b3XySeaavg"},{"type":"listItem","spread":true,"position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"inlineCode","value":"ask_last_balance","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"Uhq6Xl6otU"},{"type":"text","value":" -\u003e ","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"kwDlIY6Kdk"},{"type":"inlineCode","value":"price_last_balance","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"JGok0mU9kz"}],"key":"ZEClFAYq4K"},{"type":"listItem","spread":true,"position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"inlineCode","value":"bid_last_balance","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"xnBWEyCV0N"},{"type":"text","value":" -\u003e ","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"ACiR8XAHRR"},{"type":"inlineCode","value":"price_last_balance","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"ETT1ZhR8dd"}],"key":"hveEqQTXDr"}],"key":"M0GL5GA7eq"}],"key":"A9odbHhT7v"},{"type":"listItem","spread":true,"position":{"start":{"line":66,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"Webhook 术语从\"sell\"改为\"exit\"，从\"buy\"改为 entry","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"LNvXBzDpJr"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":67,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"inlineCode","value":"webhookbuy","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"uQgfMjxKZx"},{"type":"text","value":" -\u003e ","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"F2lDjs2trx"},{"type":"inlineCode","value":"entry","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"FEgdn1cZYI"}],"key":"dJ8gFZ0ap9"},{"type":"listItem","spread":true,"position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"inlineCode","value":"webhookbuyfill","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"CjEb0x19DE"},{"type":"text","value":" -\u003e ","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"RHyok4nQXj"},{"type":"inlineCode","value":"entry_fill","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"VRr4gE5HvN"}],"key":"XVWd1yh754"},{"type":"listItem","spread":true,"position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"inlineCode","value":"webhookbuycancel","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"PBJQkx9UVC"},{"type":"text","value":" -\u003e ","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"kjjHvjgd2F"},{"type":"inlineCode","value":"entry_cancel","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"jsFvQ8gz3M"}],"key":"hbcKYc9Jr5"},{"type":"listItem","spread":true,"position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"children":[{"type":"inlineCode","value":"webhooksell","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"eGAa4sCfcV"},{"type":"text","value":" -\u003e ","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"FuEzS655bd"},{"type":"inlineCode","value":"exit","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"GZDBeweV4o"}],"key":"tOcRrQQNkK"},{"type":"listItem","spread":true,"position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"inlineCode","value":"webhooksellfill","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"vGCPlwP6st"},{"type":"text","value":" -\u003e ","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"dopFjdiZ1t"},{"type":"inlineCode","value":"exit_fill","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"wyPUMX08oW"}],"key":"B4Zi9M1elb"},{"type":"listItem","spread":true,"position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"inlineCode","value":"webhooksellcancel","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"AQp46CCtc4"},{"type":"text","value":" -\u003e ","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"F18430HOTK"},{"type":"inlineCode","value":"exit_cancel","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"cnZjzKO6Mt"}],"key":"qN5ZaCpUPe"}],"key":"ds3mTs3Xtr"}],"key":"KIbkU5oRNx"},{"type":"listItem","spread":true,"position":{"start":{"line":73,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"Telegram 通知设置","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"rpvonYk5c8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":74,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"inlineCode","value":"buy","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"ZwcBdTRrVu"},{"type":"text","value":" -\u003e ","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"oHuU8bFhQt"},{"type":"inlineCode","value":"entry","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"diQWP6AhSX"}],"key":"zEOfWZM45o"},{"type":"listItem","spread":true,"position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"inlineCode","value":"buy_fill","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"jqRlvrFQCs"},{"type":"text","value":" -\u003e ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"OanGZ5DHi2"},{"type":"inlineCode","value":"entry_fill","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"CwauUgtg7H"}],"key":"mnaYg4OMwz"},{"type":"listItem","spread":true,"position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"inlineCode","value":"buy_cancel","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"GayWwBnoDX"},{"type":"text","value":" -\u003e ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"kot3qHswlN"},{"type":"inlineCode","value":"entry_cancel","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"OMTgYAfVV5"}],"key":"jbh9GzM99E"},{"type":"listItem","spread":true,"position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"inlineCode","value":"sell","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"ZsUDmQxIYk"},{"type":"text","value":" -\u003e ","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"CdpoPJMmq5"},{"type":"inlineCode","value":"exit","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"gbpP0C9DGk"}],"key":"x9AdZHdn7R"},{"type":"listItem","spread":true,"position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"inlineCode","value":"sell_fill","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"dBFJuQj5xv"},{"type":"text","value":" -\u003e ","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"dSx5Aw4FLp"},{"type":"inlineCode","value":"exit_fill","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"Q0AdPz8gwx"}],"key":"YDLW697SrU"},{"type":"listItem","spread":true,"position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"inlineCode","value":"sell_cancel","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"vpjpVWIpgy"},{"type":"text","value":" -\u003e ","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"rylrprsOgG"},{"type":"inlineCode","value":"exit_cancel","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"L4OWZW1NRv"}],"key":"aN0IjbxDgM"}],"key":"BLGhiSABLS"}],"key":"EfJMIO2gYD"},{"type":"listItem","spread":true,"position":{"start":{"line":80,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"策略/配置设置：","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"lIaev4xsSy"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":81,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"inlineCode","value":"use_sell_signal","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"wgevu2c6fT"},{"type":"text","value":" -\u003e ","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"raa25dSL3a"},{"type":"inlineCode","value":"use_exit_signal","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"Q9r0Q02xRd"}],"key":"LjpnBNOyBK"},{"type":"listItem","spread":true,"position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"inlineCode","value":"sell_profit_only","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"ptBrCWMvYC"},{"type":"text","value":" -\u003e ","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"C9wdwlSIog"},{"type":"inlineCode","value":"exit_profit_only","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"mVwqw5JcY7"}],"key":"KHkuTf6zrt"},{"type":"listItem","spread":true,"position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"inlineCode","value":"sell_profit_offset","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"ga87nwJ695"},{"type":"text","value":" -\u003e ","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"aJSB5SZbDu"},{"type":"inlineCode","value":"exit_profit_offset","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"eprDx9QaBq"}],"key":"uqXyheW7gt"},{"type":"listItem","spread":true,"position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"inlineCode","value":"ignore_roi_if_buy_signal","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"x3lEFsQ9Ma"},{"type":"text","value":" -\u003e ","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"IP5nR1FrPp"},{"type":"inlineCode","value":"ignore_roi_if_entry_signal","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"MbVmGohzPT"}],"key":"yo2tt8BEAC"},{"type":"listItem","spread":true,"position":{"start":{"line":85,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"inlineCode","value":"forcebuy_enable","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"bDX3Ufe7VS"},{"type":"text","value":" -\u003e ","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"AbPd4pYsIQ"},{"type":"inlineCode","value":"force_entry_enable","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"c4HowNm62P"}],"key":"rP9CjrJasm"}],"key":"C0qfRcJaNp"}],"key":"Oj0g0fx4Gz"}],"key":"Ou3Upujnpv"}],"key":"EZ5Fk7sRQR"}],"key":"GWSyhVqmqq"},{"type":"heading","depth":3,"position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"详细说明","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"QtJKbYKsRn"}],"identifier":"id","label":"详细说明","html_id":"id-1","implicit":true,"key":"OmwepM2aXK"},{"type":"heading","depth":4,"position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"inlineCode","value":"populate_buy_trend","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"tXGvWQcfoy"}],"identifier":"populate-buy-trend","label":"populate_buy_trend","html_id":"populate-buy-trend","implicit":true,"key":"WHcQNruAtS"},{"type":"paragraph","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"text","value":"在 ","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"hRdFilDY6v"},{"type":"inlineCode","value":"populate_buy_trend()","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"mBPzGKFwyL"},{"type":"text","value":" 中 - 你需要将分配的列从 ","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"UC5KZxQ5WQ"},{"type":"inlineCode","value":"'buy'","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"LW9kzgM83R"},{"type":"text","value":" 改为 ","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"jm14Sxbkza"},{"type":"inlineCode","value":"'enter_long'","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"xCni2DR2fO"},{"type":"text","value":"，同时将方法名从 ","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"NNWFzmzVsh"},{"type":"inlineCode","value":"populate_buy_trend","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"eW0oDem3TC"},{"type":"text","value":" 改为 ","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"kzFHURxB8V"},{"type":"inlineCode","value":"populate_entry_trend","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"K7FJhcrUny"},{"type":"text","value":"。","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"E4USTotqPI"}],"key":"PZDAb7deKs"},{"type":"code","lang":"python","value":"def populate_buy_trend(self, dataframe: DataFrame, metadata: dict) -\u003e DataFrame:\n    dataframe.loc[\n        (\n            (qtpylib.crossed_above(dataframe['rsi'], 30)) \u0026  # 信号：RSI 上穿 30\n            (dataframe['tema'] \u003c= dataframe['bb_middleband']) \u0026  # 守卫\n            (dataframe['tema'] \u003e dataframe['tema'].shift(1)) \u0026  # 守卫\n            (dataframe['volume'] \u003e 0)  # 确保成交量不为 0\n        ),\n        ['buy', 'buy_tag']] = (1, 'rsi_cross')\n\n    return dataframe","position":{"start":{"line":93,"column":1},"end":{"line":105,"column":1}},"key":"Y2tDcBnMQ9"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"rnQIcuAn3q"}],"key":"qZB7Y5dJ8r"},{"type":"code","lang":"python","value":"def populate_entry_trend(self, dataframe: DataFrame, metadata: dict) -\u003e DataFrame:\n    dataframe.loc[\n        (\n            (qtpylib.crossed_above(dataframe['rsi'], 30)) \u0026  # 信号：RSI 上穿 30\n            (dataframe['tema'] \u003c= dataframe['bb_middleband']) \u0026  # 守卫\n            (dataframe['tema'] \u003e dataframe['tema'].shift(1)) \u0026  # 守卫\n            (dataframe['volume'] \u003e 0)  # 确保成交量不为 0\n        ),\n        ['enter_long', 'enter_tag']] = (1, 'rsi_cross')\n\n    return dataframe","position":{"start":{"line":109,"column":1},"end":{"line":121,"column":1}},"key":"EkRSSd4QLM"},{"type":"paragraph","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"请参阅","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"ycKgSjcjLb"},{"type":"crossReference","url":"/strategy-customization","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"策略文档","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"L29PmyLdpt"}],"urlSource":"strategy-customization.md#entry-signal-rules","dataUrl":"/strategy-customization.json","identifier":"entry-signal-rules","label":"entry-signal-rules","remote":true,"protocol":"file","key":"tnIwputfrt"},{"type":"text","value":"了解如何入场和出场空头交易。","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"bAFq6l5tlS"}],"key":"NLFoVq7Cq0"},{"type":"heading","depth":4,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"inlineCode","value":"populate_sell_trend","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"zkPBGONKCz"}],"identifier":"populate-sell-trend","label":"populate_sell_trend","html_id":"populate-sell-trend","implicit":true,"key":"TckYGOobso"},{"type":"paragraph","position":{"start":{"line":127,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"与 ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"OXBgwVhjHS"},{"type":"inlineCode","value":"populate_buy_trend","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"p7g9eUUjqT"},{"type":"text","value":" 类似，","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"UyRgurv2sj"},{"type":"inlineCode","value":"populate_sell_trend()","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"wiDeAld39g"},{"type":"text","value":" 将重命名为 ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"LHwSet0Kkk"},{"type":"inlineCode","value":"populate_exit_trend()","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"jR8mlqCGRP"},{"type":"text","value":"。\n我们还将列从 ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"c8jwfFfsCt"},{"type":"inlineCode","value":"'sell'","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"i5I98qlE58"},{"type":"text","value":" 改为 ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"uqpgu9B730"},{"type":"inlineCode","value":"'exit_long'","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"lB6PU7h1XZ"},{"type":"text","value":"。","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"jLSGgjpavW"}],"key":"sAQKA3xCN6"},{"type":"code","lang":"python","value":"def populate_sell_trend(self, dataframe: DataFrame, metadata: dict) -\u003e DataFrame:\n    dataframe.loc[\n        (\n            (qtpylib.crossed_above(dataframe['rsi'], 70)) \u0026  # 信号：RSI 上穿 70\n            (dataframe['tema'] \u003e dataframe['bb_middleband']) \u0026  # 守卫\n            (dataframe['tema'] \u003c dataframe['tema'].shift(1)) \u0026  # 守卫\n            (dataframe['volume'] \u003e 0)  # 确保成交量不为 0\n        ),\n        ['sell', 'exit_tag']] = (1, 'some_exit_tag')\n    return dataframe","position":{"start":{"line":130,"column":1},"end":{"line":141,"column":1}},"key":"A51ZxSnj1E"},{"type":"paragraph","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"R2WiXxRXk5"}],"key":"VdeiqWyKSI"},{"type":"code","lang":"python","value":"def populate_exit_trend(self, dataframe: DataFrame, metadata: dict) -\u003e DataFrame:\n    dataframe.loc[\n        (\n            (qtpylib.crossed_above(dataframe['rsi'], 70)) \u0026  # 信号：RSI 上穿 70\n            (dataframe['tema'] \u003e dataframe['bb_middleband']) \u0026  # 守卫\n            (dataframe['tema'] \u003c dataframe['tema'].shift(1)) \u0026  # 守卫\n            (dataframe['volume'] \u003e 0)  # 确保成交量不为 0\n        ),\n        ['exit_long', 'exit_tag']] = (1, 'some_exit_tag')\n    return dataframe","position":{"start":{"line":145,"column":1},"end":{"line":156,"column":1}},"key":"Qf62mWtMz0"},{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"请参阅","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"Dd0ozmxHzN"},{"type":"crossReference","url":"/strategy-customization","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"策略文档","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"bMSnNquuc4"}],"urlSource":"strategy-customization.md#exit-signal-rules","dataUrl":"/strategy-customization.json","identifier":"exit-signal-rules","label":"exit-signal-rules","remote":true,"protocol":"file","key":"FvKvViPm7p"},{"type":"text","value":"了解如何入场和出场空头交易。","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"lTH9FLXLvv"}],"key":"tBgRukFzIP"},{"type":"heading","depth":4,"position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"inlineCode","value":"custom_sell","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"jd4UmDvC75"}],"identifier":"custom-sell","label":"custom_sell","html_id":"custom-sell","implicit":true,"key":"ODNqWsgzXi"},{"type":"paragraph","position":{"start":{"line":162,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"inlineCode","value":"custom_sell","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"Um8Dpin71w"},{"type":"text","value":" 已重命名为 ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"Zza8iaYtsl"},{"type":"inlineCode","value":"custom_exit","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"uhle6VDZpi"},{"type":"text","value":"。\n它现在也会在每次迭代时被调用，与当前利润和 ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"iZ4dKW3iEo"},{"type":"inlineCode","value":"exit_profit_only","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"S5TBOk3qDl"},{"type":"text","value":" 设置无关。","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"AEqGofyOdI"}],"key":"id2R0WChwW"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def custom_sell(self, pair: str, trade: 'Trade', current_time: 'datetime', current_rate: float,\n                    current_profit: float, **kwargs):\n        dataframe, _ = self.dp.get_analyzed_dataframe(pair, self.timeframe)\n        last_candle = dataframe.iloc[-1].squeeze()\n        # ...","position":{"start":{"line":165,"column":1},"end":{"line":172,"column":1}},"key":"iXGH29rQJO"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def custom_exit(self, pair: str, trade: 'Trade', current_time: 'datetime', current_rate: float,\n                    current_profit: float, **kwargs):\n        dataframe, _ = self.dp.get_analyzed_dataframe(pair, self.timeframe)\n        last_candle = dataframe.iloc[-1].squeeze()\n        # ...","position":{"start":{"line":174,"column":1},"end":{"line":181,"column":1}},"key":"rMx3UUqu3N"},{"type":"heading","depth":4,"position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"inlineCode","value":"custom_entry_timeout","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"key":"GgEzVHBrG6"}],"identifier":"custom-entry-timeout","label":"custom_entry_timeout","html_id":"custom-entry-timeout","implicit":true,"key":"jSyr1Zag3u"},{"type":"paragraph","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"inlineCode","value":"check_buy_timeout()","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"VyvFHmxNyw"},{"type":"text","value":" 已重命名为 ","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"nDHGdwchBD"},{"type":"inlineCode","value":"check_entry_timeout()","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"Jpb3kd0y1F"},{"type":"text","value":"，","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"FXHLRPpRMX"},{"type":"inlineCode","value":"check_sell_timeout()","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"eJvQncpEwb"},{"type":"text","value":" 已重命名为 ","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"aONdAuAayE"},{"type":"inlineCode","value":"check_exit_timeout()","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"ekw8f9qmlY"},{"type":"text","value":"。","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"KjcsFjaniy"}],"key":"HCjNjuMt93"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def check_buy_timeout(self, pair: str, trade: 'Trade', order: dict, \n                            current_time: datetime, **kwargs) -\u003e bool:\n        return False\n\n    def check_sell_timeout(self, pair: str, trade: 'Trade', order: dict, \n                            current_time: datetime, **kwargs) -\u003e bool:\n        return False ","position":{"start":{"line":187,"column":1},"end":{"line":196,"column":1}},"key":"NUUyjdQRzx"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def check_entry_timeout(self, pair: str, trade: 'Trade', order: 'Order', \n                            current_time: datetime, **kwargs) -\u003e bool:\n        return False\n\n    def check_exit_timeout(self, pair: str, trade: 'Trade', order: 'Order', \n                            current_time: datetime, **kwargs) -\u003e bool:\n        return False ","position":{"start":{"line":198,"column":1},"end":{"line":207,"column":1}},"key":"Eg8wcW20Y5"},{"type":"heading","depth":4,"position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"children":[{"type":"inlineCode","value":"custom_stake_amount","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"k4V6O3rX30"}],"identifier":"custom-stake-amount","label":"custom_stake_amount","html_id":"custom-stake-amount","implicit":true,"key":"ygLOqXdySl"},{"type":"paragraph","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"新增字符串参数 ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"RTI00cE5pi"},{"type":"inlineCode","value":"side","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"IXH3xbIbhX"},{"type":"text","value":" - 可以是 ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"FzlqNKEKhw"},{"type":"inlineCode","value":"\"long\"","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"AOHdmsoY4d"},{"type":"text","value":" 或 ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"tJfe4DmIeH"},{"type":"inlineCode","value":"\"short\"","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"WW5HP6N1KD"},{"type":"text","value":"。","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"Nk15xIzi2O"}],"key":"iJKUU4zGn4"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def custom_stake_amount(self, pair: str, current_time: datetime, current_rate: float,\n                            proposed_stake: float, min_stake: Optional[float], max_stake: float,\n                            entry_tag: Optional[str], **kwargs) -\u003e float:\n        # ... \n        return proposed_stake","position":{"start":{"line":213,"column":1},"end":{"line":220,"column":1}},"key":"aK5L0m1W5B"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def custom_stake_amount(self, pair: str, current_time: datetime, current_rate: float,\n                            proposed_stake: float, min_stake: float | None, max_stake: float,\n                            entry_tag: str | None, side: str, **kwargs) -\u003e float:\n        # ... \n        return proposed_stake","position":{"start":{"line":222,"column":1},"end":{"line":229,"column":1}},"key":"q8UY43y5qj"},{"type":"heading","depth":4,"position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_entry","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"rUs3VNZu9K"}],"identifier":"confirm-trade-entry","label":"confirm_trade_entry","html_id":"confirm-trade-entry","implicit":true,"key":"K8eAExLxJn"},{"type":"paragraph","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"新增字符串参数 ","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"S7VMLtLgJx"},{"type":"inlineCode","value":"side","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"wQLjycSt6T"},{"type":"text","value":" - 可以是 ","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"BnWrJbTr77"},{"type":"inlineCode","value":"\"long\"","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"AWc9tS70V9"},{"type":"text","value":" 或 ","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"fx2SwXRYNk"},{"type":"inlineCode","value":"\"short\"","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"MvzAeTiUVv"},{"type":"text","value":"。","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"BwnNgBexdP"}],"key":"PUApfQ3ABy"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def confirm_trade_entry(self, pair: str, order_type: str, amount: float, rate: float,\n                            time_in_force: str, current_time: datetime, entry_tag: Optional[str], \n                            **kwargs) -\u003e bool:\n      return True","position":{"start":{"line":235,"column":1},"end":{"line":241,"column":1}},"key":"rkYLyoFuto"},{"type":"paragraph","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"r93KVNZYM2"}],"key":"YUBUxgmN8R"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def confirm_trade_entry(self, pair: str, order_type: str, amount: float, rate: float,\n                            time_in_force: str, current_time: datetime, entry_tag: str | None, \n                            side: str, **kwargs) -\u003e bool:\n      return True","position":{"start":{"line":245,"column":1},"end":{"line":251,"column":1}},"key":"aU6rwbbDZg"},{"type":"heading","depth":4,"position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_exit","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"e0P1sYk3nF"}],"identifier":"confirm-trade-exit","label":"confirm_trade_exit","html_id":"confirm-trade-exit","implicit":true,"key":"LcLZ498Qnp"},{"type":"paragraph","position":{"start":{"line":255,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"text","value":"将参数 ","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"RagqbWHh4t"},{"type":"inlineCode","value":"sell_reason","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"cNVk1IAjAv"},{"type":"text","value":" 改为 ","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"Z1SjN08RpS"},{"type":"inlineCode","value":"exit_reason","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"rdcGglwYIP"},{"type":"text","value":"。\n为了兼容性，","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"s9g8wb3AYA"},{"type":"inlineCode","value":"sell_reason","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"U2J82aGet7"},{"type":"text","value":" 仍将在有限时间内提供。","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"wsAlCPp3Ov"}],"key":"tvU1Snmr7y"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def confirm_trade_exit(self, pair: str, trade: Trade, order_type: str, amount: float,\n                           rate: float, time_in_force: str, sell_reason: str,\n                           current_time: datetime, **kwargs) -\u003e bool:\n    return True","position":{"start":{"line":258,"column":1},"end":{"line":264,"column":1}},"key":"g6RWPYJNJh"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"pDVwecrOTK"}],"key":"VyG1FBrMHW"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def confirm_trade_exit(self, pair: str, trade: Trade, order_type: str, amount: float,\n                           rate: float, time_in_force: str, exit_reason: str,\n                           current_time: datetime, **kwargs) -\u003e bool:\n    return True","position":{"start":{"line":268,"column":1},"end":{"line":274,"column":1}},"key":"RFm3nHoMKz"},{"type":"heading","depth":4,"position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"children":[{"type":"inlineCode","value":"custom_entry_price","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"key":"ccKCppa62d"}],"identifier":"custom-entry-price","label":"custom_entry_price","html_id":"custom-entry-price","implicit":true,"key":"zeLW61nK7F"},{"type":"paragraph","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"text","value":"新增字符串参数 ","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"wJSSH4j5sa"},{"type":"inlineCode","value":"side","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"CW2rOuogNc"},{"type":"text","value":" - 可以是 ","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"hOkurnKN86"},{"type":"inlineCode","value":"\"long\"","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"TaQsPg0yrU"},{"type":"text","value":" 或 ","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"hobbWMJZrN"},{"type":"inlineCode","value":"\"short\"","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"d8BpwpdVg3"},{"type":"text","value":"。","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"WygroOOZqp"}],"key":"I6UyavpC8U"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def custom_entry_price(self, pair: str, current_time: datetime, proposed_rate: float,\n                           entry_tag: Optional[str], **kwargs) -\u003e float:\n      return proposed_rate","position":{"start":{"line":280,"column":1},"end":{"line":285,"column":1}},"key":"B9fZJwQpgG"},{"type":"paragraph","position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"key":"Nzd9IYPOq0"}],"key":"M1BfXmqm9H"},{"type":"code","lang":"python","value":"class AwesomeStrategy(IStrategy):\n    def custom_entry_price(self, pair: str, trade: Trade | None, current_time: datetime, proposed_rate: float,\n                           entry_tag: str | None, side: str, **kwargs) -\u003e float:\n      return proposed_rate","position":{"start":{"line":289,"column":1},"end":{"line":294,"column":1}},"key":"ODRgQCbQQn"},{"type":"heading","depth":4,"position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"children":[{"type":"text","value":"调整交易仓位更改","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"key":"pgMzE1CQP0"}],"identifier":"id","label":"调整交易仓位更改","html_id":"id-2","implicit":true,"key":"xypDsSqgBP"},{"type":"paragraph","position":{"start":{"line":298,"column":1},"end":{"line":298,"column":1}},"children":[{"type":"text","value":"虽然 adjust-trade-position 本身没有改变，但你不应该再使用 ","position":{"start":{"line":298,"column":1},"end":{"line":298,"column":1}},"key":"uzX3TMq8KS"},{"type":"inlineCode","value":"trade.nr_of_successful_buys","position":{"start":{"line":298,"column":1},"end":{"line":298,"column":1}},"key":"vjlNOiOoh9"},{"type":"text","value":" - 而是使用 ","position":{"start":{"line":298,"column":1},"end":{"line":298,"column":1}},"key":"dvsjHh5c58"},{"type":"inlineCode","value":"trade.nr_of_successful_entries","position":{"start":{"line":298,"column":1},"end":{"line":298,"column":1}},"key":"YgQcpzV2RN"},{"type":"text","value":"，它也将包括空头入场。","position":{"start":{"line":298,"column":1},"end":{"line":298,"column":1}},"key":"t4ehpbQqkQ"}],"key":"evjskzzb80"},{"type":"heading","depth":4,"position":{"start":{"line":300,"column":1},"end":{"line":300,"column":1}},"children":[{"type":"text","value":"辅助方法","position":{"start":{"line":300,"column":1},"end":{"line":300,"column":1}},"key":"qzLGoB4EyO"}],"identifier":"id","label":"辅助方法","html_id":"id-3","implicit":true,"key":"Yu6l0iOq95"},{"type":"paragraph","position":{"start":{"line":302,"column":1},"end":{"line":303,"column":1}},"children":[{"type":"text","value":"为 ","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"key":"mRXMLQM173"},{"type":"inlineCode","value":"stoploss_from_open","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"key":"tx8J0iPLsy"},{"type":"text","value":" 和 ","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"key":"ri5lO1CqLO"},{"type":"inlineCode","value":"stoploss_from_absolute","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"key":"PZakPg0p3K"},{"type":"text","value":" 添加参数 “is_short”。\n这应该给出 ","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"key":"zKYv74y57i"},{"type":"inlineCode","value":"trade.is_short","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"key":"J1CbcX6zvo"},{"type":"text","value":" 的值。","position":{"start":{"line":302,"column":1},"end":{"line":302,"column":1}},"key":"IAmJnFFO8W"}],"key":"kis88Ejb9n"},{"type":"code","lang":"python","value":"    def custom_stoploss(self, pair: str, trade: 'Trade', current_time: datetime,\n                        current_rate: float, current_profit: float, **kwargs) -\u003e float:\n        # 一旦利润上升到 10% 以上，将止损保持在开盘价上方 7%\n        if current_profit \u003e 0.10:\n            return stoploss_from_open(0.07, current_profit)\n\n        return stoploss_from_absolute(current_rate - (candle['atr'] * 2), current_rate)\n\n        return 1\n","position":{"start":{"line":305,"column":1},"end":{"line":316,"column":1}},"key":"TL6erhn58b"},{"type":"paragraph","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"ZXow9Ukj6A"}],"key":"Gu4aXTOlT7"},{"type":"code","lang":"python","value":"    def custom_stoploss(self, pair: str, trade: 'Trade', current_time: datetime,\n                        current_rate: float, current_profit: float, after_fill: bool, \n                        **kwargs) -\u003e float | None:\n        # 一旦利润上升到 10% 以上，将止损保持在开盘价上方 7%\n        if current_profit \u003e 0.10:\n            return stoploss_from_open(0.07, current_profit, is_short=trade.is_short)\n\n        return stoploss_from_absolute(current_rate - (candle['atr'] * 2), current_rate, is_short=trade.is_short, leverage=trade.leverage)\n\n","position":{"start":{"line":320,"column":1},"end":{"line":331,"column":1}},"key":"zmhtQ0dtUo"},{"type":"heading","depth":4,"position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"children":[{"type":"text","value":"策略/配置设置","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"U3JsqkJ3Bx"}],"identifier":"id","label":"策略/配置设置","html_id":"id-4","implicit":true,"key":"PAy04BQ5sT"},{"type":"heading","depth":5,"position":{"start":{"line":335,"column":1},"end":{"line":335,"column":1}},"children":[{"type":"inlineCode","value":"order_time_in_force","position":{"start":{"line":335,"column":1},"end":{"line":335,"column":1}},"key":"ESGuCWfU0I"}],"identifier":"order-time-in-force","label":"order_time_in_force","html_id":"order-time-in-force","implicit":true,"key":"fKPRNdp06p"},{"type":"paragraph","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"children":[{"type":"inlineCode","value":"order_time_in_force","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"r5WLOe74rg"},{"type":"text","value":" 属性从 ","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"W8FLpJ7euD"},{"type":"inlineCode","value":"\"buy\"","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"HCAQaKLO31"},{"type":"text","value":" 改为 ","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"yE1mUdwYn6"},{"type":"inlineCode","value":"\"entry\"","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"N0t1jtWiDn"},{"type":"text","value":"，从 ","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"iDItegBtG1"},{"type":"inlineCode","value":"\"sell\"","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"LWIZQuWSrv"},{"type":"text","value":" 改为 ","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"h90SUoIlXs"},{"type":"inlineCode","value":"\"exit\"","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"Yb0j3v1BTR"},{"type":"text","value":"。","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"nNNAPZn4eu"}],"key":"Uq6sgCnNE1"},{"type":"code","lang":"python","value":"    order_time_in_force: dict = {\n        \"buy\": \"gtc\",\n        \"sell\": \"gtc\",\n    }","position":{"start":{"line":339,"column":1},"end":{"line":344,"column":1}},"key":"ZWIymYLV6J"},{"type":"paragraph","position":{"start":{"line":346,"column":1},"end":{"line":346,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":346,"column":1},"end":{"line":346,"column":1}},"key":"aqqzkrMDLj"}],"key":"HThokqQUdh"},{"type":"code","lang":"python","value":"    order_time_in_force: dict = {\n        \"entry\": \"GTC\",\n        \"exit\": \"GTC\",\n    }","position":{"start":{"line":348,"column":1},"end":{"line":353,"column":1}},"key":"o4G1Xwjz7S"},{"type":"heading","depth":5,"position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"inlineCode","value":"order_types","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"GCDycljJEO"}],"identifier":"order-types","label":"order_types","html_id":"order-types","implicit":true,"key":"iD0Rq8bNp4"},{"type":"paragraph","position":{"start":{"line":357,"column":1},"end":{"line":358,"column":1}},"children":[{"type":"inlineCode","value":"order_types","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"MerYh5d8c6"},{"type":"text","value":" 已将所有措辞从 ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"hIBHyMS2Wd"},{"type":"inlineCode","value":"buy","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"efEy1cmLRQ"},{"type":"text","value":" 改为 ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"e3tivW8Rp1"},{"type":"inlineCode","value":"entry","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"ocET4woltN"},{"type":"text","value":" - 从 ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"MUMez8r3lu"},{"type":"inlineCode","value":"sell","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"QcFDYKaGxX"},{"type":"text","value":" 改为 ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"cQuokFETLq"},{"type":"inlineCode","value":"exit","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"CJzdl3SG1M"},{"type":"text","value":"。\n并且两个词用 ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"foovY0EF3y"},{"type":"inlineCode","value":"_","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"lKG1buOg9I"},{"type":"text","value":" 连接。","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"iaUMQcmPkt"}],"key":"F4Yp2ej00v"},{"type":"code","lang":"python","value":"    order_types = {\n        \"buy\": \"limit\",\n        \"sell\": \"limit\",\n        \"emergencysell\": \"market\",\n        \"forcesell\": \"market\",\n        \"forcebuy\": \"market\",\n        \"stoploss\": \"market\",\n        \"stoploss_on_exchange\": false,\n        \"stoploss_on_exchange_interval\": 60\n    }","position":{"start":{"line":360,"column":1},"end":{"line":371,"column":1}},"key":"sohsc2RTxD"},{"type":"paragraph","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"zD32Faj6ac"}],"key":"xYFuTzsNtS"},{"type":"code","lang":"python","value":"    order_types = {\n        \"entry\": \"limit\",\n        \"exit\": \"limit\",\n        \"emergency_exit\": \"market\",\n        \"force_exit\": \"market\",\n        \"force_entry\": \"market\",\n        \"stoploss\": \"market\",\n        \"stoploss_on_exchange\": false,\n        \"stoploss_on_exchange_interval\": 60\n    }","position":{"start":{"line":375,"column":1},"end":{"line":386,"column":1}},"key":"g7GPEGvrlC"},{"type":"heading","depth":5,"position":{"start":{"line":388,"column":1},"end":{"line":388,"column":1}},"children":[{"type":"text","value":"策略级别设置","position":{"start":{"line":388,"column":1},"end":{"line":388,"column":1}},"key":"K7wRk1gL1O"}],"identifier":"id","label":"策略级别设置","html_id":"id-5","implicit":true,"key":"bG1qxGY9T9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":390,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"children":[{"type":"inlineCode","value":"use_sell_signal","position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"key":"TcdulXAmDw"},{"type":"text","value":" -\u003e ","position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"key":"zmCS5IByPu"},{"type":"inlineCode","value":"use_exit_signal","position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"key":"tuGbo30FWY"}],"key":"WZpE3BR3Bb"},{"type":"listItem","spread":true,"position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"children":[{"type":"inlineCode","value":"sell_profit_only","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"HLEnuiGQqD"},{"type":"text","value":" -\u003e ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"QXRacqcsyl"},{"type":"inlineCode","value":"exit_profit_only","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"F4eGWtnaHF"}],"key":"yrJaztM9Pz"},{"type":"listItem","spread":true,"position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"children":[{"type":"inlineCode","value":"sell_profit_offset","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"U9rVgX7uq0"},{"type":"text","value":" -\u003e ","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"DuzJyr8ckX"},{"type":"inlineCode","value":"exit_profit_offset","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"biMk3g7Dms"}],"key":"ggYWHKAIEg"},{"type":"listItem","spread":true,"position":{"start":{"line":393,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"inlineCode","value":"ignore_roi_if_buy_signal","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"da9PvDvRaM"},{"type":"text","value":" -\u003e ","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"uFReaJldPn"},{"type":"inlineCode","value":"ignore_roi_if_entry_signal","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"RqfZNCebgR"}],"key":"LADPBmfBvo"}],"key":"t21czXgoT1"},{"type":"code","lang":"python","value":"    # 这些值可以在配置中被覆盖。\n    use_sell_signal = True\n    sell_profit_only = True\n    sell_profit_offset: 0.01\n    ignore_roi_if_buy_signal = False","position":{"start":{"line":395,"column":1},"end":{"line":401,"column":1}},"key":"d0fpdOILrt"},{"type":"paragraph","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"Z1eEwb3zyu"}],"key":"wqoytDlsW9"},{"type":"code","lang":"python","value":"    # 这些值可以在配置中被覆盖。\n    use_exit_signal = True\n    exit_profit_only = True\n    exit_profit_offset: 0.01\n    ignore_roi_if_entry_signal = False","position":{"start":{"line":405,"column":1},"end":{"line":411,"column":1}},"key":"zVxIgvxuKp"},{"type":"heading","depth":5,"position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"children":[{"type":"inlineCode","value":"unfilledtimeout","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"key":"xdP9FCyrv3"}],"identifier":"unfilledtimeout","label":"unfilledtimeout","html_id":"unfilledtimeout","implicit":true,"key":"P8Vi27GRYR"},{"type":"paragraph","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"children":[{"type":"inlineCode","value":"unfilledtimeout","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"Eyfnh94ZeY"},{"type":"text","value":" 已将所有措辞从 ","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"wz8HXl47Tt"},{"type":"inlineCode","value":"buy","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"S2IDmdKGFR"},{"type":"text","value":" 改为 ","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"U3nNUPIoft"},{"type":"inlineCode","value":"entry","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"FaWtYJcrfY"},{"type":"text","value":" - 从 ","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"OntwjDhNNy"},{"type":"inlineCode","value":"sell","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"gn2PGO0Df1"},{"type":"text","value":" 改为 ","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"GDLzecpr6v"},{"type":"inlineCode","value":"exit","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"QWtqBa5qWE"},{"type":"text","value":"。","position":{"start":{"line":415,"column":1},"end":{"line":415,"column":1}},"key":"YqyS5lQFUV"}],"key":"awg5TTyBLw"},{"type":"code","lang":"python","value":"unfilledtimeout = {\n        \"buy\": 10,\n        \"sell\": 10,\n        \"exit_timeout_count\": 0,\n        \"unit\": \"minutes\"\n    }","position":{"start":{"line":417,"column":1},"end":{"line":424,"column":1}},"key":"qvieYd0mmS"},{"type":"paragraph","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"diaWSjRpqP"}],"key":"anIwsRIBxa"},{"type":"code","lang":"python","value":"unfilledtimeout = {\n        \"entry\": 10,\n        \"exit\": 10,\n        \"exit_timeout_count\": 0,\n        \"unit\": \"minutes\"\n    }","position":{"start":{"line":428,"column":1},"end":{"line":435,"column":1}},"key":"WeTAQyLaf6"},{"type":"heading","depth":5,"position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"children":[{"type":"inlineCode","value":"order pricing","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"RJMr3Bwjty"}],"identifier":"order-pricing","label":"order pricing","html_id":"order-pricing","implicit":true,"key":"X05LgDSmoE"},{"type":"paragraph","position":{"start":{"line":439,"column":1},"end":{"line":442,"column":1}},"children":[{"type":"text","value":"订单定价有两种变化。","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"qpGGzAepKm"},{"type":"inlineCode","value":"bid_strategy","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"E6NW3E28Rn"},{"type":"text","value":" 重命名为 ","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"ybK6hQklcB"},{"type":"inlineCode","value":"entry_pricing","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"daWFCTBgX6"},{"type":"text","value":"，","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"GdX4y01fmc"},{"type":"inlineCode","value":"ask_strategy","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"TBYbTSpmFL"},{"type":"text","value":" 重命名为 ","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"hkMZt9OJ3m"},{"type":"inlineCode","value":"exit_pricing","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"oDjRVQorfF"},{"type":"text","value":"。\n属性 ","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"w60uoelMAE"},{"type":"inlineCode","value":"ask_last_balance","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"R2wun17yby"},{"type":"text","value":" -\u003e ","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"OIrcCkerdZ"},{"type":"inlineCode","value":"price_last_balance","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"Nc6wqPxJdq"},{"type":"text","value":" 和 ","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"iKwuz5juyU"},{"type":"inlineCode","value":"bid_last_balance","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"dfJbDccCeX"},{"type":"text","value":" -\u003e ","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"GLqqruxCzg"},{"type":"inlineCode","value":"price_last_balance","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"OO8TJrGilK"},{"type":"text","value":" 也被重命名。\n此外，价格端现在可以定义为 ","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"oBSWT7Qj6S"},{"type":"inlineCode","value":"ask","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"jTa5qhNfag"},{"type":"text","value":"、","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"GKxe6hm6MU"},{"type":"inlineCode","value":"bid","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"ZlX3bhoGfQ"},{"type":"text","value":"、","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"M7EIUwAeAb"},{"type":"inlineCode","value":"same","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"AbAb6V2CgU"},{"type":"text","value":" 或 ","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"CGQYYwfkS6"},{"type":"inlineCode","value":"other","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"YJgrGqd5Ce"},{"type":"text","value":"。\n请参阅","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"DyEM0832Mg"},{"type":"crossReference","url":"/configuration","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"children":[{"type":"text","value":"定价文档","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"mDSaENX6Jq"}],"urlSource":"configuration.md#prices-used-for-orders","dataUrl":"/configuration.json","identifier":"prices-used-for-orders","label":"prices-used-for-orders","remote":true,"protocol":"file","key":"ZjZBr6QxQF"},{"type":"text","value":"了解更多信息。","position":{"start":{"line":439,"column":1},"end":{"line":439,"column":1}},"key":"bwvcu4MMEL"}],"key":"dKbEY035nh"},{"type":"code","lang":"json","value":"{\n    \"bid_strategy\": {\n        \"price_side\": \"bid\",\n        \"use_order_book\": true,\n        \"order_book_top\": 1,\n        \"ask_last_balance\": 0.0,\n        \"check_depth_of_market\": {\n            \"enabled\": false,\n            \"bids_to_ask_delta\": 1\n        }\n    },\n    \"ask_strategy\":{\n        \"price_side\": \"ask\",\n        \"use_order_book\": true,\n        \"order_book_top\": 1,\n        \"bid_last_balance\": 0.0\n        \"ignore_buying_expired_candle_after\": 120\n    }\n}","position":{"start":{"line":444,"column":1},"end":{"line":464,"column":1}},"key":"GwW3Ch1zaG"},{"type":"paragraph","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"之后：","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"yT2U4mOq4o"}],"key":"irI3BpFZ3u"},{"type":"code","lang":"json","value":"{\n    \"entry_pricing\": {\n        \"price_side\": \"same\",\n        \"use_order_book\": true,\n        \"order_book_top\": 1,\n        \"price_last_balance\": 0.0,\n        \"check_depth_of_market\": {\n            \"enabled\": false,\n            \"bids_to_ask_delta\": 1\n        }\n    },\n    \"exit_pricing\":{\n        \"price_side\": \"same\",\n        \"use_order_book\": true,\n        \"order_book_top\": 1,\n        \"price_last_balance\": 0.0\n    },\n    \"ignore_buying_expired_candle_after\": 120\n}","position":{"start":{"line":468,"column":1},"end":{"line":488,"column":1}},"key":"eKyBczaKVv"},{"type":"heading","depth":3,"position":{"start":{"line":490,"column":1},"end":{"line":490,"column":1}},"children":[{"type":"text","value":"FreqAI 策略","position":{"start":{"line":490,"column":1},"end":{"line":490,"column":1}},"key":"D15AMDtDYE"}],"identifier":"freqai","label":"FreqAI 策略","html_id":"freqai","implicit":true,"key":"cq6LSLlJgf"},{"type":"paragraph","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"children":[{"type":"inlineCode","value":"populate_any_indicators()","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"tKQ2mBcBs3"},{"type":"text","value":" 方法已被拆分为 ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"F9VttT0Gy5"},{"type":"inlineCode","value":"feature_engineering_expand_all()","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"rPNQwPPOgq"},{"type":"text","value":"、","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"xxIRcYt5wK"},{"type":"inlineCode","value":"feature_engineering_expand_basic()","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"lgmxMEt7iH"},{"type":"text","value":"、","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"rz2JDLpiUf"},{"type":"inlineCode","value":"feature_engineering_standard()","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"DMKMSyzxdE"},{"type":"text","value":" 和 ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"mphqiONhR0"},{"type":"inlineCode","value":"set_freqai_targets()","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"GpbrTzl1X7"},{"type":"text","value":"。","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"yB6fvSvI89"}],"key":"vQfVtw6w6G"},{"type":"paragraph","position":{"start":{"line":494,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"对于每个新函数，交易对（和必要的时间框架）将自动添加到列中。\n因此，使用新逻辑定义特征变得更加简单。","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"key":"GCUyzXFw3a"}],"key":"ZrxvLgJToa"},{"type":"paragraph","position":{"start":{"line":497,"column":1},"end":{"line":497,"column":1}},"children":[{"type":"text","value":"有关每个方法的完整说明，请转到相应的 ","position":{"start":{"line":497,"column":1},"end":{"line":497,"column":1}},"key":"XTBfRy8LuJ"},{"type":"crossReference","url":"/freqai-feature-engineering","position":{"start":{"line":497,"column":1},"end":{"line":497,"column":1}},"children":[{"type":"text","value":"freqAI 文档页面","position":{"start":{"line":497,"column":1},"end":{"line":497,"column":1}},"key":"NvkCChAnV4"}],"urlSource":"freqai-feature-engineering.md#defining-the-features","dataUrl":"/freqai-feature-engineering.json","identifier":"defining-the-features","label":"defining-the-features","remote":true,"protocol":"file","key":"E77UpX0tGo"}],"key":"nOey9oPS4n"},{"type":"code","lang":"python","value":"\ndef populate_any_indicators(\n        self, pair, df, tf, informative=None, set_generalized_indicators=False\n    ):\n\n        if informative is None:\n            informative = self.dp.get_pair_dataframe(pair, tf)\n\n        # 第一个循环自动复制时间周期的指标\n        for t in self.freqai_info[\"feature_parameters\"][\"indicator_periods_candles\"]:\n\n            t = int(t)\n            informative[f\"%-{pair}rsi-period_{t}\"] = ta.RSI(informative, timeperiod=t)\n            informative[f\"%-{pair}mfi-period_{t}\"] = ta.MFI(informative, timeperiod=t)\n            informative[f\"%-{pair}adx-period_{t}\"] = ta.ADX(informative, timeperiod=t)\n            informative[f\"%-{pair}sma-period_{t}\"] = ta.SMA(informative, timeperiod=t)\n            informative[f\"%-{pair}ema-period_{t}\"] = ta.EMA(informative, timeperiod=t)\n\n            bollinger = qtpylib.bollinger_bands(\n                qtpylib.typical_price(informative), window=t, stds=2.2\n            )\n            informative[f\"{pair}bb_lowerband-period_{t}\"] = bollinger[\"lower\"]\n            informative[f\"{pair}bb_middleband-period_{t}\"] = bollinger[\"mid\"]\n            informative[f\"{pair}bb_upperband-period_{t}\"] = bollinger[\"upper\"]\n\n            informative[f\"%-{pair}bb_width-period_{t}\"] = (\n                informative[f\"{pair}bb_upperband-period_{t}\"]\n                - informative[f\"{pair}bb_lowerband-period_{t}\"]\n            ) / informative[f\"{pair}bb_middleband-period_{t}\"]\n            informative[f\"%-{pair}close-bb_lower-period_{t}\"] = (\n                informative[\"close\"] / informative[f\"{pair}bb_lowerband-period_{t}\"]\n            )\n\n            informative[f\"%-{pair}roc-period_{t}\"] = ta.ROC(informative, timeperiod=t)\n\n            informative[f\"%-{pair}relative_volume-period_{t}\"] = (\n                informative[\"volume\"] / informative[\"volume\"].rolling(t).mean()\n            ) # (1)\n\n        informative[f\"%-{pair}pct-change\"] = informative[\"close\"].pct_change()\n        informative[f\"%-{pair}raw_volume\"] = informative[\"volume\"]\n        informative[f\"%-{pair}raw_price\"] = informative[\"close\"]\n        # (2)\n\n        indicators = [col for col in informative if col.startswith(\"%\")]\n        # 这个循环复制并移动所有指标，为数据添加时效性\n        for n in range(self.freqai_info[\"feature_parameters\"][\"include_shifted_candles\"] + 1):\n            if n == 0:\n                continue\n            informative_shift = informative[indicators].shift(n)\n            informative_shift = informative_shift.add_suffix(\"_shift-\" + str(n))\n            informative = pd.concat((informative, informative_shift), axis=1)\n\n        df = merge_informative_pair(df, informative, self.config[\"timeframe\"], tf, ffill=True)\n        skip_columns = [\n            (s + \"_\" + tf) for s in [\"date\", \"open\", \"high\", \"low\", \"close\", \"volume\"]\n        ]\n        df = df.drop(columns=skip_columns)\n\n        # 在这里添加通用指标（因为在实盘中，它将调用此函数在训练期间填充指标）。注意我们如何确保不多次添加它们\n        if set_generalized_indicators:\n            df[\"%-day_of_week\"] = (df[\"date\"].dt.dayofweek + 1) / 7\n            df[\"%-hour_of_day\"] = (df[\"date\"].dt.hour + 1) / 25\n            # (3)\n\n            # 用户通过在前面添加 \u0026- 来添加目标（见下面的约定）\n            df[\"\u0026-s_close\"] = (\n                df[\"close\"]\n                .shift(-self.freqai_info[\"feature_parameters\"][\"label_period_candles\"])\n                .rolling(self.freqai_info[\"feature_parameters\"][\"label_period_candles\"])\n                .mean()\n                / df[\"close\"]\n                - 1\n            )  # (4)\n\n        return df","position":{"start":{"line":499,"column":1},"end":{"line":576,"column":1}},"key":"D6B6EEzgM9"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":578,"column":1},"end":{"line":582,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":578,"column":1},"end":{"line":578,"column":1}},"children":[{"type":"text","value":"特征 - 移到 ","position":{"start":{"line":578,"column":1},"end":{"line":578,"column":1}},"key":"mnwx7bffHs"},{"type":"inlineCode","value":"feature_engineering_expand_all","position":{"start":{"line":578,"column":1},"end":{"line":578,"column":1}},"key":"cIs7nNgXoG"}],"key":"ShzwDlwa85"},{"type":"listItem","spread":true,"position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"children":[{"type":"text","value":"基本特征，不在 ","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"key":"BtD8a5pOVZ"},{"type":"inlineCode","value":"indicator_periods_candles","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"key":"OOtTEDvXwE"},{"type":"text","value":" 中扩展 - 移到 ","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"key":"XZbXTe8VBO"},{"type":"inlineCode","value":"feature_engineering_expand_basic()","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"key":"YKlWpZXTsJ"},{"type":"text","value":"。","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"key":"BZ0SmLDjTV"}],"key":"BLQBBPiFi2"},{"type":"listItem","spread":true,"position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"children":[{"type":"text","value":"不应扩展的标准特征 - 移到 ","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"key":"hErSvrLuQx"},{"type":"inlineCode","value":"feature_engineering_standard()","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"key":"jj0pFYDuER"},{"type":"text","value":"。","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"key":"TcOOZg7EfM"}],"key":"RRmietIzSq"},{"type":"listItem","spread":true,"position":{"start":{"line":581,"column":1},"end":{"line":582,"column":1}},"children":[{"type":"text","value":"目标 - 移到 ","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"key":"VZzqSN6sRB"},{"type":"inlineCode","value":"set_freqai_targets()","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"key":"jcOQFC61sT"},{"type":"text","value":"。","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"key":"bT4OuzbK8S"}],"key":"zqI0es1Ue3"}],"key":"y77mLER25G"},{"type":"heading","depth":4,"position":{"start":{"line":583,"column":1},"end":{"line":583,"column":1}},"children":[{"type":"text","value":"freqai - 特征工程扩展全部","position":{"start":{"line":583,"column":1},"end":{"line":583,"column":1}},"key":"bWbRaFYmpG"}],"identifier":"freqai","label":"freqai - 特征工程扩展全部","html_id":"freqai-1","implicit":true,"key":"T81PfELHNK"},{"type":"paragraph","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"children":[{"type":"text","value":"特征现在会自动扩展。因此，需要删除扩展循环以及 ","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"gO4sD2VwHO"},{"type":"inlineCode","value":"{pair}","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"IR5KtJ9PzS"},{"type":"text","value":" / ","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"HJHeL5Ns9Q"},{"type":"inlineCode","value":"{timeframe}","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"QD438vxNg6"},{"type":"text","value":" 部分。","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"n0R3dzICYi"}],"key":"SntQhxe4xC"},{"type":"code","lang":"python","value":"    def feature_engineering_expand_all(self, dataframe, period, **kwargs) -\u003e DataFrame::\n        \"\"\"\n        *仅在使用 FreqAI 启用的策略时有效*\n        此函数将根据配置定义的 `indicator_periods_candles`、`include_timeframes`、`include_shifted_candles` 和 `include_corr_pairs` 自动扩展定义的特征。\n        换句话说，在此函数中定义的单个特征将自动扩展为总共\n        `indicator_periods_candles` * `include_timeframes` * `include_shifted_candles` *\n        `include_corr_pairs` 个添加到模型的特征。\n\n        所有特征必须以 `%` 开头才能被 FreqAI 内部识别。\n\n        有关这些配置定义的参数如何加速特征工程的更多详细信息，请参阅文档：\n\n        https://www.freqtrade.io/en/latest/freqai-parameter-table/#feature-parameters\n\n        https://www.freqtrade.io/en/latest/freqai-feature-engineering/#defining-the-features\n\n        :param df: 将接收特征的策略数据框\n        :param period: 指标的周期 - 使用示例：\n        dataframe[\"%-ema-period\"] = ta.EMA(dataframe, timeperiod=period)\n        \"\"\"\n\n        dataframe[\"%-rsi-period\"] = ta.RSI(dataframe, timeperiod=period)\n        dataframe[\"%-mfi-period\"] = ta.MFI(dataframe, timeperiod=period)\n        dataframe[\"%-adx-period\"] = ta.ADX(dataframe, timeperiod=period)\n        dataframe[\"%-sma-period\"] = ta.SMA(dataframe, timeperiod=period)\n        dataframe[\"%-ema-period\"] = ta.EMA(dataframe, timeperiod=period)\n\n        bollinger = qtpylib.bollinger_bands(\n            qtpylib.typical_price(dataframe), window=period, stds=2.2\n        )\n        dataframe[\"bb_lowerband-period\"] = bollinger[\"lower\"]\n        dataframe[\"bb_middleband-period\"] = bollinger[\"mid\"]\n        dataframe[\"bb_upperband-period\"] = bollinger[\"upper\"]\n\n        dataframe[\"%-bb_width-period\"] = (\n            dataframe[\"bb_upperband-period\"]\n            - dataframe[\"bb_lowerband-period\"]\n        ) / dataframe[\"bb_middleband-period\"]\n        dataframe[\"%-close-bb_lower-period\"] = (\n            dataframe[\"close\"] / dataframe[\"bb_lowerband-period\"]\n        )\n\n        dataframe[\"%-roc-period\"] = ta.ROC(dataframe, timeperiod=period)\n\n        dataframe[\"%-relative_volume-period\"] = (\n            dataframe[\"volume\"] / dataframe[\"volume\"].rolling(period).mean()\n        )\n\n        return dataframe\n","position":{"start":{"line":587,"column":1},"end":{"line":638,"column":1}},"key":"j8WOwnW6ra"},{"type":"heading","depth":4,"position":{"start":{"line":640,"column":1},"end":{"line":640,"column":1}},"children":[{"type":"text","value":"Freqai - 特征工程基础","position":{"start":{"line":640,"column":1},"end":{"line":640,"column":1}},"key":"MGTqjdFt3K"}],"identifier":"freqai","label":"Freqai - 特征工程基础","html_id":"freqai-2","implicit":true,"key":"Wqlberx3Vm"},{"type":"paragraph","position":{"start":{"line":642,"column":1},"end":{"line":642,"column":1}},"children":[{"type":"text","value":"基本特征。确保从特征中删除 ","position":{"start":{"line":642,"column":1},"end":{"line":642,"column":1}},"key":"RqdvV74F7i"},{"type":"inlineCode","value":"{pair}","position":{"start":{"line":642,"column":1},"end":{"line":642,"column":1}},"key":"qCDF3AbPMS"},{"type":"text","value":" 部分。","position":{"start":{"line":642,"column":1},"end":{"line":642,"column":1}},"key":"RNa7IDEnRx"}],"key":"rZPSx37NAM"},{"type":"code","lang":"python","value":"    def feature_engineering_expand_basic(self, dataframe: DataFrame, **kwargs) -\u003e DataFrame::\n        \"\"\"\n        *仅在使用 FreqAI 启用的策略时有效*\n        此函数将根据配置定义的 `include_timeframes`、`include_shifted_candles` 和 `include_corr_pairs` 自动扩展定义的特征。\n        换句话说，在此函数中定义的单个特征将自动扩展为总共\n        `include_timeframes` * `include_shifted_candles` * `include_corr_pairs`\n        个添加到模型的特征。\n\n        此处定义的特征将*不会*在用户定义的 `indicator_periods_candles` 上自动复制\n\n        所有特征必须以 `%` 开头才能被 FreqAI 内部识别。\n\n        有关这些配置定义的参数如何加速特征工程的更多详细信息，请参阅文档：\n\n        https://www.freqtrade.io/en/latest/freqai-parameter-table/#feature-parameters\n\n        https://www.freqtrade.io/en/latest/freqai-feature-engineering/#defining-the-features\n\n        :param df: 将接收特征的策略数据框\n        dataframe[\"%-pct-change\"] = dataframe[\"close\"].pct_change()\n        dataframe[\"%-ema-200\"] = ta.EMA(dataframe, timeperiod=200)\n        \"\"\"\n        dataframe[\"%-pct-change\"] = dataframe[\"close\"].pct_change()\n        dataframe[\"%-raw_volume\"] = dataframe[\"volume\"]\n        dataframe[\"%-raw_price\"] = dataframe[\"close\"]\n        return dataframe","position":{"start":{"line":644,"column":1},"end":{"line":671,"column":1}},"key":"MvOcdvQVOm"},{"type":"heading","depth":4,"position":{"start":{"line":673,"column":1},"end":{"line":673,"column":1}},"children":[{"type":"text","value":"FreqAI - 特征工程标准","position":{"start":{"line":673,"column":1},"end":{"line":673,"column":1}},"key":"gD8GAcMknq"}],"identifier":"freqai","label":"FreqAI - 特征工程标准","html_id":"freqai-3","implicit":true,"key":"k3rzksgZcF"},{"type":"code","lang":"python","value":"    def feature_engineering_standard(self, dataframe: DataFrame, **kwargs) -\u003e DataFrame:\n        \"\"\"\n        *仅在使用 FreqAI 启用的策略时有效*\n        此可选函数将使用基本时间框架的数据框调用一次。\n        这是要调用的最终函数，这意味着进入此函数的数据框将包含所有其他\n        freqai_feature_engineering_* 函数创建的所有特征和列。\n\n        此函数是进行自定义异国特征提取的好地方（例如 tsfresh）。\n        此函数是任何不应自动扩展的特征的好地方（例如星期几）。\n\n        所有特征必须以 `%` 开头才能被 FreqAI 内部识别。\n\n        有关特征工程的更多详细信息：\n\n        https://www.freqtrade.io/en/latest/freqai-feature-engineering\n\n        :param df: 将接收特征的策略数据框\n        使用示例：dataframe[\"%-day_of_week\"] = (dataframe[\"date\"].dt.dayofweek + 1) / 7\n        \"\"\"\n        dataframe[\"%-day_of_week\"] = dataframe[\"date\"].dt.dayofweek\n        dataframe[\"%-hour_of_day\"] = dataframe[\"date\"].dt.hour\n        return dataframe","position":{"start":{"line":675,"column":1},"end":{"line":698,"column":1}},"key":"Z6WgIPszPD"},{"type":"heading","depth":4,"position":{"start":{"line":700,"column":1},"end":{"line":700,"column":1}},"children":[{"type":"text","value":"FreqAI - 设置目标","position":{"start":{"line":700,"column":1},"end":{"line":700,"column":1}},"key":"MaLp9KeBHH"}],"identifier":"freqai","label":"FreqAI - 设置目标","html_id":"freqai-4","implicit":true,"key":"SFN3gt0ZRt"},{"type":"paragraph","position":{"start":{"line":702,"column":1},"end":{"line":702,"column":1}},"children":[{"type":"text","value":"目标现在有了自己的专用方法。","position":{"start":{"line":702,"column":1},"end":{"line":702,"column":1}},"key":"fCP1jsxk1v"}],"key":"GuasZs5j5p"},{"type":"code","lang":"python","value":"    def set_freqai_targets(self, dataframe: DataFrame, **kwargs) -\u003e DataFrame:\n        \"\"\"\n        *仅在使用 FreqAI 启用的策略时有效*\n        设置模型目标的必需函数。\n        所有目标必须以 `\u0026` 开头才能被 FreqAI 内部识别。\n\n        有关特征工程的更多详细信息：\n\n        https://www.freqtrade.io/en/latest/freqai-feature-engineering\n\n        :param df: 将接收目标的策略数据框\n        使用示例：dataframe[\"\u0026-target\"] = dataframe[\"close\"].shift(-1) / dataframe[\"close\"]\n        \"\"\"\n        dataframe[\"\u0026-s_close\"] = (\n            dataframe[\"close\"]\n            .shift(-self.freqai_info[\"feature_parameters\"][\"label_period_candles\"])\n            .rolling(self.freqai_info[\"feature_parameters\"][\"label_period_candles\"])\n            .mean()\n            / dataframe[\"close\"]\n            - 1\n            )\n\n        return dataframe","position":{"start":{"line":704,"column":1},"end":{"line":728,"column":1}},"key":"WkdmVD6STQ"},{"type":"heading","depth":4,"position":{"start":{"line":731,"column":1},"end":{"line":731,"column":1}},"children":[{"type":"text","value":"FreqAI - 新数据管道","position":{"start":{"line":731,"column":1},"end":{"line":731,"column":1}},"key":"Z6k5aN07sV"}],"identifier":"freqai","label":"FreqAI - 新数据管道","html_id":"freqai-5","implicit":true,"key":"PohrdJA3V6"},{"type":"paragraph","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"children":[{"type":"text","value":"如果你创建了自己的自定义 ","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"h7TnWQBXOk"},{"type":"inlineCode","value":"IFreqaiModel","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"r7ezZocu5E"},{"type":"text","value":"，带有自定义 ","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"gNkX21RioA"},{"type":"inlineCode","value":"train()","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"rsAr4wc5X2"},{"type":"text","value":"/","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"ck7t0cXGnI"},{"type":"inlineCode","value":"predict()","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"nTR2mNZqiR"},{"type":"text","value":" 函数，","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"fQtQkArMsB"},{"type":"emphasis","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"children":[{"type":"text","value":"并且","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"xWJz9ouGhC"}],"key":"vYq1yq1EmC"},{"type":"text","value":"你仍然依赖 ","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"pnkTtgSWYl"},{"type":"inlineCode","value":"data_cleaning_train/predict()","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"mLk8zzcgCz"},{"type":"text","value":"，那么你需要迁移到新的管道。如果你的模型","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"v3kZpl9917"},{"type":"emphasis","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"children":[{"type":"text","value":"不","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"VzozealCjQ"}],"key":"YHpTUi21Si"},{"type":"text","value":"依赖 ","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"YutAzombsw"},{"type":"inlineCode","value":"data_cleaning_train/predict()","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"xJxTDLLr3r"},{"type":"text","value":"，那么你不需要担心这个迁移。这意味着这个迁移指南只与很小一部分高级用户相关。如果你偶然看到这个指南，欢迎在 Freqtrade discord 服务器上深入询问你的问题。","position":{"start":{"line":733,"column":1},"end":{"line":733,"column":1}},"key":"DRvmU65GIU"}],"key":"x0mCzGuPRy"},{"type":"paragraph","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"children":[{"type":"text","value":"转换涉及首先删除 ","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"qVsLd0sUtr"},{"type":"inlineCode","value":"data_cleaning_train/predict()","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"HmTsxel0th"},{"type":"text","value":"，并用 ","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"CraqrtIyf6"},{"type":"inlineCode","value":"define_data_pipeline()","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"tSqk1lEzn5"},{"type":"text","value":" 和 ","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"xKKA72kNUE"},{"type":"inlineCode","value":"define_label_pipeline()","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"XTbRAnUnMd"},{"type":"text","value":" 函数替换它们到你的 ","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"vmCD4NGSzd"},{"type":"inlineCode","value":"IFreqaiModel","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"lc1a8K8JUg"},{"type":"text","value":" 类：","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"buaQmWG1Q6"}],"key":"ZNy7TYZO6s"},{"type":"code","lang":"python","value":"class MyCoolFreqaiModel(BaseRegressionModel):\n    \"\"\"\n    你在 Freqtrade 版本 2023.6 之前制作的一些很酷的自定义 IFreqaiModel\n    \"\"\"\n    def train(\n        self, unfiltered_df: DataFrame, pair: str, dk: FreqaiDataKitchen, **kwargs\n    ) -\u003e Any:\n\n        # ... 你的自定义内容\n\n        # 删除这些行\n        # data_dictionary = dk.make_train_test_datasets(features_filtered, labels_filtered)\n        # self.data_cleaning_train(dk)\n        # data_dictionary = dk.normalize_data(data_dictionary)\n        # (1)\n\n        # 添加这些行。现在我们自己控制管道的 fit/transform\n        dd = dk.make_train_test_datasets(features_filtered, labels_filtered)\n        dk.feature_pipeline = self.define_data_pipeline(threads=dk.thread_count)\n        dk.label_pipeline = self.define_label_pipeline(threads=dk.thread_count)\n\n        (dd[\"train_features\"],\n         dd[\"train_labels\"],\n         dd[\"train_weights\"]) = dk.feature_pipeline.fit_transform(dd[\"train_features\"],\n                                                                  dd[\"train_labels\"],\n                                                                  dd[\"train_weights\"])\n\n        (dd[\"test_features\"],\n         dd[\"test_labels\"],\n         dd[\"test_weights\"]) = dk.feature_pipeline.transform(dd[\"test_features\"],\n                                                             dd[\"test_labels\"],\n                                                             dd[\"test_weights\"])\n\n        dd[\"train_labels\"], _, _ = dk.label_pipeline.fit_transform(dd[\"train_labels\"])\n        dd[\"test_labels\"], _, _ = dk.label_pipeline.transform(dd[\"test_labels\"])\n\n        # ... 你的自定义代码\n\n        return model\n\n    def predict(\n        self, unfiltered_df: DataFrame, dk: FreqaiDataKitchen, **kwargs\n    ) -\u003e tuple[DataFrame, npt.NDArray[np.int_]]:\n\n        # ... 你的自定义内容\n\n        # 删除这些行：\n        # self.data_cleaning_predict(dk)\n        # (2)\n\n        # 添加这些行：\n        dk.data_dictionary[\"prediction_features\"], outliers, _ = dk.feature_pipeline.transform(\n            dk.data_dictionary[\"prediction_features\"], outlier_check=True)\n\n        # 删除这行\n        # pred_df = dk.denormalize_labels_from_metadata(pred_df)\n        # (3)\n\n        # 用这些行替换\n        pred_df, _, _ = dk.label_pipeline.inverse_transform(pred_df)\n        if self.freqai_info.get(\"DI_threshold\", 0) \u003e 0:\n            dk.DI_values = dk.feature_pipeline[\"di\"].di_values\n        else:\n            dk.DI_values = np.zeros(outliers.shape[0])\n        dk.do_predict = outliers\n\n        # ... 你的自定义代码\n        return (pred_df, dk.do_predict)","position":{"start":{"line":737,"column":1},"end":{"line":806,"column":1}},"key":"BeM5At8BRl"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":809,"column":1},"end":{"line":811,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"children":[{"type":"text","value":"数据规范化和清理现在与新管道定义统一。这是在新的 ","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"L6xTIC0wfr"},{"type":"inlineCode","value":"define_data_pipeline()","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"sdbnLK8ASa"},{"type":"text","value":" 和 ","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"uZoT9ZWw8c"},{"type":"inlineCode","value":"define_label_pipeline()","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"Lfmt2xBEMp"},{"type":"text","value":" 函数中创建的。不再使用 ","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"KIrTE47ihe"},{"type":"inlineCode","value":"data_cleaning_train()","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"sQ4S9js7KN"},{"type":"text","value":" 和 ","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"TBuOq5BB11"},{"type":"inlineCode","value":"data_cleaning_predict()","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"NmzNy9xFKZ"},{"type":"text","value":" 函数。如果你愿意，你可以覆盖 ","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"az8qVbeaac"},{"type":"inlineCode","value":"define_data_pipeline()","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"qmAQPscxsv"},{"type":"text","value":" 来创建自己的自定义管道。","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"p9G9tgt5jl"}],"key":"DEakGtxr0I"},{"type":"listItem","spread":true,"position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"children":[{"type":"text","value":"数据规范化和清理现在与新管道定义统一。这是在新的 ","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"AxY3atKMAT"},{"type":"inlineCode","value":"define_data_pipeline()","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"ehYjzKLBL5"},{"type":"text","value":" 和 ","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"Oo3zsoKuQ4"},{"type":"inlineCode","value":"define_label_pipeline()","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"qnXJ1mQJN1"},{"type":"text","value":" 函数中创建的。不再使用 ","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"NlvmUJb5bi"},{"type":"inlineCode","value":"data_cleaning_train()","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"F0kQ7CK6VC"},{"type":"text","value":" 和 ","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"AtoQPBDoHd"},{"type":"inlineCode","value":"data_cleaning_predict()","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"maRVRllsvs"},{"type":"text","value":" 函数。如果你愿意，你可以覆盖 ","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"hEIIAJHn24"},{"type":"inlineCode","value":"define_data_pipeline()","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"DXcAvwstty"},{"type":"text","value":" 来创建自己的自定义管道。","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"FNlMV6XkrE"}],"key":"jKVktNpB0D"},{"type":"listItem","spread":true,"position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"children":[{"type":"text","value":"数据反规范化使用新管道完成。用下面的行替换。","position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"key":"ir0acsx1cD"}],"key":"x6TXSbdqJL"}],"key":"ltpJd2qe42"}],"key":"tFvvA0Cswf"}],"key":"JnDOF5xhbZ"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Freqtrade 常见问题","short_title":"FAQ","url":"/faq","group":"高级话题"},"next":{"title":"更新指南","short_title":"更新指南","url":"/updating","group":"高级话题"}}},"domain":"http://localhost:3001"},"project":{"title":"Freqtrade 中文文档","description":"Freqtrade 中文文档","authors":[{"id":"Freqtrade","name":"Freqtrade"}],"github":"https://github.com/freqtrade-cn/docs_zh-CN","keywords":["Freqtrade","中文文档","交易机器人","量化交易","加密货币","数字货币","区块链","人工智能","机器学习"],"id":"111d4f50-18b2-4ed2-9189-3954f232e613","toc":[{"file":"index.md"},{"file":"terms.md"},{"file":"docker_quickstart.md"},{"children":[{"file":"installation.md"},{"file":"windows_installation.md"}],"title":"安装"},{"file":"bot-basics.md"},{"file":"configuration.md"},{"file":"strategy-101.md"},{"file":"strategy-customization.md"},{"file":"strategy-callbacks.md"},{"file":"stoploss.md"},{"file":"plugins.md"},{"file":"bot-usage.md"},{"children":[{"file":"telegram-usage.md"},{"file":"freq-ui.md"},{"file":"rest-api.md"},{"file":"webhook-config.md"}],"title":"机器人控制和管理"},{"file":"data-download.md"},{"file":"backtesting.md"},{"file":"hyperopt.md"},{"children":[{"file":"freqai.md"},{"file":"freqai-configuration.md"},{"file":"freqai-parameter-table.md"},{"file":"freqai-feature-engineering.md"},{"file":"freqai-running.md"},{"file":"freqai-reinforcement-learning.md"},{"file":"freqai-developers.md"}],"title":"FreqAI"},{"file":"leverage.md"},{"file":"utils.md"},{"file":"plotting.md"},{"file":"exchanges.md"},{"children":[{"file":"data-analysis.md"},{"file":"strategy_analysis_example.md"},{"file":"advanced-backtesting.md"}],"title":"数据分析"},{"children":[{"file":"advanced-setup.md"},{"file":"trade-object.md"},{"file":"lookahead-analysis.md"},{"file":"recursive-analysis.md"},{"file":"strategy-advanced.md"},{"file":"advanced-hyperopt.md"},{"file":"advanced-orderflow.md"},{"file":"producer-consumer.md"},{"file":"sql_cheatsheet.md"},{"file":"edge.md"}],"title":"高级话题"},{"file":"faq.md"},{"file":"strategy_migration.md"},{"file":"updating.md"},{"file":"commands.md"},{"file":"deprecated.md"},{"file":"developer.md"},{"children":[{"file":"commands/main.md"},{"file":"commands/backtesting-analysis.md"},{"file":"commands/backtesting.md"},{"file":"commands/backtesting-show.md"},{"file":"commands/convert-data.md"},{"file":"commands/convert-db.md"},{"file":"commands/convert-trade-data.md"},{"file":"commands/create-userdir.md"},{"file":"commands/download-data.md"},{"file":"commands/edge.md"},{"file":"commands/hyperopt-list.md"},{"file":"commands/hyperopt.md"},{"file":"commands/hyperopt-show.md"},{"file":"commands/install-ui.md"},{"file":"commands/list-data.md"},{"file":"commands/list-exchanges.md"},{"file":"commands/list-freqaimodels.md"},{"file":"commands/list-hyperoptloss.md"},{"file":"commands/list-markets.md"},{"file":"commands/list-pairs.md"},{"file":"commands/list-strategies.md"},{"file":"commands/list-timeframes.md"},{"file":"commands/lookahead-analysis.md"},{"file":"commands/new-config.md"},{"file":"commands/new-strategy.md"},{"file":"commands/plot-dataframe.md"},{"file":"commands/plot-profit.md"},{"file":"commands/recursive-analysis.md"},{"file":"commands/show-config.md"},{"file":"commands/show-trades.md"},{"file":"commands/strategy-updater.md"},{"file":"commands/test-pairlist.md"},{"file":"commands/trade.md"},{"file":"commands/trades-to-ohlcv.md"},{"file":"commands/webserver.md"}],"title":"Commands"}],"thumbnail":"/build/freqtrade_poweredby-54c1a23e325977ebc310429538f96a71.svg","exports":[],"bibliography":[],"index":"index","pages":[{"slug":"terms","title":"Freqtrade 术语词典","short_title":"术语词典","description":"本文档详细解释了 Freqtrade 和量化交易中的核心术语，为用户提供全面的概念参考。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["术语","概念","词典","参考","量化交易","Freqtrade"],"level":1},{"slug":"docker-quickstart","title":"使用 Docker 运行 Freqtrade","short_title":"Docker 快速入门","description":"了解如何使用 Docker 容器运行和管理 Freqtrade 交易机器人,包括安装、配置和常见问题解决","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["Docker","容器","快速入门","部署"],"level":1},{"level":1,"title":"安装"},{"slug":"installation","title":"安装 Freqtrade","short_title":"安装","description":"了解如何安装和配置 Freqtrade 交易机器人,包括脚本安装、手动安装和 Conda 安装等多种方式","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["安装","配置","指南","入门"],"level":2},{"slug":"windows-installation","title":"Windows 安装指南","short_title":"Windows 安装","description":"本文档详细介绍了如何在 Windows 系统上安装 Freqtrade 交易机器人,包括自动安装和手动安装两种方式。","date":"","thumbnail":"/build/windows_install-36fd100b8143b6955258a9fa59765217.png","thumbnailOptimized":"/build/windows_install-36fd100b8143b6955258a9fa59765217.webp","banner":"","bannerOptimized":"","tags":["Windows","安装","配置","指南"],"level":2},{"slug":"bot-basics","title":"Freqtrade 基础","short_title":"基础指南","description":"本文档介绍了 Freqtrade 的基本术语、概念和执行逻辑,帮助你理解 Freqtrade 的工作原理。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"configuration","title":"配置 Freqtrade","short_title":"配置","description":"了解如何配置 Freqtrade 交易机器人,包括配置文件、环境变量等多种配置方式","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["配置","参数","环境变量","设置"],"level":1},{"slug":"strategy-101","title":"Freqtrade 策略开发指南","short_title":"策略开发指南","description":"本文档介绍了 Freqtrade 策略开发的基础知识,包括必备概念、策略结构以及如何开发自己的交易策略。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"strategy-customization","title":"策略自定义指南","short_title":"策略自定义","description":"本文档介绍如何在 Freqtrade 中自定义交易策略,包括添加新指标、设置交易规则等内容。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["策略开发","自定义","指标","交易规则","编程"],"level":1},{"slug":"strategy-callbacks","title":"策略回调指南","short_title":"策略回调","description":"本文档详细介绍了 Freqtrade 交易机器人中可用的各种策略回调函数,包括它们的用途、调用时机以及使用方法。","date":"","thumbnail":"/build/freqUI-chart-annotat-6ca425e986932e863842497203176546.png","thumbnailOptimized":"/build/freqUI-chart-annotat-6ca425e986932e863842497203176546.webp","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"stoploss","title":"止损配置指南","short_title":"止损","description":"详细介绍 Freqtrade 中的止损功能,包括静态止损、追踪止损等多种止损模式的配置方法。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"plugins","title":"插件体系","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"bot-usage","title":"机器人使用指南","short_title":"机器人使用","description":"本文档介绍了如何启动和运行 FreqTrade 机器人,包括命令行参数、配置文件使用等基本操作说明。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":1,"title":"机器人控制和管理"},{"slug":"telegram-usage","title":"Telegram 使用指南","short_title":"Telegram 指南","description":"本文档详细介绍了如何为 Freqtrade 创建和配置 Telegram 机器人，以及如何获取必要的用户 ID 和群组 ID。","date":"","thumbnail":"/build/telegram_forcebuy-73d7978f775ad92a8fe74de0313966a6.png","thumbnailOptimized":"/build/telegram_forcebuy-73d7978f775ad92a8fe74de0313966a6.webp","banner":"","bannerOptimized":"","tags":["Telegram","通知","机器人","配置","消息推送"],"level":2},{"slug":"freq-ui","title":"FreqUI 用户界面","short_title":"FreqUI","description":"FreqUI 是 Freqtrade 的内置 Web 界面,提供了一个现代化的响应式界面来监控和控制您的交易机器人。本文档介绍了如何安装、配置和使用 FreqUI。","date":"","thumbnail":"/build/frequi-login-CORS-li-92549992a8d3a76bc770a0f5b151e366.png","thumbnailOptimized":"/build/frequi-login-CORS-li-92549992a8d3a76bc770a0f5b151e366.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"rest-api","title":"REST API 指南","short_title":"REST API","description":"本文档介绍了 Freqtrade 的 REST API 功能,包括如何配置 API 服务器、安全设置、身份验证以及各种 API 端点的使用方法。","date":"","thumbnail":"/build/frequi_url-75e93be0830e56c293348021fb304d08.png","thumbnailOptimized":"/build/frequi_url-75e93be0830e56c293348021fb304d08.webp","banner":"","bannerOptimized":"","tags":["REST API","接口","配置","安全","自动化"],"level":2},{"slug":"webhook-config","title":"Webhook 配置指南","short_title":"Webhook 指南","description":"Freqtrade 的 Webhook 功能允许您在交易事件发生时发送通知到外部服务。本文档详细介绍了如何配置和使用 Webhook。","date":"","thumbnail":"/build/discord_notification-0536645313306293db781a3e0e0489d8.png","thumbnailOptimized":"/build/discord_notification-0536645313306293db781a3e0e0489d8.webp","banner":"","bannerOptimized":"","tags":["Webhook","通知","外部服务","事件","配置"],"level":2},{"slug":"data-download","title":"数据下载","description":"了解如何使用 Freqtrade 下载历史交易数据，包括 K 线数据、回测数据和超参优化所需数据的下载方法和命令参数说明","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"backtesting","title":"回测","short_title":"回测","description":"了解如何使用 Freqtrade 的回测功能验证和优化你的交易策略,包括回测命令、参数配置和结果分析","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["回测","策略验证","性能分析","历史数据"],"level":1},{"slug":"hyperopt","title":"Hyperopt 超参数优化指南","short_title":"Hyperopt 指南","description":"Hyperopt 是 Freqtrade 中用于自动化策略参数优化的工具,通过搜索最佳参数组合来提升策略性能。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["超参数优化","Hyperopt","策略优化","机器学习","参数调优"],"level":1},{"level":1,"title":"FreqAI"},{"slug":"freqai","title":"Freqai","description":"","date":"","thumbnail":"/build/freqai_doc_logo-3f2859a5a8ebe9e577941dd454c6c5ee.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-configuration","title":"FreqAI 配置指南","short_title":"FreqAI 配置","description":"本文档详细介绍了如何配置 FreqAI,包括配置文件设置和策略构建。FreqAI 是 Freqtrade 的机器学习框架,可用于构建和训练预测模型。","date":"","thumbnail":"/build/freqai_pytorch-diagr-d0712f166402f727b4f65efd22bf6315.png","thumbnailOptimized":"/build/freqai_pytorch-diagr-d0712f166402f727b4f65efd22bf6315.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-parameter-table","title":"FreqAI 参数表","short_title":"参数表","description":"本文档详细列出了 FreqAI 的所有配置参数,包括通用配置参数和特征参数,并对每个参数的功能、数据类型和默认值进行了说明。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-feature-engineering","title":"FreqAI 特征工程指南","short_title":"特征工程","description":"本文档详细介绍了 FreqAI 的特征工程功能,包括如何定义和扩展特征、数据处理管道、异常值检测等内容。这些功能可以帮助用户构建更强大的预测模型。","date":"","thumbnail":"/build/freqai_weight-factor-70f8aa4395fdd17979cf8f96e17171d0.jpg","thumbnailOptimized":"/build/freqai_weight-factor-70f8aa4395fdd17979cf8f96e17171d0.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-running","title":"FreqAI 运行指南","short_title":"FreqAI 运行","description":"FreqAI 是一个自适应机器学习框架，本文档介绍了如何在实时和回测模式下运行 FreqAI，包括模型训练、部署和管理等内容。","date":"","thumbnail":"/build/freqai_moving-window-05da86a83d6712baee031086385a7735.jpg","thumbnailOptimized":"/build/freqai_moving-window-05da86a83d6712baee031086385a7735.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-reinforcement-learning","title":"FreqAI 强化学习指南","short_title":"强化学习","description":"本文档详细介绍了 FreqAI 的强化学习功能,包括基本概念、运行方法、环境配置等内容。这些功能可以帮助用户构建和训练强化学习模型进行自动交易。","date":"","thumbnail":"/build/tensorboard-27f8850881840b007f5a56a202abb949.jpg","thumbnailOptimized":"/build/tensorboard-27f8850881840b007f5a56a202abb949.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"freqai-developers","title":"FreqAI 开发者指南","short_title":"FreqAI 开发","description":"本文档详细介绍了 FreqAI 的项目架构、数据处理流程和文件结构,为开发者提供了深入了解 FreqAI 内部工作原理的指南。","date":"","thumbnail":"/build/freqai_algorithm-dia-6d1ac15cf50f9103773ecaea4b8fd261.jpg","thumbnailOptimized":"/build/freqai_algorithm-dia-6d1ac15cf50f9103773ecaea4b8fd261.webp","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"leverage","title":"使用杠杆交易","description":"了解如何在 Freqtrade 中使用杠杆交易,包括做空、保证金和期货交易等高级功能","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"utils","title":"实用工具命令指南","short_title":"实用工具指南","description":"本文档详细介绍了 Freqtrade 中的各种实用工具子命令,包括创建用户目录、配置文件、列出交易所和交易对等功能。","date":"","thumbnail":"/build/show-config-output-2a74674e687e07d8afa7ace1b96df8bb.png","thumbnailOptimized":"/build/show-config-output-2a74674e687e07d8afa7ace1b96df8bb.webp","banner":"","bannerOptimized":"","tags":["工具","命令","配置","策略","交易所"],"level":1},{"slug":"plotting","title":"绘图","short_title":"绘图","description":"了解如何使用 Freqtrade 的绘图功能可视化价格、指标和利润数据,包括安装配置、命令参数和示例","date":"","thumbnail":"/build/plot-dataframe-40c25f36af7de6fc6f078d42ae5f90f5.png","thumbnailOptimized":"/build/plot-dataframe-40c25f36af7de6fc6f078d42ae5f90f5.webp","banner":"","bannerOptimized":"","tags":["绘图","可视化","指标","回测","利润"],"level":1},{"slug":"exchanges","title":"交易所特定说明","short_title":"交易所说明","description":"了解各个交易所的特殊配置和常见问题","date":"","thumbnail":"/build/binance_futures_sett-b4a8da10c6eb01bf904d6fc3533999b6.png","thumbnailOptimized":"/build/binance_futures_sett-b4a8da10c6eb01bf904d6fc3533999b6.webp","banner":"","bannerOptimized":"","tags":["交易所","配置","API","连接","问题解决"],"level":1},{"level":1,"title":"数据分析"},{"slug":"data-analysis","title":"使用 Jupyter 笔记本分析机器人数据","description":"使用 Jupyter 笔记本分析 Freqtrade 机器人的回测结果和交易历史数据","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strategy-analysis-example","title":"Freqtrade 策略分析示例","short_title":"策略分析示例","description":"本文档介绍如何使用 Freqtrade 提供的工具来分析和调试交易策略,包括数据可视化、回测分析等功能。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"advanced-backtesting","title":"高级回测分析","short_title":"高级回测","description":"本文档介绍了 FreqTrade 的高级回测分析功能,包括买入/卖出标签分析、信号导出等高级特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"高级话题"},{"slug":"advanced-setup","title":"高级安装后配置","short_title":"高级安装","description":"本文档介绍了 FreqTrade 安装后可以执行的高级任务和配置选项,包括多实例运行、日志配置等高级特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"trade-object","title":"交易对象文档","short_title":"交易对象指南","description":"本文档详细介绍了 Freqtrade 中的交易对象(Trade)，包括其属性、方法以及在策略中的使用方式。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lookahead-analysis","title":"前瞻性分析指南","short_title":"前瞻性分析","description":"前瞻性分析是一个用于检测和验证交易策略中是否存在前瞻性偏差的工具。本文档详细介绍了如何使用该工具来确保策略的有效性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"recursive-analysis","title":"递归分析指南","short_title":"递归分析","description":"递归分析是一个用于检测和验证交易策略中是否存在因递归公式导致的不准确性的工具。本文档详细介绍了如何使用该工具来确保策略的有效性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strategy-advanced","title":"Freqtrade 高级策略指南","short_title":"高级策略","description":"本文档详细介绍了 Freqtrade 交易机器人的高级策略开发概念,包括持久化存储、回调方法等进阶功能。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"advanced-hyperopt","title":"高级超参数优化","short_title":"高级超参数优化","description":"本文档介绍了 FreqTrade 的高级超参数优化功能,包括自定义损失函数等高级特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"advanced-orderflow","title":"高级委托流分析","short_title":"委托流分析","description":"本文档介绍了 FreqTrade 的委托流分析功能,包括如何配置和使用公共成交数据进行高级委托流分析。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"producer-consumer","title":"生产者/消费者模式","short_title":"生产者/消费者","description":"本文档介绍了 Freqtrade 的生产者/消费者模式,包括如何配置多个机器人实例共享计算指标和信号,以及相关的 websocket 设置。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["生产者","消费者","分布式","多实例","WebSocket"],"level":2},{"slug":"sql-cheatsheet","title":"SQL 助手","short_title":"SQL 助手","description":"本文档提供了使用 SQLite 数据库进行查询的详细指南和常用命令参考。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"edge","title":"Edge Positioning - 边缘定位","short_title":"Edge","description":"Edge Positioning 模块使用概率统计来计算交易胜率和风险回报比,从而优化策略的入场点、头寸大小和止损设置。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["Edge","概率","统计","策略优化","风险管理"],"level":2},{"slug":"faq","title":"Freqtrade 常见问题","short_title":"FAQ","description":"本文档回答了关于 Freqtrade 交易机器人的常见问题,包括支持的市场、初学者指南以及常见问题的故障排除。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"strategy-migration","title":"策略迁移指南","short_title":"策略迁移","description":"本文档详细介绍了如何将 Freqtrade V2 策略迁移到 V3，包括接口变更、方法重命名以及新增功能的完整说明。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"updating","title":"更新指南","short_title":"更新指南","description":"本文档详细介绍了如何更新 Freqtrade 的不同安装方式,包括 Docker、安装脚本和原生安装等方法。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"commands","title":"Commands","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"deprecated","title":"已弃用功能","short_title":"已弃用功能","description":"本文档介绍了 FreqTrade 中已弃用和移除的命令行参数、配置参数和机器人功能,帮助用户避免使用不再受支持的特性。","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"developer","title":"开发者指南","short_title":"开发者指南","description":"本文档面向 FreqTrade 的开发者,介绍如何为项目做出贡献、配置开发环境、编写测试以及其他开发相关的重要信息。","date":"","thumbnail":"/build/pycharm_debug-7a8a6d1f4a91d643a2d41ff932bf9a82.png","thumbnailOptimized":"/build/pycharm_debug-7a8a6d1f4a91d643a2d41ff932bf9a82.webp","banner":"","bannerOptimized":"","tags":[],"level":1},{"level":1,"title":"Commands"},{"slug":"main","title":"Main","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"backtesting-analysis","title":"Backtesting Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"backtesting-1","title":"Backtesting","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"backtesting-show","title":"Backtesting Show","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"convert-data","title":"Convert Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"convert-db","title":"Convert Db","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"convert-trade-data","title":"Convert Trade Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"create-userdir","title":"Create Userdir","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"download-data","title":"Download Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"edge-1","title":"Edge","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hyperopt-list","title":"Hyperopt List","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hyperopt-1","title":"Hyperopt","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"hyperopt-show","title":"Hyperopt Show","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"install-ui","title":"Install Ui","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-data","title":"List Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-exchanges","title":"List Exchanges","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-freqaimodels","title":"List Freqaimodels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-hyperoptloss","title":"List Hyperoptloss","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-markets","title":"List Markets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-pairs","title":"List Pairs","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-strategies","title":"List Strategies","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"list-timeframes","title":"List Timeframes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"lookahead-analysis-1","title":"Lookahead Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"new-config","title":"New Config","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"new-strategy","title":"New Strategy","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"plot-dataframe","title":"Plot Dataframe","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"plot-profit","title":"Plot Profit","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"recursive-analysis-1","title":"Recursive Analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"show-config","title":"Show Config","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"show-trades","title":"Show Trades","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"strategy-updater","title":"Strategy Updater","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"test-pairlist","title":"Test Pairlist","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"trade","title":"Trade","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"trades-to-ohlcv","title":"Trades To Ohlcv","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"webserver","title":"Webserver","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-98DF227B.js";
import * as route0 from "/build/root-PZGRQ5GW.js";
import * as route1 from "/build/routes/$-IZLSCQFJ.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>