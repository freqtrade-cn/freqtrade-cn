{"version":2,"kind":"Article","sha256":"29e99da966bb5e03086eed95658b1d573c141f615d594bc480d442a9bf1fd914","slug":"strategy-callbacks","location":"/strategy-callbacks.md","dependencies":[],"frontmatter":{"title":"ç­–ç•¥å›è°ƒæŒ‡å—","description":"æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº† Freqtrade äº¤æ˜“æœºå™¨äººä¸­å¯ç”¨çš„å„ç§ç­–ç•¥å›è°ƒå‡½æ•°,åŒ…æ‹¬å®ƒä»¬çš„ç”¨é€”ã€è°ƒç”¨æ—¶æœºä»¥åŠä½¿ç”¨æ–¹æ³•ã€‚","short_title":"ç­–ç•¥å›è°ƒ","subtitle":"ç­–ç•¥å›è°ƒå‡½æ•°çš„å®Œæ•´æ¦‚è¿°","subject":"Freqtrade ç­–ç•¥å›è°ƒæ–‡æ¡£","authors":[{"id":"Freqtrade","name":"Freqtrade"}],"github":"https://github.com/freqtrade-cn/docs_zh-CN","keywords":["Freqtrade","ä¸­æ–‡æ–‡æ¡£","äº¤æ˜“æœºå™¨äºº","é‡åŒ–äº¤æ˜“","åŠ å¯†è´§å¸","æ•°å­—è´§å¸","åŒºå—é“¾","äººå·¥æ™ºèƒ½","æœºå™¨å­¦ä¹ "],"edit_url":"https://github.com/freqtrade-cn/docs_zh-CN/blob/main/strategy-callbacks.md","thumbnail":"/build/freqUI-chart-annotat-6ca425e986932e863842497203176546.png","thumbnailOptimized":"/build/freqUI-chart-annotat-6ca425e986932e863842497203176546.webp","exports":[{"format":"md","filename":"strategy-callbacks.md","url":"/build/strategy-callbacks-6a1ed99e3e79a4e1ace6d3221c767ade.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"ç­–ç•¥å›è°ƒ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"LtXTmZWp4v"}],"identifier":"id","label":"ç­–ç•¥å›è°ƒ","html_id":"id","implicit":true,"key":"BhPOJQt3fI"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"è™½ç„¶ä¸»è¦çš„ç­–ç•¥å‡½æ•°ï¼ˆ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"gKXbO9Fy5B"},{"type":"inlineCode","value":"populate_indicators()","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Gm3NLbdTly"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"rRJWtHSgLc"},{"type":"inlineCode","value":"populate_entry_trend()","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"gCnzGD4fbZ"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"RuRSSfBghD"},{"type":"inlineCode","value":"populate_exit_trend()","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"nEsjEGBrTE"},{"type":"text","value":") ï¼‰åº”ä»¥å‘é‡åŒ–æ–¹å¼ä½¿ç”¨ï¼Œå¹¶ä¸”åªä¼šåœ¨","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"eM4hXMieuS"},{"type":"crossReference","url":"/bot-basics","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"å›æµ‹æ—¶è°ƒç”¨ä¸€æ¬¡","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"RR9lqfJjkH"}],"urlSource":"bot-basics.md#backtesting-hyperopt-execution-logic","dataUrl":"/bot-basics.json","identifier":"backtesting-hyperopt-execution-logic","label":"backtesting-hyperopt-execution-logic","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"backtesting-hyperopt-execution-logic","key":"rW7MR25L9a"},{"type":"text","value":"ï¼Œä½†å›è°ƒå‡½æ•°ä¼šåœ¨\"éœ€è¦æ—¶\"è¢«è°ƒç”¨ã€‚","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"k4XMxMMDBM"}],"key":"au8XgTHDq6"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"å› æ­¤ï¼Œä½ åº”é¿å…åœ¨å›è°ƒä¸­è¿›è¡Œç¹é‡çš„è®¡ç®—ï¼Œä»¥å…åœ¨æ“ä½œè¿‡ç¨‹ä¸­é€ æˆå»¶è¿Ÿã€‚","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"oEbIVItxl6"}],"key":"jxyGq2WgJU"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"æ ¹æ®æ‰€ç”¨å›è°ƒçš„ä¸åŒï¼Œå®ƒä»¬å¯èƒ½åœ¨è¿›å…¥/é€€å‡ºäº¤æ˜“æ—¶è°ƒç”¨ï¼Œæˆ–åœ¨äº¤æ˜“æœŸé—´å¤šæ¬¡è°ƒç”¨ã€‚\nå½“å‰å¯ç”¨çš„å›è°ƒæœ‰ï¼š","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"P7TX6rsw8V"}],"key":"QqTMHxkzpt"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":18,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"æœºå™¨äººå¯åŠ¨ ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"o2mAYhuc97"},{"type":"inlineCode","value":"bot_start()","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"CRpSpfuwQF"}],"identifier":"bot-start","label":"bot-start","kind":"heading","template":"{name}","resolved":true,"html_id":"bot-start","key":"OPJ7XFOgUr"}],"key":"Uu4tdrd66I"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"æœºå™¨äººå¾ªç¯å¼€å§‹ ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"j7Az15VGyo"},{"type":"inlineCode","value":"bot_loop_start()","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"N8acHUffyb"}],"identifier":"bot-loop-start","label":"bot-loop-start","kind":"heading","template":"{name}","resolved":true,"html_id":"bot-loop-start","key":"XcB0e30mTR"}],"key":"frItY58Jlc"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"ä»“ä½å¤§å°ç®¡ç† ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"aDs5pQsoD3"},{"type":"inlineCode","value":"custom_stake_amount()","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"iPoX520mbW"}],"identifier":"stake-size-management","label":"stake-size-management","kind":"heading","template":"{name}","resolved":true,"html_id":"stake-size-management","key":"czV3b23w95"}],"key":"SIFqDUS6qj"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰é€€å‡ºä¿¡å· ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"K14i89GiGf"},{"type":"inlineCode","value":"custom_exit()","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"GsqKGgQmfX"}],"identifier":"custom-exit-signal","label":"custom-exit-signal","kind":"heading","template":"{name}","resolved":true,"html_id":"custom-exit-signal","key":"SIiYAzGaEz"}],"key":"VnDn7Kbhpf"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰æ­¢æŸ ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"u4fnvxejTx"},{"type":"inlineCode","value":"custom_stoploss()","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"b9rcgmXCl1"}],"identifier":"custom-stoploss","label":"custom-stoploss","kind":"heading","template":"{name}","resolved":true,"html_id":"custom-stoploss","key":"ifUDZI2mAA"}],"key":"APrZ60VaSB"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"link","url":"#custom-order-price-rules","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"inlineCode","value":"custom_entry_price()","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"zNbHMVPxX0"},{"type":"text","value":" å’Œ ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"cB0Wlw3rhd"},{"type":"inlineCode","value":"custom_exit_price()","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"I6osNNu63b"}],"urlSource":"#custom-order-price-rules","key":"EU41qBq8lo"}],"key":"iLTukPE8mA"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"link","url":"#custom-order-timeout-rules","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"inlineCode","value":"check_entry_timeout()","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"diR60kiZJ3"},{"type":"text","value":" å’Œ ","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"QC3ISeaf89"},{"type":"inlineCode","value":"check_exit_timeout()","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"W96oQFYGj4"}],"urlSource":"#custom-order-timeout-rules","key":"pDcBa1FWak"}],"key":"umWxnihXGu"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_entry()","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"WoYkvAkJFn"}],"identifier":"trade-entry-buy-order-confirmation","label":"trade-entry-buy-order-confirmation","kind":"heading","template":"{name}","resolved":true,"html_id":"trade-entry-buy-order-confirmation","key":"X4gaRJ6Wp9"}],"key":"cHN6itHqCl"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_exit()","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"XT1BHoNM21"}],"identifier":"trade-exit-sell-order-confirmation","label":"trade-exit-sell-order-confirmation","kind":"heading","template":"{name}","resolved":true,"html_id":"trade-exit-sell-order-confirmation","key":"zamN4R02r2"}],"key":"FvDWnEqcDJ"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"inlineCode","value":"adjust_trade_position()","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"gO0gqU4ks3"}],"identifier":"adjust-trade-position","label":"adjust-trade-position","kind":"heading","template":"{name}","resolved":true,"html_id":"adjust-trade-position","key":"pKyHCpusvL"}],"key":"zgLRaSmmDi"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"link","url":"#adjust-entry-price","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"inlineCode","value":"adjust_entry_price()","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"VIXqLvLQLD"}],"urlSource":"#adjust-entry-price","key":"jBHhdwJcSZ"}],"key":"LEoRba9O2g"},{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"link","url":"#leverage-callback","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"inlineCode","value":"leverage()","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"ABb3M6qb0z"}],"urlSource":"#leverage-callback","key":"k5hF1LIjm2"}],"key":"npqLOVFMKE"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"link","url":"#order-filled-callback","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"inlineCode","value":"order_filled()","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"GomK1cJPKE"}],"urlSource":"#order-filled-callback","key":"vYHGBMa11y"}],"key":"O1pXfumKjl"}],"key":"hmPQMUgXwH"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"å›è°ƒè°ƒç”¨é¡ºåº","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"hpXy8r3J2g"}],"key":"tcIxGYZLt9"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"ä½ å¯ä»¥åœ¨ ","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"hYv6h1D9cx"},{"type":"crossReference","url":"/bot-basics","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"bot-basics","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"YiLbAaelch"}],"urlSource":"bot-basics.md#bot-execution-logic","dataUrl":"/bot-basics.json","identifier":"bot-execution-logic","label":"bot-execution-logic","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"bot-execution-logic","key":"HKJMH2ZXkM"},{"type":"text","value":" ä¸­æ‰¾åˆ°å›è°ƒçš„è°ƒç”¨é¡ºåº","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"AVuVoEO6VP"}],"key":"nDa503Jq0z"}],"key":"Cyz9BcPlz0"},{"type":"include","file":"includes/strategy-imports.md","literal":false,"lang":"markdown","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ç­–ç•¥æ‰€éœ€çš„å¯¼å…¥","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vdaa2gdins"}],"identifier":"id","label":"ç­–ç•¥æ‰€éœ€çš„å¯¼å…¥","html_id":"id-1","implicit":true,"key":"UlUVIrnImd"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"åœ¨åˆ›å»ºç­–ç•¥æ—¶ï¼Œä½ éœ€è¦å¯¼å…¥å¿…è¦çš„æ¨¡å—å’Œç±»ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç­–ç•¥æ‰€éœ€çš„å¯¼å…¥ï¼š","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"w1KdjQUIx4"}],"key":"MDDKDKpGIg"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ä»¥ä¸‹å¯¼å…¥ä½œä¸ºç­–ç•¥çš„åŸºç¡€ï¼š\nè¿™å°†æ¶µç›– freqtrade åŠŸèƒ½æ‰€éœ€çš„æ‰€æœ‰å¯¼å…¥ã€‚\nå½“ç„¶ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ æ›´å¤šå¯¼å…¥ã€‚","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ozeJ1NitEZ"}],"key":"L1dDdBra6m"},{"type":"code","lang":"python","value":"# flake8: noqa: F401\n# isort: skip_file\n# --- Do not remove these imports ---\nimport numpy as np\nimport pandas as pd\nfrom datetime import datetime, timedelta, timezone\nfrom pandas import DataFrame\nfrom typing import Dict, Optional, Union, Tuple\n\nfrom freqtrade.strategy import (\n    IStrategy,\n    Trade, \n    Order,\n    PairLocks,\n    informative,  # @informative decorator\n    # Hyperopt Parameters\n    BooleanParameter,\n    CategoricalParameter,\n    DecimalParameter,\n    IntParameter,\n    RealParameter,\n    # timeframe helpers\n    timeframe_to_minutes,\n    timeframe_to_next_date,\n    timeframe_to_prev_date,\n    # Strategy helper functions\n    merge_informative_pair,\n    stoploss_from_absolute,\n    stoploss_from_open,\n)\n\n# --------------------------------\n# Add your lib to import here\nimport talib.abstract as ta\nfrom technical import qtpylib","position":{"start":{"line":9,"column":1},"end":{"line":45,"column":1}},"key":"d6UaNUlfJs"}],"key":"AKIivOMhMY"},{"type":"include","file":"includes/strategy-exit-comparisons.md","literal":false,"lang":"markdown","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"é€€å‡ºé€»è¾‘æ¯”è¾ƒ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uUJt7ElSfJ"}],"identifier":"id","label":"é€€å‡ºé€»è¾‘æ¯”è¾ƒ","html_id":"id-2","implicit":true,"key":"NLGOeZSLwU"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Freqtrade å…è®¸ä½ çš„ç­–ç•¥ä½¿ç”¨åŸºäºä¿¡å·æˆ–åŸºäºå›è°ƒçš„å‡½æ•°æ¥å®ç°ä¸åŒçš„é€€å‡ºé€»è¾‘ã€‚\næœ¬èŠ‚æ—¨åœ¨æ¯”è¾ƒæ¯ä¸ªä¸åŒçš„å‡½æ•°ï¼Œå¸®åŠ©ä½ é€‰æ‹©æœ€é€‚åˆä½ éœ€æ±‚çš„æ–¹æ¡ˆã€‚","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fDWwjVuEPl"}],"key":"NL4xbqFxZH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"inlineCode","value":"populate_exit_trend()","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"kdXYEZHRFd"}],"key":"Q4PYJDkkYU"},{"type":"text","value":" - ä½¿ç”¨ä¸»æ•°æ®æ¡†æ¶ä¸­çš„æŒ‡æ ‡è¿›è¡Œå‘é‡åŒ–çš„åŸºäºä¿¡å·çš„é€€å‡ºé€»è¾‘","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"MLeMfWTvbM"}],"key":"t97UXuUiR0"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"âœ… ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"dsuOxeVu9p"},{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"ä½¿ç”¨åœºæ™¯","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"YnaR6XJhBB"}],"key":"TLf2iCzLNW"},{"type":"text","value":"ï¼šåŸºäºæŒ‡æ ‡æˆ–å…¶ä»–å¯ä»¥å‘é‡åŒ–è®¡ç®—çš„æ•°æ®å®šä¹‰é€€å‡ºä¿¡å·ã€‚","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZDo6rPEAdx"}],"key":"HVIPR08LUI"}],"key":"mBvqoKfPlG"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"ğŸš« ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"wi8sdUNPp2"},{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"ä¸é€‚ç”¨åœºæ™¯","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"tbS22XQZ6y"}],"key":"b8LqujohWA"},{"type":"text","value":"ï¼šä¸ºæ¯ä¸ªå•ç‹¬çš„äº¤æ˜“è‡ªå®šä¹‰é€€å‡ºæ¡ä»¶ï¼Œæˆ–éœ€è¦äº¤æ˜“æ•°æ®æ¥åšå‡ºé€€å‡ºå†³å®šæ—¶ã€‚","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"FCPcFqM3HN"}],"key":"utQx3k2se5"}],"key":"KbQ1STJpK0"}],"key":"yddGQoGNo9"}],"key":"e0zVI2CmRS"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"inlineCode","value":"custom_exit()","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Tdhr37S95t"}],"key":"bKpK3j44kg"},{"type":"text","value":" - è‡ªå®šä¹‰é€€å‡ºé€»è¾‘ï¼Œå°†ç«‹å³å®Œå…¨é€€å‡ºäº¤æ˜“ï¼Œåœ¨æ¯æ¬¡æœºå™¨äººå¾ªç¯è¿­ä»£æ—¶å¯¹æ¯ä¸ªå¼€æ”¾äº¤æ˜“è°ƒç”¨ï¼Œç›´åˆ°äº¤æ˜“å…³é—­ã€‚","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"gbtsHeAO19"}],"key":"rjw67pfdkj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"âœ… ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"hteVsCTUZz"},{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"ä½¿ç”¨åœºæ™¯","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"nPN8xnRRMo"}],"key":"Q3qtXHSzcz"},{"type":"text","value":"ï¼šä¸ºæ¯ä¸ªå•ç‹¬çš„äº¤æ˜“æŒ‡å®šé€€å‡ºæ¡ä»¶ï¼ˆåŒ…æ‹¬ä½¿ç”¨ ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"jMXUsxgY1J"},{"type":"inlineCode","value":"adjust_trade_position()","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"p1zaM7PoYx"},{"type":"text","value":" çš„ä»»ä½•é¢å¤–è°ƒæ•´è®¢å•ï¼‰ï¼Œæˆ–éœ€è¦äº¤æ˜“æ•°æ®æ¥åšå‡ºé€€å‡ºå†³å®šæ—¶ï¼Œä¾‹å¦‚ä½¿ç”¨åˆ©æ¶¦æ•°æ®æ¥é€€å‡ºã€‚","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"eosiyuWdjH"}],"key":"dtExz82JiW"}],"key":"MHV3dPuDUS"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"ğŸš« ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"X2JwyrPe3L"},{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"ä¸é€‚ç”¨åœºæ™¯","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"RP9caGcRCf"}],"key":"uJgxXbKZty"},{"type":"text","value":"ï¼šå½“ä½ æƒ³ä½¿ç”¨å‘é‡åŒ–çš„åŸºäºæŒ‡æ ‡çš„æ•°æ®é€€å‡ºæ—¶ï¼ˆæ”¹ç”¨ ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"wUGH7UILzf"},{"type":"inlineCode","value":"populate_exit_trend()","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"IxQxptgdXt"},{"type":"text","value":" ä¿¡å·ï¼‰ï¼Œæˆ–ä½œä¸º ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"pXkBKxIx7S"},{"type":"inlineCode","value":"custom_stoploss()","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"gVQWGdhJde"},{"type":"text","value":" çš„æ›¿ä»£ï¼Œå¹¶ä¸”è¦æ³¨æ„å›æµ‹ä¸­åŸºäºé€Ÿç‡çš„é€€å‡ºå¯èƒ½ä¸å‡†ç¡®ã€‚","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"oQl7WSmVI4"}],"key":"kpK7m4FzgQ"}],"key":"hVit8WCaOb"}],"key":"UGAfUxusJX"}],"key":"gQrdYODcGD"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"strong","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"inlineCode","value":"custom_stoploss()","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"ZBBonv4iru"}],"key":"HriR1agEpL"},{"type":"text","value":" - è‡ªå®šä¹‰è¿½è¸ªæ­¢æŸï¼Œåœ¨æ¯æ¬¡è¿­ä»£æ—¶å¯¹æ¯ä¸ªå¼€æ”¾äº¤æ˜“è°ƒç”¨ï¼Œç›´åˆ°äº¤æ˜“å…³é—­ã€‚è¿™é‡Œè¿”å›çš„å€¼ä¹Ÿç”¨äº","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"ZcCQt4h12d"},{"type":"crossReference","url":"/stoploss","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"äº¤æ˜“æ‰€æ­¢æŸ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"hZLx8ULqRN"}],"urlSource":"stoploss.md#stop-loss-on-exchangefreqtrade","dataUrl":"/stoploss.json","identifier":"stop-loss-on-exchangefreqtrade","label":"stop-loss-on-exchangefreqtrade","remote":true,"protocol":"file","key":"j35FvP1wMr"},{"type":"text","value":"ã€‚","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"z1Z3j3YuuX"}],"key":"C8tvu35kaM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"âœ… ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"NLwhD8YKi3"},{"type":"strong","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"ä½¿ç”¨åœºæ™¯","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"DWltC8cZLi"}],"key":"n0NBzfYgL8"},{"type":"text","value":"ï¼šè‡ªå®šä¹‰æ­¢æŸé€»è¾‘ï¼Œæ ¹æ®äº¤æ˜“æ•°æ®æˆ–å…¶ä»–æ¡ä»¶è®¾ç½®åŠ¨æ€æ­¢æŸã€‚","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"LvoRwbLvKg"}],"key":"E8XihuHWCw"}],"key":"HkqkBrnc83"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"ğŸš« ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"F73IIXsMzv"},{"type":"strong","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"ä¸é€‚ç”¨åœºæ™¯","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"Pp4xJheqHZ"}],"key":"YMt56qk9v6"},{"type":"text","value":"ï¼šåŸºäºç‰¹å®šæ¡ä»¶ç«‹å³é€€å‡ºäº¤æ˜“ã€‚ä½¿ç”¨ ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"hLs5Oz8tdk"},{"type":"inlineCode","value":"custom_exit()","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"gUmJ7rFgSx"},{"type":"text","value":" æ¥å®ç°è¿™ä¸ªç›®çš„ã€‚","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"xo2tyH0ry5"}],"key":"Jh2o5ac4ej"}],"key":"cf0XXeDla8"}],"key":"TSrtMpFdty"}],"key":"JJIBVItbLk"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"strong","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"inlineCode","value":"custom_roi()","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"ucqSkZJeWO"}],"key":"ttHrDGmGTB"},{"type":"text","value":" - è‡ªå®šä¹‰ ROIï¼Œåœ¨æ¯æ¬¡è¿­ä»£æ—¶å¯¹æ¯ä¸ªå¼€æ”¾äº¤æ˜“è°ƒç”¨ï¼Œç›´åˆ°äº¤æ˜“å…³é—­ã€‚","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"bLKxhereLd"}],"key":"fNNOkaWzVW"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":23,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"âœ… ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"WB1vlJbD83"},{"type":"strong","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"ä½¿ç”¨åœºæ™¯","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"yvL6LWKCpY"}],"key":"pyJF9jHNgJ"},{"type":"text","value":"ï¼šæŒ‡å®šæœ€å° ROI é˜ˆå€¼ï¼ˆâ€œæ­¢ç›ˆâ€ï¼‰ï¼Œæ ¹æ®åˆ©æ¶¦æˆ–å…¶ä»–æ¡ä»¶åœ¨äº¤æ˜“æŒç»­æ—¶é—´å†…æŸä¸ªæ—¶é—´ç‚¹ä»¥è¿™ä¸ª ROI æ°´å¹³é€€å‡ºäº¤æ˜“ã€‚","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"xRWRplSJHQ"}],"key":"Z7y9vl6Qz4"}],"key":"x3glaLZlEe"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"ğŸš« ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"Xd4KeyBfM9"},{"type":"strong","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"ä¸é€‚ç”¨åœºæ™¯","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"aiOFBcubbG"}],"key":"YnSgeJqkMC"},{"type":"text","value":"ï¼šåŸºäºç‰¹å®šæ¡ä»¶ç«‹å³é€€å‡ºäº¤æ˜“ã€‚ä½¿ç”¨ ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"EN607GGta8"},{"type":"inlineCode","value":"custom_exit()","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"KB55khUGSC"},{"type":"text","value":"ã€‚","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"Vbj9R54UeD"}],"key":"oAK79Wobfn"}],"key":"F2xUj6hAXt"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"ğŸš« ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"p75Ix7AkEv"},{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"ä¸é€‚ç”¨åœºæ™¯","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"pl1Fl536KB"}],"key":"tC17XSrHA7"},{"type":"text","value":"ï¼šé™æ€ ROIã€‚ä½¿ç”¨ ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"dLCEWEueJR"},{"type":"inlineCode","value":"minimal_roi","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"ykoRkwrdhY"},{"type":"text","value":"ã€‚","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"tqf76pPMyU"}],"key":"RLMBrsY8qs"}],"key":"kRCMaRTyCZ"}],"key":"Nh3vJgj62Z"}],"key":"FSRN2dw66Y"}],"key":"q9iZaQGybo"}],"key":"FRqNY176g3"},{"type":"heading","depth":3,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"æœºå™¨äººå¯åŠ¨","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"rY1KoiNsed"}],"label":"bot-start","identifier":"bot-start","html_id":"bot-start","key":"ISKkwYLS7X"},{"type":"paragraph","position":{"start":{"line":46,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"ä¸€ä¸ªç®€å•çš„å›è°ƒï¼Œåœ¨ç­–ç•¥åŠ è½½æ—¶åªè°ƒç”¨ä¸€æ¬¡ã€‚\nè¿™å¯ç”¨äºæ‰§è¡Œåªéœ€æ‰§è¡Œä¸€æ¬¡çš„æ“ä½œï¼Œå¹¶åœ¨æ•°æ®ä¾›åº”å•† (dataprovider) å’Œé’±åŒ…è®¾ç½®åè¿è¡Œã€‚","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"w0pQyjQzVS"}],"key":"f4R4NqLidE"},{"type":"code","lang":"python","value":"import requests\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* methods\n\n    def bot_start(self, **kwargs) -> None:\n        \"\"\"\n        Called only once after bot instantiation.\n        :param **kwargs: Ensure to keep this here so updates to this won't break your strategy.\n        \"\"\"\n        if self.config[\"runmode\"].value in (\"live\", \"dry_run\"):\n            # Assign this to the class by using self.*\n            # can then be used by populate_* methods\n            self.custom_remote_data = requests.get(\"https://some_remote_source.example.com\")\n","position":{"start":{"line":49,"column":1},"end":{"line":66,"column":1}},"key":"zwDOsLK4Ro"},{"type":"paragraph","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"text","value":"åœ¨ hyperopt æ—¶ï¼Œè¿™ä¸ªå›è°ƒåªä¼šåœ¨å¯åŠ¨æ—¶è¿è¡Œä¸€æ¬¡ã€‚","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"GaqucevUxi"}],"key":"OoKlItyFCa"},{"type":"heading","depth":3,"position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"æœºå™¨äººå¾ªç¯å¼€å§‹","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"WoNBqfNira"}],"label":"bot-loop-start","identifier":"bot-loop-start","html_id":"bot-loop-start","key":"FH2RomfjlH"},{"type":"paragraph","position":{"start":{"line":74,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"ä¸€ä¸ªç®€å•çš„å›è°ƒï¼Œåœ¨æ¯æ¬¡æœºå™¨äººèŠ‚æµå¾ªç¯å¼€å§‹æ—¶è°ƒç”¨ä¸€æ¬¡ï¼ˆåœ¨ dry/live æ¨¡å¼ä¸‹å¤§çº¦æ¯ 5 ç§’ï¼Œé™¤éå¦æœ‰é…ç½®ï¼‰ï¼Œæˆ–åœ¨å›æµ‹/hyperopt æ¨¡å¼ä¸‹æ¯æ ¹ K çº¿è°ƒç”¨ä¸€æ¬¡ã€‚\nè¿™å¯ç”¨äºæ‰§è¡Œä¸äº¤æ˜“å¯¹æ— å…³çš„è®¡ç®—ï¼ˆé€‚ç”¨äºæ‰€æœ‰äº¤æ˜“å¯¹ï¼‰ã€åŠ è½½å¤–éƒ¨æ•°æ®ç­‰ã€‚","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"lKsvsxGRIj"}],"key":"sdFKCA4djT"},{"type":"code","lang":"python","value":"# Default imports\nimport requests\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* methods\n\n    def bot_loop_start(self, current_time: datetime, **kwargs) -> None:\n        \"\"\"\n        Called at the start of the bot iteration (one loop).\n        Might be used to perform pair-independent tasks\n        (e.g. gather some remote resource for comparison)\n        :param current_time: datetime object, containing the current datetime\n        :param **kwargs: Ensure to keep this here so updates to this won't break your strategy.\n        \"\"\"\n        if self.config[\"runmode\"].value in (\"live\", \"dry_run\"):\n            # Assign this to the class by using self.*\n            # can then be used by populate_* methods\n            self.remote_data = requests.get(\"https://some_remote_source.example.com\")\n","position":{"start":{"line":77,"column":1},"end":{"line":98,"column":1}},"key":"HnfT9btV8K"},{"type":"heading","depth":3,"position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"ä»“ä½å¤§å°ç®¡ç†","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"vOcleuTcp3"}],"label":"stake-size-management","identifier":"stake-size-management","html_id":"stake-size-management","key":"g3pVB9QLKN"},{"type":"paragraph","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"åœ¨è¿›å…¥äº¤æ˜“å‰è°ƒç”¨ï¼Œä½¿ä½ å¯ä»¥åœ¨ä¸‹æ–°å•æ—¶ç®¡ç†ä»“ä½å¤§å°ã€‚","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"Yu4tEPeT1y"}],"key":"DrerWRQSl9"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n    def custom_stake_amount(self, pair: str, current_time: datetime, current_rate: float,\n                            proposed_stake: float, min_stake: float | None, max_stake: float,\n                            leverage: float, entry_tag: str | None, side: str,\n                            **kwargs) -> float:\n\n        dataframe, _ = self.dp.get_analyzed_dataframe(pair=pair, timeframe=self.timeframe)\n        current_candle = dataframe.iloc[-1].squeeze()\n\n        if current_candle[\"fastk_rsi_1h\"] > current_candle[\"fastd_rsi_1h\"]:\n            if self.config[\"stake_amount\"] == \"unlimited\":\n                # Use entire available wallet during favorable conditions when in compounding mode.\n                return max_stake\n            else:\n                # Compound profits during favorable conditions instead of using a static stake.\n                return self.wallets.get_total_stake_amount() / self.config[\"max_open_trades\"]\n\n        # Use default stake amount.\n        return proposed_stake","position":{"start":{"line":106,"column":1},"end":{"line":128,"column":1}},"key":"T74QMUw8HJ"},{"type":"paragraph","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"å¦‚æœä½ çš„ä»£ç æŠ›å‡ºå¼‚å¸¸ï¼ŒFreqtrade ä¼šå›é€€åˆ° ","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"ksEx4kUxev"},{"type":"inlineCode","value":"proposed_stake","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"t5AiCEzjHj"},{"type":"text","value":" çš„å€¼ã€‚å¼‚å¸¸æœ¬èº«ä¼šè¢«è®°å½•ã€‚","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"eYaCyxbBex"}],"key":"ZXHH7spDfF"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"h0aE5zfwYe"}],"key":"DvqXLmPupr"},{"type":"paragraph","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"text","value":"ä½ ä¸å¿…ç¡®ä¿ ","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"TeWcro3x1D"},{"type":"inlineCode","value":"min_stake <= returned_value <= max_stake","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"H8XuHYoJRU"},{"type":"text","value":"ã€‚äº¤æ˜“ä¼šæˆåŠŸï¼Œå› ä¸ºè¿”å›å€¼ä¼šè¢«é™åˆ¶åœ¨æ”¯æŒçš„èŒƒå›´å†…ï¼Œå¹¶ä¸”æ­¤æ“ä½œä¼šè¢«è®°å½•ã€‚","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"dv5CcAbmHN"}],"key":"l6Tyhl0XWc"}],"key":"gLM5tnip1c"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"Sbxq1V6Jqy"}],"key":"cdcCVA4G5y"},{"type":"paragraph","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"text","value":"è¿”å› ","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"osr7iCueai"},{"type":"inlineCode","value":"0","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"FmevSFkKiI"},{"type":"text","value":" æˆ– ","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"XXP9WVeU7H"},{"type":"inlineCode","value":"None","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"Sb4liAqT6l"},{"type":"text","value":" ä¼šé˜»æ­¢ä¸‹å•ã€‚","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"zlib5S8Rtg"}],"key":"Sa2WUo5CXv"}],"key":"vKDBVpnChP"},{"type":"heading","depth":3,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰é€€å‡ºä¿¡å·","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"xkwhNOmDvm"}],"label":"custom-exit-signal","identifier":"custom-exit-signal","html_id":"custom-exit-signal","key":"TZdXk3FdzO"},{"type":"paragraph","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"åœ¨æ¯æ¬¡èŠ‚æµè¿­ä»£ï¼ˆå¤§çº¦æ¯ 5 ç§’ï¼‰æ—¶å¯¹å¼€æ”¾äº¤æ˜“è°ƒç”¨ï¼Œç›´åˆ°äº¤æ˜“å…³é—­ã€‚","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"jQAMUWVd4j"}],"key":"fD7kUZRh6m"},{"type":"paragraph","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"å…è®¸å®šä¹‰è‡ªå®šä¹‰é€€å‡ºä¿¡å·ï¼ŒæŒ‡ç¤ºåº”å…³é—­æŒ‡å®šä»“ä½ï¼ˆå®Œå…¨é€€å‡ºï¼‰ã€‚è¿™åœ¨éœ€è¦ä¸ºæ¯ä¸ªå•ç‹¬çš„äº¤æ˜“è‡ªå®šä¹‰é€€å‡ºæ¡ä»¶ï¼Œæˆ–è€…éœ€è¦äº¤æ˜“æ•°æ®æ¥åšå‡ºé€€å‡ºå†³å®šæ—¶éå¸¸æœ‰ç”¨ã€‚","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"JaK1JlgPoM"}],"key":"t6sXhpR7zl"},{"type":"paragraph","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ ","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"RNikJkUkJB"},{"type":"inlineCode","value":"custom_exit()","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"BMd9D8fExs"},{"type":"text","value":" å®ç° 1:2 çš„é£é™©å›æŠ¥æ¯”ã€‚","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"Qv4hamMHh0"}],"key":"AL9KShwxkR"},{"type":"paragraph","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"ä¸è¿‡ï¼Œä½¿ç”¨ ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"ZKZayK0E3a"},{"type":"inlineCode","value":"custom_exit()","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"fVscWjKaxO"},{"type":"text","value":" ä¿¡å·ä»£æ›¿æ­¢æŸ ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"JbY1xuS9gY"},{"type":"emphasis","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"ä¸æ¨è","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"UQmlReeYS5"}],"key":"O5cwpcvAnK"},{"type":"text","value":"ã€‚åœ¨è¿™æ–¹é¢ï¼Œå®ƒä¸å¦‚ä½¿ç”¨ ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"YPe6i6corY"},{"type":"inlineCode","value":"custom_stoploss()","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"cWoYAT5j6p"},{"type":"text","value":" æœ‰æ•ˆï¼Œåè€…è¿˜å…è®¸ä½ åœ¨äº¤æ˜“æ‰€ä¿æŒæ­¢æŸã€‚","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"Ujy5IxsIjj"}],"key":"btxS0KDjpW"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"gbQDzO22wD"}],"key":"cOljiBIciJ"},{"type":"paragraph","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"text","value":"ä»æ­¤æ–¹æ³•è¿”å›ä¸€ä¸ªï¼ˆéç©ºï¼‰","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"q3GRRJjuIX"},{"type":"inlineCode","value":"string","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"IQ490n0vIA"},{"type":"text","value":" æˆ– ","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"cfOQnHjgwD"},{"type":"inlineCode","value":"True","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"fUDZCBCOSo"},{"type":"text","value":" ç­‰åŒäºåœ¨æŒ‡å®šæ—¶é—´è®¾ç½®é€€å‡ºä¿¡å·ã€‚å¦‚æœå·²ç»è®¾ç½®äº†é€€å‡ºä¿¡å·ï¼Œæˆ–è€…é€€å‡ºä¿¡å·è¢«ç¦ç”¨ï¼ˆ","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"Q5tRQCduAS"},{"type":"inlineCode","value":"use_exit_signal=False","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"byZFoUsmPn"},{"type":"text","value":"ï¼‰ï¼Œåˆ™ä¸ä¼šè°ƒç”¨æ­¤æ–¹æ³•ã€‚","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"CJH2xsnnmt"},{"type":"inlineCode","value":"string","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"u0CsDtKBFD"},{"type":"text","value":" çš„æœ€å¤§é•¿åº¦ä¸º 64 ä¸ªå­—ç¬¦ã€‚è¶…è¿‡æ­¤é™åˆ¶å°†å¯¼è‡´æ¶ˆæ¯è¢«æˆªæ–­ä¸º 64 ä¸ªå­—ç¬¦ã€‚","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"dT984AcZEM"}],"key":"VbrQgYAV7U"},{"type":"paragraph","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"inlineCode","value":"custom_exit()","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"K34yuXkxLc"},{"type":"text","value":" å°†å¿½ç•¥ ","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"o9fuheaD5A"},{"type":"inlineCode","value":"exit_profit_only","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"tfDzsCih3w"},{"type":"text","value":"ï¼Œå¹¶ä¸”é™¤é ","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"RwB00OKFlB"},{"type":"inlineCode","value":"use_exit_signal=False","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"ImNMDHksTC"},{"type":"text","value":"ï¼Œå¦åˆ™å§‹ç»ˆä¼šè¢«è°ƒç”¨ï¼Œå³ä½¿æœ‰æ–°çš„è¿›å…¥ä¿¡å·ã€‚","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"ZhiogT7O1o"}],"key":"VxkRgdHLCu"}],"key":"Fv3yt3dUm3"},{"type":"paragraph","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•æ ¹æ®å½“å‰åˆ©æ¶¦ä½¿ç”¨ä¸åŒçš„æŒ‡æ ‡ï¼Œå¹¶é€€å‡ºå·²å¼€æ”¾è¶…è¿‡ä¸€å¤©çš„äº¤æ˜“ï¼š","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"a2aDVehVhN"}],"key":"i9aOq0DCHQ"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n    def custom_exit(self, pair: str, trade: Trade, current_time: datetime, current_rate: float,\n                    current_profit: float, **kwargs):\n        dataframe, _ = self.dp.get_analyzed_dataframe(pair, self.timeframe)\n        last_candle = dataframe.iloc[-1].squeeze()\n\n        # Above 20% profit, sell when rsi < 80\n        if current_profit > 0.2:\n            if last_candle[\"rsi\"] < 80:\n                return \"rsi_below_80\"\n\n        # Between 2% and 10%, sell if EMA-long above EMA-short\n        if 0.02 < current_profit < 0.1:\n            if last_candle[\"emalong\"] > last_candle[\"emashort\"]:\n                return \"ema_long_below_80\"\n\n        # Sell any positions at a loss if they are held for more than one day.\n        if current_profit < 0.0 and (current_time - trade.open_date_utc).days >= 1:\n            return \"unclog\"","position":{"start":{"line":160,"column":1},"end":{"line":182,"column":1}},"key":"r4bYhhhb8e"},{"type":"paragraph","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"text","value":"è¯·å‚é˜… ","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"pqDPOd8CJi"},{"type":"crossReference","url":"/strategy-advanced","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"text","value":"Dataframe è®¿é—®","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"L9E3Yn0yxz"}],"urlSource":"strategy-advanced.md#dataframe-access","dataUrl":"/strategy-advanced.json","identifier":"dataframe-access","label":"dataframe-access","remote":true,"protocol":"file","key":"IyyaxnDSNM"},{"type":"text","value":" ä»¥è·å–æœ‰å…³åœ¨ç­–ç•¥å›è°ƒä¸­ä½¿ç”¨ dataframe çš„æ›´å¤šä¿¡æ¯ã€‚","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"cezXC94YMT"}],"key":"Qoh8eY5r6L"},{"type":"heading","depth":3,"position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰æ­¢æŸ","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"vYDN7VOxad"}],"label":"custom-stoploss","identifier":"custom-stoploss","html_id":"custom-stoploss","key":"QPdYSeC05A"},{"type":"paragraph","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"children":[{"type":"text","value":"åœ¨æ¯æ¬¡è¿­ä»£ï¼ˆå¤§çº¦æ¯ 5 ç§’ï¼‰æ—¶å¯¹å¼€æ”¾äº¤æ˜“è°ƒç”¨ï¼Œç›´åˆ°äº¤æ˜“å…³é—­ã€‚","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"bBCx2jNtkY"}],"key":"hPhF0Vk7LQ"},{"type":"paragraph","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"å¿…é¡»é€šè¿‡åœ¨ç­–ç•¥å¯¹è±¡ä¸Šè®¾ç½® ","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"mHJIwuNBJb"},{"type":"inlineCode","value":"use_custom_stoploss=True","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"sFrEWlstM5"},{"type":"text","value":" æ¥å¯ç”¨è‡ªå®šä¹‰æ­¢æŸæ–¹æ³•ã€‚","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"Zehezq5f7y"}],"key":"fXZQIMoinm"},{"type":"paragraph","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"text","value":"æ­¢æŸä»·æ ¼åªèƒ½å‘ä¸Šç§»åŠ¨ - å¦‚æœä» ","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"Gu4AELOiFE"},{"type":"inlineCode","value":"custom_stoploss","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"ULG5sGOxbu"},{"type":"text","value":" è¿”å›çš„æ­¢æŸå€¼ä¼šå¯¼è‡´æ­¢æŸä»·æ ¼ä½äºä¹‹å‰è®¾ç½®çš„ä»·æ ¼ï¼Œåˆ™ä¼šè¢«å¿½ç•¥ã€‚ä¼ ç»Ÿçš„ ","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"qVhMXHOHs7"},{"type":"inlineCode","value":"stoploss","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"UykGTbWDdF"},{"type":"text","value":" å€¼ä½œä¸ºç»å¯¹ä¸‹é™ï¼Œå¹¶å°†ä½œä¸ºåˆå§‹æ­¢æŸï¼ˆåœ¨æ­¤æ–¹æ³•é¦–æ¬¡ä¸ºäº¤æ˜“è°ƒç”¨ä¹‹å‰ï¼‰ï¼Œå¹¶ä¸”ä»ç„¶æ˜¯å¼ºåˆ¶æ€§çš„ã€‚","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"DDvySeqoIA"}],"key":"MHJoQgekAq"},{"type":"paragraph","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"children":[{"type":"text","value":"ç”±äºè‡ªå®šä¹‰æ­¢æŸä½œä¸ºå¸¸è§„ã€å˜åŒ–çš„æ­¢æŸï¼Œå…¶è¡Œä¸ºç±»ä¼¼äº ","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"vLPDHC48aB"},{"type":"inlineCode","value":"trailing_stop","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"sitPpiKwuT"},{"type":"text","value":" - å› æ­¤ï¼Œç”±äºæ­¤åŸå› é€€å‡ºçš„äº¤æ˜“å°†å…·æœ‰ ","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"BMKUJQi2LB"},{"type":"inlineCode","value":"\"trailing_stop_loss\"","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"vI6zfvjPew"},{"type":"text","value":" çš„é€€å‡ºåŸå› ã€‚","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"hiSZ2RQCpf"}],"key":"lJruMpPQtT"},{"type":"paragraph","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"è¯¥æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªæ­¢æŸå€¼ï¼ˆæµ®ç‚¹æ•°/æ•°å­—ï¼‰ï¼Œä½œä¸ºå½“å‰ä»·æ ¼çš„ç™¾åˆ†æ¯”ã€‚","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"xpG4Mdfvf9"}],"key":"WQbx4pVQi5"},{"type":"paragraph","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"children":[{"type":"text","value":"ä¾‹å¦‚ï¼Œå¦‚æœ ","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"jxJPD4fGNJ"},{"type":"inlineCode","value":"current_rate","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"Jhd4sbDuch"},{"type":"text","value":" æ˜¯ 200 ç¾å…ƒï¼Œåˆ™è¿”å› ","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"vKzINmELiA"},{"type":"inlineCode","value":"0.02","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"QnrtYIzNhF"},{"type":"text","value":" å°†è®¾ç½®æ­¢æŸä»·æ ¼æ¯”å½“å‰ä»·æ ¼ä½ 2%ï¼Œå³ 196 ç¾å…ƒã€‚","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"cXyNqDnQhW"}],"key":"V18OVAGyqE"},{"type":"paragraph","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"children":[{"type":"text","value":"åœ¨å›æµ‹æœŸé—´ï¼Œ","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"Nb7DNRi96U"},{"type":"inlineCode","value":"current_rate","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"TXSbrXt6JL"},{"type":"text","value":"ï¼ˆå’Œ ","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"wH2Q6639O8"},{"type":"inlineCode","value":"current_profit","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"J1p9OBAwsC"},{"type":"text","value":"ï¼‰æ˜¯é’ˆå¯¹ K çº¿çš„é«˜ç‚¹ï¼ˆæˆ–ç©ºå¤´äº¤æ˜“çš„ä½ç‚¹ï¼‰æä¾›çš„ï¼Œè€Œæœ€ç»ˆçš„æ­¢æŸæ˜¯é’ˆå¯¹ K çº¿çš„ä½ç‚¹ï¼ˆæˆ–ç©ºå¤´äº¤æ˜“çš„é«˜ç‚¹ï¼‰è¿›è¡Œè¯„ä¼°çš„ã€‚","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"s9mpRBxRbN"}],"key":"j6OZIfEtET"},{"type":"paragraph","position":{"start":{"line":204,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"text","value":"è¿”å›å€¼çš„ç»å¯¹å€¼è¢«ä½¿ç”¨ï¼ˆç¬¦å·è¢«å¿½ç•¥ï¼‰ï¼Œå› æ­¤è¿”å› ","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"LMgiFokBrr"},{"type":"inlineCode","value":"0.05","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"DuHtCIPx1o"},{"type":"text","value":" æˆ– ","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"eWflWT9RiV"},{"type":"inlineCode","value":"-0.05","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"WOx3wxL6iM"},{"type":"text","value":" å…·æœ‰ç›¸åŒçš„ç»“æœï¼Œå³æ­¢æŸæ¯”å½“å‰ä»·æ ¼ä½ 5%ã€‚\nè¿”å› ","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"eRSC3JTJM9"},{"type":"inlineCode","value":"None","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"pR8R2PwkLW"},{"type":"text","value":" å°†è¢«è§£é‡Šä¸º\"ä¸å¸Œæœ›æ›´æ”¹\"ï¼Œå¹¶ä¸”æ˜¯å½“ä½ ä¸æƒ³ä¿®æ”¹æ­¢æŸæ—¶çš„å”¯ä¸€å®‰å…¨è¿”å›æ–¹å¼ã€‚\n","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"rOETk7kMt5"},{"type":"inlineCode","value":"NaN","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"RYOMMYFaf3"},{"type":"text","value":" å’Œ ","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"tN772FrXoc"},{"type":"inlineCode","value":"inf","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"bFFkHJZkPo"},{"type":"text","value":" å€¼è¢«è§†ä¸ºæ— æ•ˆï¼Œå¹¶å°†è¢«å¿½ç•¥ï¼ˆä¸ ","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"P6sIbOUIyr"},{"type":"inlineCode","value":"None","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"gVTKoqzk2M"},{"type":"text","value":" ç›¸åŒï¼‰ã€‚","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"IYBqYO8bHB"}],"key":"CnjEg9s1LP"},{"type":"paragraph","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"äº¤æ˜“æ‰€ä¸Šçš„æ­¢æŸä¸ ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"u3jDuwMg3w"},{"type":"inlineCode","value":"trailing_stop","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"IhtutrgvTk"},{"type":"text","value":" ç±»ä¼¼ï¼Œå¹¶ä¸”äº¤æ˜“æ‰€ä¸Šçš„æ­¢æŸä¼šæ ¹æ® ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"LZ4FKtxW2N"},{"type":"inlineCode","value":"stoploss_on_exchange_interval","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"as3L3jEO26"},{"type":"text","value":" è¿›è¡Œæ›´æ–°ï¼ˆ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"xWRu8wTomS"},{"type":"crossReference","url":"/stoploss","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"æœ‰å…³äº¤æ˜“æ‰€æ­¢æŸçš„æ›´å¤šè¯¦ç»†ä¿¡æ¯","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"DYPwhJtFQf"}],"urlSource":"stoploss.md#stop-loss-on-exchangefreqtrade","dataUrl":"/stoploss.json","identifier":"stop-loss-on-exchangefreqtrade","label":"stop-loss-on-exchangefreqtrade","remote":true,"protocol":"file","key":"QTNkusyOWN"},{"type":"text","value":"ï¼‰ã€‚","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"S62z5Kk2Sf"}],"key":"pQ5fwRCm3I"},{"type":"paragraph","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"å¦‚æœä½ åœ¨æœŸè´§å¸‚åœºä¸Šï¼Œè¯·æ³¨æ„ ","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"VJKONKkuki"},{"type":"crossReference","url":"/stoploss","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"æ­¢æŸå’Œæ æ†","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"vXTncLpAJ4"}],"urlSource":"stoploss.md#stoploss-and-leverage","dataUrl":"/stoploss.json","identifier":"stoploss-and-leverage","label":"stoploss-and-leverage","remote":true,"protocol":"file","key":"adSV0j3Zcn"},{"type":"text","value":" éƒ¨åˆ†ï¼Œå› ä¸ºä» ","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"rgikYBsogE"},{"type":"inlineCode","value":"custom_stoploss","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"Mlpoy6utSw"},{"type":"text","value":" è¿”å›çš„æ­¢æŸå€¼æ˜¯è¯¥äº¤æ˜“çš„é£é™©ï¼Œè€Œä¸æ˜¯ç›¸å¯¹ä»·æ ¼å˜åŠ¨ã€‚","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"OnRxp7FMbV"}],"key":"A9aL7enKtu"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"ä½¿ç”¨æ—¥æœŸ","position":{"start":{"line":212,"column":1},"end":{"line":212,"column":1}},"key":"pfCIHiQ61G"}],"key":"XqItPwos5j"},{"type":"paragraph","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"text","value":"æ‰€æœ‰åŸºäºæ—¶é—´çš„è®¡ç®—éƒ½åº”åŸºäº ","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"g610S4TXSO"},{"type":"inlineCode","value":"current_time","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"XoKEWmBtYK"},{"type":"text","value":" - ä¸é¼“åŠ±ä½¿ç”¨ ","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"XiQfvt2NAH"},{"type":"inlineCode","value":"datetime.now()","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"C7hHUQWLnn"},{"type":"text","value":" æˆ– ","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"i2nLlQjWq7"},{"type":"inlineCode","value":"datetime.utcnow()","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"LZ8OgEllmg"},{"type":"text","value":"ï¼Œå› ä¸ºè¿™ä¼šå½±å“å›æµ‹æ”¯æŒã€‚","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"sVxFsj6Kfc"}],"key":"yq7gtGYmdY"}],"key":"QLRSyrhBRI"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"è¿½è¸ªæ­¢æŸ","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"ZrCo4efMeo"}],"key":"ICO5p67nv3"},{"type":"paragraph","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"children":[{"type":"text","value":"åœ¨ä½¿ç”¨è‡ªå®šä¹‰æ­¢æŸå€¼æ—¶ï¼Œå»ºè®®ç¦ç”¨ ","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"rucxrqKnXD"},{"type":"inlineCode","value":"trailing_stop","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"zNrnfLg7nx"},{"type":"text","value":"ã€‚ä¸¤è€…å¯ä»¥ååŒå·¥ä½œï¼Œä½†ä½ å¯èƒ½ä¼šé‡åˆ°è¿½è¸ªæ­¢æŸå°†ä»·æ ¼æ¨é«˜ï¼Œè€Œä½ çš„è‡ªå®šä¹‰å‡½æ•°ä¸å¸Œæœ›è¿™ç§æƒ…å†µï¼Œå¯¼è‡´å†²çªè¡Œä¸ºã€‚","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"hYnXS5Ncxh"}],"key":"XRQqszOrNA"}],"key":"kFZOFOSoaS"},{"type":"heading","depth":4,"position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"è°ƒæ•´æ­¢æŸåè°ƒæ•´ä»“ä½","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"URYpibxJaN"}],"identifier":"id","label":"è°ƒæ•´æ­¢æŸåè°ƒæ•´ä»“ä½","html_id":"id-3","implicit":true,"key":"NneADqv2O6"},{"type":"paragraph","position":{"start":{"line":222,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"text","value":"æ ¹æ®ä½ çš„ç­–ç•¥ï¼Œä½ å¯èƒ½éœ€è¦åœ¨ ","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"opPtYkM5ug"},{"type":"crossReference","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"children":[{"type":"text","value":"ä»“ä½è°ƒæ•´","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"dPVwwGLsdZ"}],"identifier":"adjust-trade-position","label":"adjust-trade-position","kind":"heading","template":"{name}","resolved":true,"html_id":"adjust-trade-position","key":"RgtjW7sMlO"},{"type":"text","value":" åè°ƒæ•´æ­¢æŸçš„æ–¹å‘ã€‚\nä¸ºæ­¤ï¼Œfreqtrade å°†åœ¨è®¢å•æˆäº¤åé¢å¤–è°ƒç”¨ ","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"oePtF2jyci"},{"type":"inlineCode","value":"after_fill=True","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"Z4M0vGMIkA"},{"type":"text","value":"ï¼Œè¿™å°†å…è®¸ç­–ç•¥åœ¨ä»»æ„æ–¹å‘ç§»åŠ¨æ­¢æŸï¼ˆä¹Ÿå¯ä»¥æ‰©å¤§æ­¢æŸä¸å½“å‰ä»·æ ¼ä¹‹é—´çš„å·®è·ï¼Œè¿™åœ¨å…¶ä»–æƒ…å†µä¸‹æ˜¯ç¦æ­¢çš„ï¼‰ã€‚","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"XwRdkoKcSG"}],"key":"QAgFr3ICbJ"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"å‘åå…¼å®¹æ€§","position":{"start":{"line":225,"column":1},"end":{"line":225,"column":1}},"key":"wLnxnJ9LiL"}],"key":"mPyH23D52L"},{"type":"paragraph","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"children":[{"type":"text","value":"åªæœ‰åœ¨ä½ çš„ ","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"vJgbaRxg37"},{"type":"inlineCode","value":"custom_stoploss","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"A1eNeAl4DZ"},{"type":"text","value":" å‡½æ•°å®šä¹‰ä¸­åŒ…å« ","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"AA8SXb4EMA"},{"type":"inlineCode","value":"after_fill","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"JZLKd41b7l"},{"type":"text","value":" å‚æ•°æ—¶ï¼Œæ‰ä¼šè¿›è¡Œæ­¤è°ƒç”¨ã€‚","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"prKV0HtRc9"}],"key":"fZtOvkT0yt"},{"type":"paragraph","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"children":[{"type":"text","value":"å› æ­¤ï¼Œè¿™ä¸ä¼šå½±å“ï¼ˆä¹Ÿä¸ä¼šè®©ç°æœ‰è¿è¡Œçš„ç­–ç•¥æ„Ÿåˆ°æ„å¤–ï¼‰ã€‚","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"K3LmWHtL1B"}],"key":"VLBf6ji6kn"}],"key":"jNw04ivIRs"},{"type":"heading","depth":4,"position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰æ­¢æŸç¤ºä¾‹","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"IN59vvaNNq"}],"identifier":"id","label":"è‡ªå®šä¹‰æ­¢æŸç¤ºä¾‹","html_id":"id-4","implicit":true,"key":"VlnbzUia7T"},{"type":"paragraph","position":{"start":{"line":233,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"text","value":"ä¸‹ä¸€èŠ‚å°†å±•ç¤ºä¸€äº›ä½¿ç”¨è‡ªå®šä¹‰æ­¢æŸå‡½æ•°çš„ç¤ºä¾‹ã€‚\nå½“ç„¶ï¼Œè¿˜æœ‰æ›´å¤šå¯èƒ½æ€§ï¼Œæ‰€æœ‰ç¤ºä¾‹éƒ½å¯ä»¥éšæ„ç»„åˆã€‚","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"HSJYsbJZr6"}],"key":"v3JaqphboV"},{"type":"heading","depth":5,"position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"children":[{"type":"text","value":"é€šè¿‡è‡ªå®šä¹‰æ­¢æŸå®ç°è¿½è¸ªæ­¢æŸ","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"hLz6vW5GUE"}],"identifier":"id","label":"é€šè¿‡è‡ªå®šä¹‰æ­¢æŸå®ç°è¿½è¸ªæ­¢æŸ","html_id":"id-5","implicit":true,"key":"QHmXnP8NOn"},{"type":"paragraph","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"text","value":"è¦æ¨¡æ‹Ÿ 4% çš„å¸¸è§„è¿½è¸ªæ­¢æŸï¼ˆåœ¨è¾¾åˆ°çš„æœ€é«˜ä»·æ ¼åè¿½è¸ª 4%ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹éå¸¸ç®€å•çš„æ–¹æ³•ï¼š","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"iCNeq6vQX5"}],"key":"xV65yk8f0j"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* æ–¹æ³•\n\n    use_custom_stoploss = True\n\n    def custom_stoploss(self, pair: str, trade: Trade, current_time: datetime,\n                        current_rate: float, current_profit: float, after_fill: bool, \n                        **kwargs) -> float | None:\n        \"\"\"\n        è‡ªå®šä¹‰æ­¢æŸé€»è¾‘ï¼Œè¿”å›ç›¸å¯¹äº current_rate çš„æ–°è·ç¦»ï¼ˆä½œä¸ºæ¯”ç‡ï¼‰ã€‚\n        ä¾‹å¦‚ï¼Œè¿”å› -0.05 å°†åˆ›å»ºä¸€ä¸ªæ¯” current_rate ä½ 5% çš„æ­¢æŸã€‚\n        è‡ªå®šä¹‰æ­¢æŸç»ä¸èƒ½ä½äº self.stoplossï¼Œåè€…ä½œä¸ºç¡¬æ€§æœ€å¤§æŸå¤±ã€‚\n\n        å®Œæ•´æ–‡æ¡£è¯·è®¿é—® https://www.freqtrade.io/en/latest/strategy-advanced/\n\n        å¦‚æœç­–ç•¥æœªå®ç°ï¼Œåˆ™è¿”å›åˆå§‹æ­¢æŸå€¼ã€‚\n        ä»…åœ¨ use_custom_stoploss è®¾ç½®ä¸º True æ—¶è°ƒç”¨ã€‚\n\n        :param pair: å½“å‰åˆ†æçš„äº¤æ˜“å¯¹\n        :param trade: äº¤æ˜“å¯¹è±¡ã€‚\n        :param current_time: å½“å‰æ—¶é—´çš„ datetime å¯¹è±¡\n        :param current_rate: åŸºäº exit_pricing ä¸­çš„å®šä»·è®¾ç½®è®¡ç®—çš„æ¯”ç‡ã€‚\n        :param current_profit: å½“å‰åˆ©æ¶¦ï¼ˆä½œä¸ºæ¯”ç‡ï¼‰ï¼ŒåŸºäº current_rate è®¡ç®—ã€‚\n        :param after_fill: å¦‚æœæ­¢æŸåœ¨è®¢å•æˆäº¤åè°ƒç”¨ï¼Œåˆ™ä¸º Trueã€‚\n        :param **kwargs: ä¿æŒæ­¤å‚æ•°ï¼Œä»¥å…æœªæ¥æ›´æ–°ç ´åä½ çš„ç­–ç•¥ã€‚\n        :return float: ç›¸å¯¹äº current_rate çš„æ–°æ­¢æŸå€¼\n        \"\"\"\n        return -0.04 * trade.leverage","position":{"start":{"line":240,"column":1},"end":{"line":272,"column":1}},"key":"DNTflYbQvQ"},{"type":"heading","depth":5,"position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"children":[{"type":"text","value":"åŸºäºæ—¶é—´çš„è¿½è¸ªæ­¢æŸ","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"key":"FVPv3hCtEQ"}],"identifier":"id","label":"åŸºäºæ—¶é—´çš„è¿½è¸ªæ­¢æŸ","html_id":"id-6","implicit":true,"key":"eqQrJQA2q3"},{"type":"paragraph","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"children":[{"type":"text","value":"åœ¨å‰ 60 åˆ†é’Ÿå†…ä½¿ç”¨åˆå§‹æ­¢æŸï¼Œä¹‹åæ›´æ”¹ä¸º 10% çš„è¿½è¸ªæ­¢æŸï¼Œå¹¶åœ¨ 2 å°æ—¶ï¼ˆ120 åˆ†é’Ÿï¼‰åä½¿ç”¨ 5% çš„è¿½è¸ªæ­¢æŸã€‚","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"key":"GZoxMJWhhB"}],"key":"UeV9qC91Gz"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* æ–¹æ³•\n\n    use_custom_stoploss = True\n\n    def custom_stoploss(self, pair: str, trade: Trade, current_time: datetime,\n                        current_rate: float, current_profit: float, after_fill: bool, \n                        **kwargs) -> float | None:\n\n        # ç¡®ä¿æœ€é•¿çš„é—´éš”åœ¨å‰ - è¿™äº›æ¡ä»¶ä»ä¸Šåˆ°ä¸‹è¯„ä¼°ã€‚\n        if current_time - timedelta(minutes=120) > trade.open_date_utc:\n            return -0.05 * trade.leverage\n        elif current_time - timedelta(minutes=60) > trade.open_date_utc:\n            return -0.10 * trade.leverage\n        return None","position":{"start":{"line":278,"column":1},"end":{"line":297,"column":1}},"key":"T6hZBFZmat"},{"type":"heading","depth":5,"position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"children":[{"type":"text","value":"åŸºäºæ—¶é—´çš„è¿½è¸ªæ­¢æŸï¼Œå¸¦æœ‰æˆäº¤åè°ƒæ•´","position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"key":"YtWjU3nM7V"}],"identifier":"id","label":"åŸºäºæ—¶é—´çš„è¿½è¸ªæ­¢æŸï¼Œå¸¦æœ‰æˆäº¤åè°ƒæ•´","html_id":"id-7","implicit":true,"key":"z5cddwxyiF"},{"type":"paragraph","position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"text","value":"åœ¨å‰ 60 åˆ†é’Ÿå†…ä½¿ç”¨åˆå§‹æ­¢æŸï¼Œä¹‹åæ›´æ”¹ä¸º 10% çš„è¿½è¸ªæ­¢æŸï¼Œå¹¶åœ¨ 2 å°æ—¶ï¼ˆ120 åˆ†é’Ÿï¼‰åä½¿ç”¨ 5% çš„è¿½è¸ªæ­¢æŸã€‚\nå¦‚æœé¢å¤–è®¢å•æˆäº¤ï¼Œå°†æ­¢æŸè®¾ç½®ä¸ºæ–° ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"em1Q6L1IHI"},{"type":"inlineCode","value":"open_rate","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"tgqJVjvcQv"},{"type":"text","value":" ä¸‹æ–¹ 10%ï¼ˆ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"avAC89vaYP"},{"type":"link","url":"#position-adjust-calculations","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"children":[{"type":"text","value":"æ‰€æœ‰å…¥åœºçš„å¹³å‡å€¼","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"LFnGriQmLE"}],"urlSource":"#position-adjust-calculations","key":"goX49cRvEs"},{"type":"text","value":"ï¼‰ã€‚","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"dH2mj7TGJA"}],"key":"rBMclkCSlX"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* æ–¹æ³•\n\n    use_custom_stoploss = True\n\n    def custom_stoploss(self, pair: str, trade: Trade, current_time: datetime,\n                        current_rate: float, current_profit: float, after_fill: bool, \n                        **kwargs) -> float | None:\n\n        if after_fill: \n            # åœ¨é¢å¤–è®¢å•åï¼Œä»æ–°å¼€ä»“ç‡ä¸‹æ–¹ 10% çš„æ­¢æŸå¼€å§‹\n            return stoploss_from_open(0.10, current_profit, is_short=trade.is_short, leverage=trade.leverage)\n        # ç¡®ä¿æœ€é•¿çš„é—´éš”åœ¨å‰ - è¿™äº›æ¡ä»¶ä»ä¸Šåˆ°ä¸‹è¯„ä¼°ã€‚\n        if current_time - timedelta(minutes=120) > trade.open_date_utc:\n            return -0.05 * trade.leverage\n        elif current_time - timedelta(minutes=60) > trade.open_date_utc:\n            return -0.10 * trade.leverage\n        return None","position":{"start":{"line":304,"column":1},"end":{"line":326,"column":1}},"key":"fdr9M7LW8n"},{"type":"heading","depth":5,"position":{"start":{"line":328,"column":1},"end":{"line":328,"column":1}},"children":[{"type":"text","value":"æ¯ä¸ªäº¤æ˜“å¯¹ä¸åŒçš„æ­¢æŸ","position":{"start":{"line":328,"column":1},"end":{"line":328,"column":1}},"key":"zkfUVDHlUD"}],"identifier":"id","label":"æ¯ä¸ªäº¤æ˜“å¯¹ä¸åŒçš„æ­¢æŸ","html_id":"id-8","implicit":true,"key":"GIsiQSkd51"},{"type":"paragraph","position":{"start":{"line":330,"column":1},"end":{"line":330,"column":1}},"children":[{"type":"text","value":"æ ¹æ®äº¤æ˜“å¯¹ä½¿ç”¨ä¸åŒçš„æ­¢æŸã€‚","position":{"start":{"line":330,"column":1},"end":{"line":330,"column":1}},"key":"aqcrk7886e"}],"key":"oAuytQFM3R"},{"type":"paragraph","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"children":[{"type":"text","value":"åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¸º ","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"HIAXjucRb6"},{"type":"inlineCode","value":"ETH/BTC","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"tpzfWTPWQ8"},{"type":"text","value":" å’Œ ","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"PKXR4HFzGh"},{"type":"inlineCode","value":"XRP/BTC","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"br9VFqzciR"},{"type":"text","value":" ä½¿ç”¨ 10% çš„è¿½è¸ªæ­¢æŸï¼Œä¸º ","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"qrcZpcLEin"},{"type":"inlineCode","value":"LTC/BTC","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"NiiqXpVAEQ"},{"type":"text","value":" ä½¿ç”¨ 5% çš„è¿½è¸ªæ­¢æŸï¼Œå¹¶ä¸ºæ‰€æœ‰å…¶ä»–äº¤æ˜“å¯¹ä½¿ç”¨ 15% çš„è¿½è¸ªæ­¢æŸã€‚","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"q3LICYbtxC"}],"key":"wb4hizB5L5"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* æ–¹æ³•\n\n    use_custom_stoploss = True\n\n    def custom_stoploss(self, pair: str, trade: Trade, current_time: datetime,\n                        current_rate: float, current_profit: float, after_fill: bool,\n                        **kwargs) -> float | None:\n\n        if pair in (\"ETH/BTC\", \"XRP/BTC\"):\n            return -0.10 * trade.leverage\n        elif pair in (\"LTC/BTC\"):\n            return -0.05 * trade.leverage\n        return -0.15 * trade.leverage","position":{"start":{"line":334,"column":1},"end":{"line":352,"column":1}},"key":"bWZ2TQ4aFx"},{"type":"heading","depth":5,"position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"å¸¦æ­£åç§»çš„è¿½è¸ªæ­¢æŸ","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"GdX6o8djqa"}],"identifier":"id","label":"å¸¦æ­£åç§»çš„è¿½è¸ªæ­¢æŸ","html_id":"id-9","implicit":true,"key":"uvYLX3Xu6u"},{"type":"paragraph","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"children":[{"type":"text","value":"åœ¨åˆ©æ¶¦è¶…è¿‡ 4% ä¹‹å‰ä½¿ç”¨åˆå§‹æ­¢æŸï¼Œç„¶åä½¿ç”¨å½“å‰åˆ©æ¶¦çš„ 50% ä½œä¸ºè¿½è¸ªæ­¢æŸï¼Œæœ€å°ä¸º 2.5%ï¼Œæœ€å¤§ä¸º 5%ã€‚","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"key":"Iey87zYrqh"}],"key":"wXPRGHO85I"},{"type":"paragraph","position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"children":[{"type":"text","value":"è¯·æ³¨æ„ï¼Œæ­¢æŸåªèƒ½å¢åŠ ï¼Œä½äºå½“å‰æ­¢æŸçš„å€¼å°†è¢«å¿½ç•¥ã€‚","position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"key":"oY1QO4pzrK"}],"key":"PZx9424Soh"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* æ–¹æ³•\n\n    use_custom_stoploss = True\n\n    def custom_stoploss(self, pair: str, trade: Trade, current_time: datetime,\n                        current_rate: float, current_profit: float, after_fill: bool,\n                        **kwargs) -> float | None:\n\n        if current_profit < 0.04:\n            return None # è¿”å› None ä»¥ç»§ç»­ä½¿ç”¨åˆå§‹æ­¢æŸ\n\n        # è¾¾åˆ°æ‰€éœ€åç§»åï¼Œå…è®¸æ­¢æŸè¿½è¸ªä¸€åŠçš„åˆ©æ¶¦\n        desired_stoploss = current_profit / 2\n\n        # ä½¿ç”¨æœ€å° 2.5% å’Œæœ€å¤§ 5%\n        return max(min(desired_stoploss, 0.05), 0.025) * trade.leverage","position":{"start":{"line":360,"column":1},"end":{"line":381,"column":1}},"key":"SPjNhlqb9M"},{"type":"heading","depth":5,"position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"children":[{"type":"text","value":"é˜¶æ¢¯å¼æ­¢æŸ","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"key":"GjFX9jQZWb"}],"identifier":"id","label":"é˜¶æ¢¯å¼æ­¢æŸ","html_id":"id-10","implicit":true,"key":"FwJ9R24R7b"},{"type":"paragraph","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"children":[{"type":"text","value":"æ­¤ç¤ºä¾‹ä¸æ˜¯è¿ç»­è¿½è¸ªå½“å‰ä»·æ ¼ï¼Œè€Œæ˜¯æ ¹æ®å½“å‰åˆ©æ¶¦è®¾ç½®å›ºå®šçš„æ­¢æŸä»·æ ¼æ°´å¹³ã€‚","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"gold4S8flO"}],"key":"QOlQ73ewEI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":387,"column":1},"end":{"line":391,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"children":[{"type":"text","value":"åœ¨è¾¾åˆ° 20% åˆ©æ¶¦ä¹‹å‰ä½¿ç”¨å¸¸è§„æ­¢æŸ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"w0oicoUN0R"}],"key":"tw2ZWYBozS"},{"type":"listItem","spread":true,"position":{"start":{"line":388,"column":1},"end":{"line":388,"column":1}},"children":[{"type":"text","value":"ä¸€æ—¦åˆ©æ¶¦ > 20% - å°†æ­¢æŸè®¾ç½®ä¸ºå¼€ä»“ä»·æ ¼ä¸Šæ–¹ 7%ã€‚","position":{"start":{"line":388,"column":1},"end":{"line":388,"column":1}},"key":"Cz0ISWKKS7"}],"key":"RqjnqQsIr1"},{"type":"listItem","spread":true,"position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"children":[{"type":"text","value":"ä¸€æ—¦åˆ©æ¶¦ > 25% - å°†æ­¢æŸè®¾ç½®ä¸ºå¼€ä»“ä»·æ ¼ä¸Šæ–¹ 15%ã€‚","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"wl7zycmuI3"}],"key":"uor8uTHLuM"},{"type":"listItem","spread":true,"position":{"start":{"line":390,"column":1},"end":{"line":391,"column":1}},"children":[{"type":"text","value":"ä¸€æ—¦åˆ©æ¶¦ > 40% - å°†æ­¢æŸè®¾ç½®ä¸ºå¼€ä»“ä»·æ ¼ä¸Šæ–¹ 25%ã€‚","position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"key":"e1pd3blIVw"}],"key":"VM2Ad89bpc"}],"key":"lgsxXkYeR7"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* methods\n\n    use_custom_stoploss = True\n\n    def custom_stoploss(self, pair: str, trade: Trade, current_time: datetime,\n                        current_rate: float, current_profit: float, after_fill: bool,\n                        **kwargs) -> float | None:\n\n        # evaluate highest to lowest, so that highest possible stop is used\n        if current_profit > 0.40:\n            return stoploss_from_open(0.25, current_profit, is_short=trade.is_short, leverage=trade.leverage)\n        elif current_profit > 0.25:\n            return stoploss_from_open(0.15, current_profit, is_short=trade.is_short, leverage=trade.leverage)\n        elif current_profit > 0.20:\n            return stoploss_from_open(0.07, current_profit, is_short=trade.is_short, leverage=trade.leverage)\n\n        # return maximum stoploss value, keeping current stoploss price unchanged\n        return None","position":{"start":{"line":392,"column":1},"end":{"line":415,"column":1}},"key":"IFruTkxSPP"},{"type":"heading","depth":5,"position":{"start":{"line":417,"column":1},"end":{"line":417,"column":1}},"children":[{"type":"text","value":"ä½¿ç”¨æ•°æ®æ¡†æ¶ä¸­çš„æŒ‡æ ‡å®ç°è‡ªå®šä¹‰æ­¢æŸç¤ºä¾‹","position":{"start":{"line":417,"column":1},"end":{"line":417,"column":1}},"key":"NT9H7VuB3V"}],"identifier":"id","label":"ä½¿ç”¨æ•°æ®æ¡†æ¶ä¸­çš„æŒ‡æ ‡å®ç°è‡ªå®šä¹‰æ­¢æŸç¤ºä¾‹","html_id":"id-11","implicit":true,"key":"HEIPJiGGm1"},{"type":"paragraph","position":{"start":{"line":419,"column":1},"end":{"line":419,"column":1}},"children":[{"type":"text","value":"ç»å¯¹æ­¢æŸå€¼å¯ä»¥ä»å­˜å‚¨åœ¨æ•°æ®æ¡†æ¶ä¸­çš„æŒ‡æ ‡æ´¾ç”Ÿã€‚æ­¤ç¤ºä¾‹ä½¿ç”¨ä»·æ ¼ä¸‹æ–¹çš„æŠ›ç‰©çº¿ SAR ä½œä¸ºæ­¢æŸã€‚","position":{"start":{"line":419,"column":1},"end":{"line":419,"column":1}},"key":"oTB6572z3G"}],"key":"aeU6jqIjyS"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    def populate_indicators(self, dataframe: DataFrame, metadata: dict) -> DataFrame:\n        # <...>\n        dataframe[\"sar\"] = ta.SAR(dataframe)\n\n    use_custom_stoploss = True\n\n    def custom_stoploss(self, pair: str, trade: Trade, current_time: datetime,\n                        current_rate: float, current_profit: float, after_fill: bool,\n                        **kwargs) -> float | None:\n\n        dataframe, _ = self.dp.get_analyzed_dataframe(pair, self.timeframe)\n        last_candle = dataframe.iloc[-1].squeeze()\n\n        # Use parabolic sar as absolute stoploss price\n        stoploss_price = last_candle[\"sar\"]\n\n        # Convert absolute price to percentage relative to current_rate\n        if stoploss_price < current_rate:\n            return stoploss_from_absolute(stoploss_price, current_rate, is_short=trade.is_short)\n\n        # return maximum stoploss value, keeping current stoploss price unchanged\n        return None","position":{"start":{"line":421,"column":1},"end":{"line":448,"column":1}},"key":"LsgQDQ8GTO"},{"type":"paragraph","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"children":[{"type":"text","value":"æœ‰å…³åœ¨ç­–ç•¥å›è°ƒä¸­ä½¿ç”¨æ•°æ®æ¡†æ¶çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"PpgaTpNvTI"},{"type":"crossReference","url":"/strategy-advanced","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"children":[{"type":"text","value":"æ•°æ®æ¡†æ¶è®¿é—®","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"hs7JcKeE62"}],"urlSource":"strategy-advanced.md#dataframe-access","dataUrl":"/strategy-advanced.json","identifier":"dataframe-access","label":"dataframe-access","remote":true,"protocol":"file","key":"YnAYW6dZpM"},{"type":"text","value":"ã€‚","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"SLaZEEvoPr"}],"key":"n2vet3zjEv"},{"type":"heading","depth":4,"position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"children":[{"type":"text","value":"æ­¢æŸè®¡ç®—çš„å¸¸ç”¨è¾…åŠ©å‡½æ•°","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"JyuekANXSq"}],"identifier":"id","label":"æ­¢æŸè®¡ç®—çš„å¸¸ç”¨è¾…åŠ©å‡½æ•°","html_id":"id-12","implicit":true,"key":"dvqc1obxYJ"},{"type":"heading","depth":5,"position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"children":[{"type":"text","value":"ç›¸å¯¹äºå¼€ä»“ä»·æ ¼çš„æ­¢æŸ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"x5ZZ5AnkxG"}],"identifier":"id","label":"ç›¸å¯¹äºå¼€ä»“ä»·æ ¼çš„æ­¢æŸ","html_id":"id-13","implicit":true,"key":"u6VFGCbTzf"},{"type":"paragraph","position":{"start":{"line":456,"column":1},"end":{"line":457,"column":1}},"children":[{"type":"text","value":"ä» ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"fefRwjqRQy"},{"type":"inlineCode","value":"custom_stoploss()","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"AYVBiNTFRD"},{"type":"text","value":" è¿”å›çš„æ­¢æŸå€¼å¿…é¡»æŒ‡å®šç›¸å¯¹äº ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"hAYwI6V8V7"},{"type":"inlineCode","value":"current_rate","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"fyJgtmAoIl"},{"type":"text","value":" çš„ç™¾åˆ†æ¯”ï¼Œä½†æœ‰æ—¶ä½ å¯èƒ½æƒ³è¦æŒ‡å®šç›¸å¯¹äº_å¼€ä»“_ä»·æ ¼çš„æ­¢æŸã€‚\n","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"vPtYKHaIFI"},{"type":"inlineCode","value":"stoploss_from_open()","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"JhdoXhQnqj"},{"type":"text","value":" æ˜¯ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œç”¨äºè®¡ç®—å¯ä»¥ä» ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"uBs15gimv3"},{"type":"inlineCode","value":"custom_stoploss","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"htD0rfOrWr"},{"type":"text","value":" è¿”å›çš„æ­¢æŸå€¼ï¼Œè¯¥å€¼å°†ç­‰åŒäºå¼€ä»“ç‚¹ä¸Šæ–¹æ‰€éœ€çš„äº¤æ˜“åˆ©æ¶¦ã€‚","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"W2RB3EpKEq"}],"key":"yRpTcgpJiy"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"ä»è‡ªå®šä¹‰æ­¢æŸå‡½æ•°è¿”å›ç›¸å¯¹äºå¼€ä»“ä»·æ ¼çš„æ­¢æŸ","position":{"start":{"line":459,"column":1},"end":{"line":459,"column":1}},"key":"QZFqBqGgZN"}],"key":"r6z4Vfa4sh"},{"type":"paragraph","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"å‡è®¾å¼€ä»“ä»·æ ¼ä¸º $100ï¼Œ","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"nmjPsH1Wfz"},{"type":"inlineCode","value":"current_price","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"mQDZfqzPcI"},{"type":"text","value":" ä¸º $121ï¼ˆ","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"KGSAJojfUF"},{"type":"inlineCode","value":"current_profit","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"VVoqpoVaMG"},{"type":"text","value":" å°†ä¸º ","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"aAilZOZrZx"},{"type":"inlineCode","value":"0.21","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"humvk4Kqo1"},{"type":"text","value":"ï¼‰ã€‚","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"tIGyJye1b5"}],"key":"j0oSuG7R8J"},{"type":"paragraph","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"children":[{"type":"text","value":"å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨å¼€ä»“ä»·æ ¼ä¸Šæ–¹ 7% è®¾ç½®æ­¢æŸä»·æ ¼ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ ","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"K4SPbGECiT"},{"type":"inlineCode","value":"stoploss_from_open(0.07, current_profit, False)","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"SL1SEHDfX8"},{"type":"text","value":"ï¼Œå®ƒå°†è¿”å› ","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"kHGwtX3yYn"},{"type":"inlineCode","value":"0.1157024793","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"pgduKb1sTw"},{"type":"text","value":"ã€‚$121 ä¸‹æ–¹ 11.57% æ˜¯ $107ï¼Œè¿™ä¸ $100 ä¸Šæ–¹ 7% ç›¸åŒã€‚","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"prcmJHnJ8F"}],"key":"PrRGH8568t"},{"type":"paragraph","position":{"start":{"line":465,"column":1},"end":{"line":465,"column":1}},"children":[{"type":"text","value":"æ­¤å‡½æ•°ä¼šè€ƒè™‘æ æ† - æ‰€ä»¥åœ¨ 10 å€æ æ†ä¸‹ï¼Œå®é™…æ­¢æŸå°†æ˜¯ $100 ä¸Šæ–¹ 0.7%ï¼ˆ0.7% * 10x = 7%ï¼‰ã€‚","position":{"start":{"line":465,"column":1},"end":{"line":465,"column":1}},"key":"oXuenxzP2i"}],"key":"VNtyllwF2h"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* methods\n\n    use_custom_stoploss = True\n\n    def custom_stoploss(self, pair: str, trade: Trade, current_time: datetime,\n                        current_rate: float, current_profit: float, after_fill: bool,\n                        **kwargs) -> float | None:\n\n        # once the profit has risen above 10%, keep the stoploss at 7% above the open price\n        if current_profit > 0.10:\n            return stoploss_from_open(0.07, current_profit, is_short=trade.is_short, leverage=trade.leverage)\n\n        return 1\n","position":{"start":{"line":467,"column":1},"end":{"line":486,"column":1}},"key":"zNbcq4869s"},{"type":"paragraph","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"children":[{"type":"text","value":"å®Œæ•´ç¤ºä¾‹å¯ä»¥åœ¨æ–‡æ¡£çš„","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"bwkpfMK5FV"},{"type":"crossReference","url":"/strategy-callbacks","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰æ­¢æŸ","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"UzVA4mmxQO"}],"urlSource":"strategy-callbacks.md#custom-stoploss","dataUrl":"/strategy-callbacks.json","identifier":"custom-stoploss","label":"custom-stoploss","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"custom-stoploss","key":"pAW0Gfgrip"},{"type":"text","value":"éƒ¨åˆ†æ‰¾åˆ°ã€‚","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"yQS0FV6u2E"}],"key":"xfH3ZQPvtN"}],"key":"wJwvPNMuHH"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"jEV1jfQydg"}],"key":"I22c6OU5BU"},{"type":"paragraph","position":{"start":{"line":492,"column":1},"end":{"line":493,"column":1}},"children":[{"type":"text","value":"å‘ ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"KoSvpuurSt"},{"type":"inlineCode","value":"stoploss_from_open()","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"TOFF4OZNs2"},{"type":"text","value":" æä¾›æ— æ•ˆè¾“å…¥å¯èƒ½ä¼šäº§ç”Ÿ\"CustomStoploss å‡½æ•°æœªè¿”å›æœ‰æ•ˆæ­¢æŸ\"è­¦å‘Šã€‚\nå¦‚æœ ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"mgF3ZVD7lY"},{"type":"inlineCode","value":"current_profit","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"phzNr3xKUI"},{"type":"text","value":" å‚æ•°ä½äºæŒ‡å®šçš„ ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"vfHYibDy5a"},{"type":"inlineCode","value":"open_relative_stop","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"ThPn38FTEl"},{"type":"text","value":"ï¼Œè¿™ç§æƒ…å†µå¯èƒ½ä¼šå‘ç”Ÿã€‚å½“äº¤æ˜“å…³é—­è¢« ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"TPLdzsWIZI"},{"type":"inlineCode","value":"confirm_trade_exit()","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"ERzWloWdwM"},{"type":"text","value":" æ–¹æ³•é˜»æ­¢æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚å¯ä»¥é€šè¿‡åœ¨ ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"ePNzSr0k1S"},{"type":"inlineCode","value":"confirm_trade_exit()","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"qFOxNGVliB"},{"type":"text","value":" ä¸­æ£€æŸ¥ ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"yywPjkNxuk"},{"type":"inlineCode","value":"exit_reason","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"IuRWGSlT7E"},{"type":"text","value":" æ¥æ°¸ä¸é˜»æ­¢æ­¢æŸå–å‡ºï¼Œæˆ–è€…ä½¿ç”¨ ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"Jwb5g9VuPZ"},{"type":"inlineCode","value":"return stoploss_from_open(...) or 1","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"kDSzSfI05i"},{"type":"text","value":" æƒ¯ç”¨æ³•æ¥è§£å†³è­¦å‘Šï¼Œè¿™å°†åœ¨ ","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"zLQ3HqWYrx"},{"type":"inlineCode","value":"current_profit < open_relative_stop","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"HVr1G4k0GM"},{"type":"text","value":" æ—¶è¯·æ±‚ä¸æ›´æ”¹æ­¢æŸã€‚","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"AeRKKyBVwU"}],"key":"ESuWg6DGAh"}],"key":"s55kTQECf1"},{"type":"heading","depth":5,"position":{"start":{"line":496,"column":1},"end":{"line":496,"column":1}},"children":[{"type":"text","value":"ä»ç»å¯¹ä»·æ ¼è®¡ç®—æ­¢æŸç™¾åˆ†æ¯”","position":{"start":{"line":496,"column":1},"end":{"line":496,"column":1}},"key":"gIiTx4ngKZ"}],"identifier":"id","label":"ä»ç»å¯¹ä»·æ ¼è®¡ç®—æ­¢æŸç™¾åˆ†æ¯”","html_id":"id-14","implicit":true,"key":"REN1E6wLbw"},{"type":"paragraph","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"children":[{"type":"text","value":"ä» ","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"gcRgPilytZ"},{"type":"inlineCode","value":"custom_stoploss()","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"LavUpNNR5b"},{"type":"text","value":" è¿”å›çš„æ­¢æŸå€¼å§‹ç»ˆæŒ‡å®šç›¸å¯¹äº ","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"wUuVYnQEpo"},{"type":"inlineCode","value":"current_rate","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"n8IkL4anPx"},{"type":"text","value":" çš„ç™¾åˆ†æ¯”ã€‚ä¸ºäº†åœ¨æŒ‡å®šçš„ç»å¯¹ä»·æ ¼æ°´å¹³è®¾ç½®æ­¢æŸï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ ","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"QNtgd9vtx4"},{"type":"inlineCode","value":"stop_rate","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"KJCJph2AF2"},{"type":"text","value":" æ¥è®¡ç®—ç›¸å¯¹äº ","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"MPR9sMWY2o"},{"type":"inlineCode","value":"current_rate","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"I33HJmH1Cb"},{"type":"text","value":" çš„ç™¾åˆ†æ¯”ï¼Œè¿™å°†ç»™å‡ºä¸ä»å¼€ä»“ä»·æ ¼æŒ‡å®šç™¾åˆ†æ¯”ç›¸åŒçš„ç»“æœã€‚","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"dWMUP9VEqW"}],"key":"xm5VaXCHHf"},{"type":"paragraph","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"children":[{"type":"text","value":"è¾…åŠ©å‡½æ•° ","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"jbRrztKZ7z"},{"type":"inlineCode","value":"stoploss_from_absolute()","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"o1t0JOYeXx"},{"type":"text","value":" å¯ç”¨äºå°†ç»å¯¹ä»·æ ¼è½¬æ¢ä¸ºå¯ä»¥ä» ","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"yD5DjgLI89"},{"type":"inlineCode","value":"custom_stoploss()","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"puPkmzCIsC"},{"type":"text","value":" è¿”å›çš„å½“å‰ä»·æ ¼ç›¸å¯¹æ­¢æŸã€‚","position":{"start":{"line":500,"column":1},"end":{"line":500,"column":1}},"key":"pZAnt4Lv5A"}],"key":"MuR5Pud5tr"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"ä»è‡ªå®šä¹‰æ­¢æŸå‡½æ•°è¿”å›ä½¿ç”¨ç»å¯¹ä»·æ ¼çš„æ­¢æŸ","position":{"start":{"line":502,"column":1},"end":{"line":502,"column":1}},"key":"Vz8ilZjeRQ"}],"key":"qbueqvMIdu"},{"type":"paragraph","position":{"start":{"line":504,"column":1},"end":{"line":505,"column":1}},"children":[{"type":"text","value":"å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨å½“å‰ä»·æ ¼ä¸‹æ–¹ 2xATR è¿½è¸ªæ­¢æŸä»·æ ¼ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ ","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"Gzue3s9idI"},{"type":"inlineCode","value":"stoploss_from_absolute(current_rate + (side * candle[\"atr\"] * 2), current_rate=current_rate, is_short=trade.is_short, leverage=trade.leverage)","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"RSBQnRbXif"},{"type":"text","value":"ã€‚\nå¯¹äºæœŸè´§ï¼Œæˆ‘ä»¬éœ€è¦è°ƒæ•´æ–¹å‘ï¼ˆå‘ä¸Šæˆ–å‘ä¸‹ï¼‰ä»¥åŠè°ƒæ•´æ æ†ï¼Œå› ä¸º ","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"evSWIny4w4"},{"type":"crossReference","url":"/strategy-callbacks","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"children":[{"type":"inlineCode","value":"custom_stoploss","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"v3PGUpOT7c"}],"urlSource":"strategy-callbacks.md#custom-stoploss","dataUrl":"/strategy-callbacks.json","identifier":"custom-stoploss","label":"custom-stoploss","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"custom-stoploss","key":"dHFUZ514cl"},{"type":"text","value":" å›è°ƒè¿”å›çš„æ˜¯","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"LbetXWnYcR"},{"type":"crossReference","url":"/stoploss","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"children":[{"type":"text","value":"\"æ­¤äº¤æ˜“çš„é£é™©\"","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"MdDMpPHqtr"}],"urlSource":"stoploss.md#stoploss-and-leverage","dataUrl":"/stoploss.json","identifier":"stoploss-and-leverage","label":"stoploss-and-leverage","remote":true,"protocol":"file","key":"cfGBEd8qYD"},{"type":"text","value":" - è€Œä¸æ˜¯ç›¸å¯¹ä»·æ ¼å˜åŠ¨ã€‚","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"TmUXWekVYV"}],"key":"K9MzguhiHu"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    use_custom_stoploss = True\n\n    def populate_indicators(self, dataframe: DataFrame, metadata: dict) -> DataFrame:\n        dataframe[\"atr\"] = ta.ATR(dataframe, timeperiod=14)\n        return dataframe\n\n    def custom_stoploss(self, pair: str, trade: Trade, current_time: datetime,\n                        current_rate: float, current_profit: float, after_fill: bool,\n                        **kwargs) -> float | None:\n        dataframe, _ = self.dp.get_analyzed_dataframe(pair, self.timeframe)\n        trade_date = timeframe_to_prev_date(self.timeframe, trade.open_date_utc)\n        candle = dataframe.iloc[-1].squeeze()\n        side = 1 if trade.is_short else -1\n        return stoploss_from_absolute(current_rate + (side * candle[\"atr\"] * 2), \n                                        current_rate=current_rate, \n                                        is_short=trade.is_short,\n                                        leverage=trade.leverage)\n","position":{"start":{"line":507,"column":1},"end":{"line":530,"column":1}},"key":"uPAkm9eah6"}],"key":"okiRHFwGT1"},{"type":"thematicBreak","position":{"start":{"line":534,"column":1},"end":{"line":534,"column":1}},"key":"qIhwpRBzLN"},{"type":"heading","depth":3,"position":{"start":{"line":536,"column":1},"end":{"line":536,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰ ROI","position":{"start":{"line":536,"column":1},"end":{"line":536,"column":1}},"key":"fSbtWfOVW0"}],"identifier":"id-roi","label":"è‡ªå®šä¹‰ ROI","html_id":"id-roi","implicit":true,"key":"OwQDT52WYY"},{"type":"paragraph","position":{"start":{"line":538,"column":1},"end":{"line":538,"column":1}},"children":[{"type":"text","value":"å¯¹å¼€æ”¾äº¤æ˜“æ¯æ¬¡è¿­ä»£ï¼ˆå¤§çº¦æ¯ 5 ç§’ï¼‰è°ƒç”¨ï¼Œç›´åˆ°äº¤æ˜“å…³é—­ã€‚","position":{"start":{"line":538,"column":1},"end":{"line":538,"column":1}},"key":"g0dVufcczr"}],"key":"uNCDYspmXp"},{"type":"paragraph","position":{"start":{"line":540,"column":1},"end":{"line":540,"column":1}},"children":[{"type":"text","value":"å¿…é¡»é€šè¿‡åœ¨ç­–ç•¥å¯¹è±¡ä¸Šè®¾ç½® ","position":{"start":{"line":540,"column":1},"end":{"line":540,"column":1}},"key":"uFjtyV3k17"},{"type":"inlineCode","value":"use_custom_roi=True","position":{"start":{"line":540,"column":1},"end":{"line":540,"column":1}},"key":"YBgA3msa02"},{"type":"text","value":" æ¥å¯ç”¨è‡ªå®šä¹‰ ROI æ–¹æ³•çš„ä½¿ç”¨ã€‚","position":{"start":{"line":540,"column":1},"end":{"line":540,"column":1}},"key":"BT5XkXLsGZ"}],"key":"cSgabspPi9"},{"type":"paragraph","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"children":[{"type":"text","value":"æ­¤æ–¹æ³•å…è®¸ä½ å®šä¹‰é€€å‡ºäº¤æ˜“çš„è‡ªå®šä¹‰æœ€å° ROI é˜ˆå€¼ï¼Œä»¥æ¯”ç‡è¡¨ç¤ºï¼ˆä¾‹å¦‚ï¼Œ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"s0nVIOyWgk"},{"type":"inlineCode","value":"0.05","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"NSoIoJzsOV"},{"type":"text","value":" è¡¨ç¤º 5% åˆ©æ¶¦ï¼‰ã€‚å¦‚æœåŒæ—¶å®šä¹‰äº† ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"Cc3MkAMTlO"},{"type":"inlineCode","value":"minimal_roi","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"GN2VjvnjU0"},{"type":"text","value":" å’Œ ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"MkBu79yh71"},{"type":"inlineCode","value":"custom_roi","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"khl0nMW1yS"},{"type":"text","value":"ï¼Œåˆ™è¾ƒä½çš„é˜ˆå€¼å°†è§¦å‘é€€å‡ºã€‚ä¾‹å¦‚ï¼Œå¦‚æœ ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"INvQqbuX13"},{"type":"inlineCode","value":"minimal_roi","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"NTEmGGm87A"},{"type":"text","value":" è®¾ç½®ä¸º ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"nXUuTCA91C"},{"type":"inlineCode","value":"{\"0\": 0.10}","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"W4fvsUVuWe"},{"type":"text","value":"ï¼ˆ0 åˆ†é’Ÿæ—¶ä¸º 10%ï¼‰ä¸” ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"gZnLpR3lSy"},{"type":"inlineCode","value":"custom_roi","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"zvjaCwbfkQ"},{"type":"text","value":" è¿”å› ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"M1iPys3Z8S"},{"type":"inlineCode","value":"0.05","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"hpVeL02aOO"},{"type":"text","value":"ï¼Œåˆ™å½“åˆ©æ¶¦è¾¾åˆ° 5% æ—¶äº¤æ˜“å°†é€€å‡ºã€‚åŒæ ·ï¼Œå¦‚æœ ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"mgd3ESpGZf"},{"type":"inlineCode","value":"custom_roi","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"cCjVf0noR7"},{"type":"text","value":" è¿”å› ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"D9erz1i66y"},{"type":"inlineCode","value":"0.10","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"oE9RtG4LHC"},{"type":"text","value":" ä¸” ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"pdvgdRpsez"},{"type":"inlineCode","value":"minimal_roi","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"CcTMvFIhIR"},{"type":"text","value":" è®¾ç½®ä¸º ","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"UFhnwV6n4H"},{"type":"inlineCode","value":"{\"0\": 0.05}","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"SACsvN0Ihv"},{"type":"text","value":"ï¼ˆ0 åˆ†é’Ÿæ—¶ä¸º 5%ï¼‰ï¼Œåˆ™å½“åˆ©æ¶¦è¾¾åˆ° 5% æ—¶äº¤æ˜“å°†å…³é—­ã€‚","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"mRLofJIHs6"}],"key":"t0OC7hPQrY"},{"type":"paragraph","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"children":[{"type":"text","value":"è¯¥æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªè¡¨ç¤ºæ–° ROI é˜ˆå€¼çš„æµ®ç‚¹æ•°æ¯”ç‡ï¼Œæˆ–è¿”å› ","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"PuaI2KIFYL"},{"type":"inlineCode","value":"None","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"Xxt7WwqPSq"},{"type":"text","value":" ä»¥å›é€€åˆ° ","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"SQjRxD8L7Y"},{"type":"inlineCode","value":"minimal_roi","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"MW9PrapXgx"},{"type":"text","value":" é€»è¾‘ã€‚è¿”å› ","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"HBqsni5wbU"},{"type":"inlineCode","value":"NaN","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"fN5Tie1fES"},{"type":"text","value":" æˆ– ","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"kEathcPHDA"},{"type":"inlineCode","value":"inf","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"lLL4SLLXY7"},{"type":"text","value":" å€¼è¢«è§†ä¸ºæ— æ•ˆï¼Œå°†è¢«è§†ä¸º ","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"b2RKMpQhRV"},{"type":"inlineCode","value":"None","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"OQABdZDw5K"},{"type":"text","value":"ï¼Œå¯¼è‡´æœºå™¨äººä½¿ç”¨ ","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"Ytyiq8x3o4"},{"type":"inlineCode","value":"minimal_roi","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"LUDWDsBQ1U"},{"type":"text","value":" é…ç½®ã€‚","position":{"start":{"line":544,"column":1},"end":{"line":544,"column":1}},"key":"ilPSiW6Za2"}],"key":"dTNwwaQVsO"},{"type":"heading","depth":4,"position":{"start":{"line":546,"column":1},"end":{"line":546,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰ ROI ç¤ºä¾‹","position":{"start":{"line":546,"column":1},"end":{"line":546,"column":1}},"key":"PCMz8Hkv72"}],"identifier":"id-roi","label":"è‡ªå®šä¹‰ ROI ç¤ºä¾‹","html_id":"id-roi-1","implicit":true,"key":"VinyE5rmgo"},{"type":"paragraph","position":{"start":{"line":548,"column":1},"end":{"line":548,"column":1}},"children":[{"type":"text","value":"ä»¥ä¸‹ç¤ºä¾‹è¯´æ˜å¦‚ä½•ä½¿ç”¨ ","position":{"start":{"line":548,"column":1},"end":{"line":548,"column":1}},"key":"XVkIL28Dgl"},{"type":"inlineCode","value":"custom_roi","position":{"start":{"line":548,"column":1},"end":{"line":548,"column":1}},"key":"NxoLGt172i"},{"type":"text","value":" å‡½æ•°å®ç°ä¸åŒçš„ ROI é€»è¾‘ã€‚","position":{"start":{"line":548,"column":1},"end":{"line":548,"column":1}},"key":"xQXBpzuHFX"}],"key":"DVgSjiRGpD"},{"type":"heading","depth":5,"position":{"start":{"line":550,"column":1},"end":{"line":550,"column":1}},"children":[{"type":"text","value":"æŒ‰äº¤æ˜“æ–¹å‘è‡ªå®šä¹‰ ROI","position":{"start":{"line":550,"column":1},"end":{"line":550,"column":1}},"key":"Hiz13cEvUL"}],"identifier":"id-roi","label":"æŒ‰äº¤æ˜“æ–¹å‘è‡ªå®šä¹‰ ROI","html_id":"id-roi-2","implicit":true,"key":"JV2psDL7TV"},{"type":"paragraph","position":{"start":{"line":552,"column":1},"end":{"line":552,"column":1}},"children":[{"type":"text","value":"æ ¹æ® ","position":{"start":{"line":552,"column":1},"end":{"line":552,"column":1}},"key":"wxt2Xcu6al"},{"type":"inlineCode","value":"side","position":{"start":{"line":552,"column":1},"end":{"line":552,"column":1}},"key":"ILYzaYRld4"},{"type":"text","value":" ä½¿ç”¨ä¸åŒçš„ ROI é˜ˆå€¼ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå¤šå¤´å…¥åœºä¸º 5%ï¼Œç©ºå¤´å…¥åœºä¸º 2%ã€‚","position":{"start":{"line":552,"column":1},"end":{"line":552,"column":1}},"key":"og0eXt3xuV"}],"key":"DXjBw5C1vN"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    use_custom_roi = True\n\n    # ... populate_* methods\n\n    def custom_roi(self, pair: str, trade: Trade, current_time: datetime, trade_duration: int,\n                   entry_tag: str | None, side: str, **kwargs) -> float | None:\n        \"\"\"\n        è‡ªå®šä¹‰ ROI é€»è¾‘ï¼Œè¿”å›æ–°çš„æœ€å° ROI é˜ˆå€¼ï¼ˆä»¥æ¯”ç‡è¡¨ç¤ºï¼Œä¾‹å¦‚ 0.05 è¡¨ç¤º +5%ï¼‰ã€‚\n        ä»…åœ¨ use_custom_roi è®¾ç½®ä¸º True æ—¶è°ƒç”¨ã€‚\n\n        å¦‚æœä¸ minimal_roi åŒæ—¶ä½¿ç”¨ï¼Œå½“è¾¾åˆ°è¾ƒä½çš„é˜ˆå€¼æ—¶å°†è§¦å‘é€€å‡ºã€‚\n        ç¤ºä¾‹ï¼šå¦‚æœ minimal_roi = {\"0\": 0.01} ä¸” custom_roi è¿”å› 0.05ï¼Œ\n        å½“åˆ©æ¶¦è¾¾åˆ° 5% æ—¶å°†è§¦å‘é€€å‡ºã€‚\n\n        :param pair: å½“å‰åˆ†æçš„äº¤æ˜“å¯¹ã€‚\n        :param trade: äº¤æ˜“å¯¹è±¡ã€‚\n        :param current_time: datetime å¯¹è±¡ï¼ŒåŒ…å«å½“å‰æ—¥æœŸæ—¶é—´ã€‚\n        :param trade_duration: å½“å‰äº¤æ˜“æŒç»­æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰ã€‚\n        :param entry_tag: å¦‚æœä¹°å…¥ä¿¡å·æä¾›äº†å¯é€‰çš„ entry_tagï¼ˆbuy_tagï¼‰ã€‚\n        :param side: 'long' æˆ– 'short' - è¡¨ç¤ºå½“å‰äº¤æ˜“çš„æ–¹å‘ã€‚\n        :param **kwargs: ç¡®ä¿ä¿ç•™æ­¤å‚æ•°ï¼Œä»¥ä¾¿æ›´æ–°ä¸ä¼šç ´åä½ çš„ç­–ç•¥ã€‚\n        :return float: æ–°çš„ ROI å€¼ï¼ˆæ¯”ç‡ï¼‰ï¼Œæˆ– None ä»¥å›é€€åˆ° minimal_roi é€»è¾‘ã€‚\n        \"\"\"\n        return 0.05 if side == \"long\" else 0.02","position":{"start":{"line":554,"column":1},"end":{"line":583,"column":1}},"key":"OD0QCeOGFf"},{"type":"heading","depth":5,"position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"children":[{"type":"text","value":"æŒ‰äº¤æ˜“å¯¹è‡ªå®šä¹‰ ROI","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"yvQzU1EpO4"}],"identifier":"id-roi","label":"æŒ‰äº¤æ˜“å¯¹è‡ªå®šä¹‰ ROI","html_id":"id-roi-3","implicit":true,"key":"YpYq1h0Wyo"},{"type":"paragraph","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"children":[{"type":"text","value":"æ ¹æ® ","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"key":"CMddEBT2mW"},{"type":"inlineCode","value":"pair","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"key":"VlXPegJcjE"},{"type":"text","value":" ä½¿ç”¨ä¸åŒçš„ ROI é˜ˆå€¼ã€‚","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"key":"yuf5KqyQRD"}],"key":"RAMlN4XhsP"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    use_custom_roi = True\n\n    # ... populate_* methods\n\n    def custom_roi(self, pair: str, trade: Trade, current_time: datetime, trade_duration: int,\n                   entry_tag: str | None, side: str, **kwargs) -> float | None:\n\n        stake = trade.stake_currency\n        roi_map = {\n            f\"BTC/{stake}\": 0.02, # BTC ä¸º 2%\n            f\"ETH/{stake}\": 0.03, # ETH ä¸º 3%\n            f\"XRP/{stake}\": 0.04, # XRP ä¸º 4%\n        }\n\n        return roi_map.get(pair, 0.01) # å…¶ä»–äº¤æ˜“å¯¹ä¸º 1%","position":{"start":{"line":589,"column":1},"end":{"line":609,"column":1}},"key":"yoRdRX2VNd"},{"type":"heading","depth":5,"position":{"start":{"line":611,"column":1},"end":{"line":611,"column":1}},"children":[{"type":"text","value":"æŒ‰å…¥åœºæ ‡ç­¾è‡ªå®šä¹‰ ROI","position":{"start":{"line":611,"column":1},"end":{"line":611,"column":1}},"key":"P5qoP2JxP4"}],"identifier":"id-roi","label":"æŒ‰å…¥åœºæ ‡ç­¾è‡ªå®šä¹‰ ROI","html_id":"id-roi-4","implicit":true,"key":"DO45jt3x3l"},{"type":"paragraph","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"children":[{"type":"text","value":"æ ¹æ®ä¹°å…¥ä¿¡å·æä¾›çš„ ","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"daX5FrwUNA"},{"type":"inlineCode","value":"entry_tag","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"TA2SNlSOzI"},{"type":"text","value":" ä½¿ç”¨ä¸åŒçš„ ROI é˜ˆå€¼ã€‚","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"ukdx4RaRpw"}],"key":"Axc2MTlJPp"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    use_custom_roi = True\n\n    # ... populate_* methods\n\n    def custom_roi(self, pair: str, trade: Trade, current_time: datetime, trade_duration: int,\n                   entry_tag: str | None, side: str, **kwargs) -> float | None:\n\n        roi_by_tag = {\n            \"breakout\": 0.08,       # å¦‚æœæ ‡ç­¾æ˜¯ \"breakout\" åˆ™ä¸º 8%\n            \"rsi_overbought\": 0.05, # å¦‚æœæ ‡ç­¾æ˜¯ \"rsi_overbought\" åˆ™ä¸º 5%\n            \"mean_reversion\": 0.03, # å¦‚æœæ ‡ç­¾æ˜¯ \"mean_reversion\" åˆ™ä¸º 3%\n        }\n\n        return roi_by_tag.get(entry_tag, 0.01)  # å¦‚æœæ ‡ç­¾æœªçŸ¥åˆ™ä¸º 1%","position":{"start":{"line":615,"column":1},"end":{"line":634,"column":1}},"key":"DNlKv2RO7I"},{"type":"heading","depth":5,"position":{"start":{"line":636,"column":1},"end":{"line":636,"column":1}},"children":[{"type":"text","value":"åŸºäº ATR çš„è‡ªå®šä¹‰ ROI","position":{"start":{"line":636,"column":1},"end":{"line":636,"column":1}},"key":"i9gvIFIOTa"}],"identifier":"id-atr-roi","label":"åŸºäº ATR çš„è‡ªå®šä¹‰ ROI","html_id":"id-atr-roi","implicit":true,"key":"Bbal9jIRQW"},{"type":"paragraph","position":{"start":{"line":638,"column":1},"end":{"line":638,"column":1}},"children":[{"type":"text","value":"ROI å€¼å¯ä»¥ä»å­˜å‚¨åœ¨æ•°æ®æ¡†æ¶ä¸­çš„æŒ‡æ ‡æ´¾ç”Ÿã€‚æ­¤ç¤ºä¾‹ä½¿ç”¨ ATR æ¯”ç‡ä½œä¸º ROIã€‚","position":{"start":{"line":638,"column":1},"end":{"line":638,"column":1}},"key":"dE3rVcp4Kt"}],"key":"lCrrT97T84"},{"type":"code","lang":"python","value":"# Default imports\n# <...>\nimport talib.abstract as ta\n\nclass AwesomeStrategy(IStrategy):\n\n    use_custom_roi = True\n\n    def populate_indicators(self, dataframe: DataFrame, metadata: dict) -> DataFrame:\n        # <...>\n        dataframe[\"atr\"] = ta.ATR(dataframe, timeperiod=10)\n\n    def custom_roi(self, pair: str, trade: Trade, current_time: datetime, trade_duration: int,\n                   entry_tag: str | None, side: str, **kwargs) -> float | None:\n\n        dataframe, _ = self.dp.get_analyzed_dataframe(pair, self.timeframe)\n        last_candle = dataframe.iloc[-1].squeeze()\n        atr_ratio = last_candle[\"atr\"] / last_candle[\"close\"]\n\n        return atr_ratio # è¿”å› ATR å€¼ä½œä¸ºæ¯”ç‡","position":{"start":{"line":640,"column":1},"end":{"line":661,"column":1}},"key":"rN5nS4b4ya"},{"type":"thematicBreak","position":{"start":{"line":663,"column":1},"end":{"line":663,"column":1}},"key":"Z1qhjRuEcg"},{"type":"heading","depth":3,"position":{"start":{"line":665,"column":1},"end":{"line":665,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰è®¢å•ä»·æ ¼è§„åˆ™","position":{"start":{"line":665,"column":1},"end":{"line":665,"column":1}},"key":"K7bl7Wni7I"}],"identifier":"id","label":"è‡ªå®šä¹‰è®¢å•ä»·æ ¼è§„åˆ™","html_id":"id-15","implicit":true,"key":"Emiryshha2"},{"type":"paragraph","position":{"start":{"line":667,"column":1},"end":{"line":667,"column":1}},"children":[{"type":"text","value":"é»˜è®¤æƒ…å†µä¸‹ï¼Œfreqtrade ä½¿ç”¨è®¢å•ç°¿è‡ªåŠ¨è®¾ç½®è®¢å•ä»·æ ¼ï¼ˆ","position":{"start":{"line":667,"column":1},"end":{"line":667,"column":1}},"key":"Ert0hZwEAe"},{"type":"crossReference","url":"/configuration","position":{"start":{"line":667,"column":1},"end":{"line":667,"column":1}},"children":[{"type":"text","value":"ç›¸å…³æ–‡æ¡£","position":{"start":{"line":667,"column":1},"end":{"line":667,"column":1}},"key":"kbHAqHzoS0"}],"urlSource":"configuration.md#prices-used-for-orders","dataUrl":"/configuration.json","identifier":"prices-used-for-orders","label":"prices-used-for-orders","remote":true,"protocol":"file","key":"yswWij1GqE"},{"type":"text","value":"ï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©åŸºäºä½ çš„ç­–ç•¥åˆ›å»ºè‡ªå®šä¹‰è®¢å•ä»·æ ¼ã€‚","position":{"start":{"line":667,"column":1},"end":{"line":667,"column":1}},"key":"Jb2N9U3e8B"}],"key":"VSUAySrzMO"},{"type":"paragraph","position":{"start":{"line":669,"column":1},"end":{"line":669,"column":1}},"children":[{"type":"text","value":"ä½ å¯ä»¥é€šè¿‡åœ¨ç­–ç•¥æ–‡ä»¶ä¸­åˆ›å»º ","position":{"start":{"line":669,"column":1},"end":{"line":669,"column":1}},"key":"EFIzng0pgn"},{"type":"inlineCode","value":"custom_entry_price()","position":{"start":{"line":669,"column":1},"end":{"line":669,"column":1}},"key":"f01CBBLkEN"},{"type":"text","value":" å‡½æ•°è‡ªå®šä¹‰å…¥åœºä»·æ ¼ï¼Œä»¥åŠ ","position":{"start":{"line":669,"column":1},"end":{"line":669,"column":1}},"key":"pu0E1Ikh4t"},{"type":"inlineCode","value":"custom_exit_price()","position":{"start":{"line":669,"column":1},"end":{"line":669,"column":1}},"key":"q6aDmReqvR"},{"type":"text","value":" å‡½æ•°è‡ªå®šä¹‰å‡ºåœºä»·æ ¼ã€‚","position":{"start":{"line":669,"column":1},"end":{"line":669,"column":1}},"key":"q3uTFmu5dq"}],"key":"hcvTxw7Wbj"},{"type":"paragraph","position":{"start":{"line":671,"column":1},"end":{"line":671,"column":1}},"children":[{"type":"text","value":"æ¯ä¸ªæ–¹æ³•éƒ½ä¼šåœ¨å‘äº¤æ˜“æ‰€ä¸‹å•å‰è¢«è°ƒç”¨ã€‚","position":{"start":{"line":671,"column":1},"end":{"line":671,"column":1}},"key":"YTLA79MGSi"}],"key":"MEgnj5mOsS"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"zZ7wfcWeMH"}],"key":"bnJGZiZpFE"},{"type":"paragraph","position":{"start":{"line":674,"column":1},"end":{"line":674,"column":1}},"children":[{"type":"text","value":"å¦‚æœä½ çš„è‡ªå®šä¹‰å®šä»·å‡½æ•°è¿”å› None æˆ–æ— æ•ˆå€¼ï¼Œä»·æ ¼å°†å›é€€åˆ° ","position":{"start":{"line":674,"column":1},"end":{"line":674,"column":1}},"key":"KKC3qXvOAy"},{"type":"inlineCode","value":"proposed_rate","position":{"start":{"line":674,"column":1},"end":{"line":674,"column":1}},"key":"ngZkKoz9ur"},{"type":"text","value":"ï¼Œå³åŸºäºå¸¸è§„å®šä»·é…ç½®çš„ä»·æ ¼ã€‚","position":{"start":{"line":674,"column":1},"end":{"line":674,"column":1}},"key":"bNUlBZl0Ka"}],"key":"voHjFtNNlT"},{"type":"paragraph","position":{"start":{"line":676,"column":1},"end":{"line":676,"column":1}},"children":[{"type":"text","value":"ä½¿ç”¨ custom_entry_price æ—¶ï¼ŒTrade å¯¹è±¡ä¼šåœ¨ä¸è¯¥äº¤æ˜“ç›¸å…³çš„ç¬¬ä¸€ä¸ªå…¥åœºè®¢å•åˆ›å»ºæ—¶å¯ç”¨ï¼Œå¯¹äºç¬¬ä¸€æ¬¡å…¥åœºï¼Œ","position":{"start":{"line":676,"column":1},"end":{"line":676,"column":1}},"key":"ns4Kvn2Pmc"},{"type":"inlineCode","value":"trade","position":{"start":{"line":676,"column":1},"end":{"line":676,"column":1}},"key":"fIOoocydJ4"},{"type":"text","value":" å‚æ•°å€¼ä¸º ","position":{"start":{"line":676,"column":1},"end":{"line":676,"column":1}},"key":"Z0GmV5c8e0"},{"type":"inlineCode","value":"None","position":{"start":{"line":676,"column":1},"end":{"line":676,"column":1}},"key":"QzDV9QOAdl"},{"type":"text","value":"ã€‚","position":{"start":{"line":676,"column":1},"end":{"line":676,"column":1}},"key":"xM33iyqEis"}],"key":"MHNdwMDgzi"}],"key":"bh4GgMCLXX"},{"type":"heading","depth":4,"position":{"start":{"line":679,"column":1},"end":{"line":679,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰è®¢å•å…¥åœºå’Œå‡ºåœºä»·æ ¼ç¤ºä¾‹","position":{"start":{"line":679,"column":1},"end":{"line":679,"column":1}},"key":"Wy8R3k5t4C"}],"identifier":"id","label":"è‡ªå®šä¹‰è®¢å•å…¥åœºå’Œå‡ºåœºä»·æ ¼ç¤ºä¾‹","html_id":"id-16","implicit":true,"key":"QgdRCZR22z"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* methods\n\n    def custom_entry_price(self, pair: str, trade: Trade | None, current_time: datetime, proposed_rate: float,\n                           entry_tag: str | None, side: str, **kwargs) -> float:\n\n        dataframe, last_updated = self.dp.get_analyzed_dataframe(pair=pair,\n                                                                timeframe=self.timeframe)\n        new_entryprice = dataframe[\"bollinger_10_lowerband\"].iat[-1]\n\n        return new_entryprice\n\n    def custom_exit_price(self, pair: str, trade: Trade,\n                          current_time: datetime, proposed_rate: float,\n                          current_profit: float, exit_tag: str | None, **kwargs) -> float:\n\n        dataframe, last_updated = self.dp.get_analyzed_dataframe(pair=pair,\n                                                                timeframe=self.timeframe)\n        new_exitprice = dataframe[\"bollinger_10_upperband\"].iat[-1]\n\n        return new_exitprice\n","position":{"start":{"line":681,"column":1},"end":{"line":707,"column":1}},"key":"ybiJQCZFHo"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"wj8DrA5GP9"}],"key":"pg4v61JNXi"},{"type":"paragraph","position":{"start":{"line":710,"column":1},"end":{"line":710,"column":1}},"children":[{"type":"text","value":"ä¿®æ”¹å…¥åœºå’Œå‡ºåœºä»·æ ¼ä»…é€‚ç”¨äºé™ä»·å•ã€‚æ ¹æ®é€‰æ‹©çš„ä»·æ ¼ï¼Œè¿™å¯èƒ½å¯¼è‡´å¤§é‡æœªæˆäº¤è®¢å•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“å‰ä»·æ ¼ä¸è‡ªå®šä¹‰ä»·æ ¼ä¹‹é—´çš„æœ€å¤§å…è®¸è·ç¦»ä¸º 2%ï¼Œè¯¥å€¼å¯é€šè¿‡é…ç½®ä¸­çš„ ","position":{"start":{"line":710,"column":1},"end":{"line":710,"column":1}},"key":"RlMYFnqtL5"},{"type":"inlineCode","value":"custom_price_max_distance_ratio","position":{"start":{"line":710,"column":1},"end":{"line":710,"column":1}},"key":"gGgaZZh8lP"},{"type":"text","value":" å‚æ•°æ›´æ”¹ã€‚","position":{"start":{"line":710,"column":1},"end":{"line":710,"column":1}},"key":"YEKGlGpUjc"}],"key":"NELqRwvbzj"},{"type":"paragraph","position":{"start":{"line":712,"column":1},"end":{"line":712,"column":1}},"children":[{"type":"strong","position":{"start":{"line":712,"column":1},"end":{"line":712,"column":1}},"children":[{"type":"text","value":"ç¤ºä¾‹","position":{"start":{"line":712,"column":1},"end":{"line":712,"column":1}},"key":"xz6zIr1Bee"}],"key":"HFLpUpDfm2"},{"type":"text","value":"ï¼š","position":{"start":{"line":712,"column":1},"end":{"line":712,"column":1}},"key":"Psv1lXk10O"}],"key":"bkZQX9youZ"},{"type":"paragraph","position":{"start":{"line":714,"column":1},"end":{"line":714,"column":1}},"children":[{"type":"text","value":"å¦‚æœ new_entryprice æ˜¯ 97ï¼Œproposed_rate æ˜¯ 100ï¼Œ","position":{"start":{"line":714,"column":1},"end":{"line":714,"column":1}},"key":"Upmiyvi7AT"},{"type":"inlineCode","value":"custom_price_max_distance_ratio","position":{"start":{"line":714,"column":1},"end":{"line":714,"column":1}},"key":"j8u2WjuXoB"},{"type":"text","value":" è®¾ç½®ä¸º 2%ï¼Œåˆ™ä¿ç•™çš„æœ‰æ•ˆè‡ªå®šä¹‰å…¥åœºä»·æ ¼å°†æ˜¯ 98ï¼Œæ¯”å½“å‰ï¼ˆå»ºè®®ï¼‰ä»·æ ¼ä½ 2%ã€‚","position":{"start":{"line":714,"column":1},"end":{"line":714,"column":1}},"key":"GJlIlKKDNJ"}],"key":"KOhpGdQCPI"}],"key":"wBexRDV7UC"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"å›æµ‹","position":{"start":{"line":717,"column":1},"end":{"line":717,"column":1}},"key":"dnsq0SUPtL"}],"key":"TXUp4nH00v"},{"type":"paragraph","position":{"start":{"line":718,"column":1},"end":{"line":718,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰ä»·æ ¼åœ¨å›æµ‹ä¸­å—æ”¯æŒï¼ˆè‡ª 2021.12 èµ·ï¼‰ï¼Œå¦‚æœä»·æ ¼è½åœ¨ K çº¿çš„æœ€é«˜/æœ€ä½èŒƒå›´å†…ï¼Œè®¢å•å°†ä¼šæˆäº¤ã€‚","position":{"start":{"line":718,"column":1},"end":{"line":718,"column":1}},"key":"cq6eIZSm4N"}],"key":"nS9s7pqRlb"},{"type":"paragraph","position":{"start":{"line":720,"column":1},"end":{"line":720,"column":1}},"children":[{"type":"text","value":"æœªèƒ½ç«‹å³æˆäº¤çš„è®¢å•å°†å—åˆ°å¸¸è§„è¶…æ—¶å¤„ç†ï¼Œè¿™ä¼šåœ¨æ¯æ ¹ï¼ˆè¯¦ç»†ï¼‰K çº¿å‘ç”Ÿä¸€æ¬¡ã€‚","position":{"start":{"line":720,"column":1},"end":{"line":720,"column":1}},"key":"D16Ch6eJOV"}],"key":"XU2r1T8CTD"},{"type":"paragraph","position":{"start":{"line":722,"column":1},"end":{"line":722,"column":1}},"children":[{"type":"inlineCode","value":"custom_exit_price()","position":{"start":{"line":722,"column":1},"end":{"line":722,"column":1}},"key":"OUjgDW30TH"},{"type":"text","value":" ä»…é’ˆå¯¹ç±»å‹ä¸º exit_signalã€è‡ªå®šä¹‰é€€å‡ºå’Œéƒ¨åˆ†é€€å‡ºçš„å–å‡ºè°ƒç”¨ã€‚æ‰€æœ‰å…¶ä»–é€€å‡ºç±»å‹å°†ä½¿ç”¨å¸¸è§„å›æµ‹ä»·æ ¼ã€‚","position":{"start":{"line":722,"column":1},"end":{"line":722,"column":1}},"key":"N0rQfKv6nI"}],"key":"vRbo0mXRV9"}],"key":"rUQK3BNPXl"},{"type":"thematicBreak","position":{"start":{"line":726,"column":1},"end":{"line":726,"column":1}},"key":"d9L7KhSYuW"},{"type":"heading","depth":3,"position":{"start":{"line":728,"column":1},"end":{"line":728,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰è®¢å•è¶…æ—¶è§„åˆ™","position":{"start":{"line":728,"column":1},"end":{"line":728,"column":1}},"key":"IquLWRPrMS"}],"identifier":"id","label":"è‡ªå®šä¹‰è®¢å•è¶…æ—¶è§„åˆ™","html_id":"id-17","implicit":true,"key":"Mt4P5f41HP"},{"type":"paragraph","position":{"start":{"line":730,"column":1},"end":{"line":730,"column":1}},"children":[{"type":"text","value":"ç®€å•çš„ã€åŸºäºæ—¶é—´çš„è®¢å•è¶…æ—¶å¯ä»¥é€šè¿‡ç­–ç•¥æˆ–åœ¨é…ç½®çš„ ","position":{"start":{"line":730,"column":1},"end":{"line":730,"column":1}},"key":"HVtzhKYUEz"},{"type":"inlineCode","value":"unfilledtimeout","position":{"start":{"line":730,"column":1},"end":{"line":730,"column":1}},"key":"irvyh5LSkp"},{"type":"text","value":" éƒ¨åˆ†è¿›è¡Œé…ç½®ã€‚","position":{"start":{"line":730,"column":1},"end":{"line":730,"column":1}},"key":"IiD3gYeASq"}],"key":"CmAuATVI4b"},{"type":"paragraph","position":{"start":{"line":732,"column":1},"end":{"line":732,"column":1}},"children":[{"type":"text","value":"ç„¶è€Œï¼Œfreqtrade è¿˜ä¸ºä¸¤ç§è®¢å•ç±»å‹æä¾›äº†è‡ªå®šä¹‰å›è°ƒï¼Œå…è®¸ä½ åŸºäºè‡ªå®šä¹‰æ ‡å‡†å†³å®šè®¢å•æ˜¯å¦è¶…æ—¶ã€‚","position":{"start":{"line":732,"column":1},"end":{"line":732,"column":1}},"key":"XIPTxPPda6"}],"key":"jKJpDY1Q1Z"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"WDKGXiW0gu"}],"key":"zGvqsefevQ"},{"type":"paragraph","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"children":[{"type":"text","value":"å›æµ‹ä¼šåœ¨è®¢å•ä»·æ ¼è½åœ¨ K çº¿çš„æœ€é«˜/æœ€ä½èŒƒå›´å†…æ—¶æˆäº¤è®¢å•ã€‚","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"key":"dgJm4TKzIS"}],"key":"a64ZZZqg84"},{"type":"paragraph","position":{"start":{"line":737,"column":1},"end":{"line":737,"column":1}},"children":[{"type":"text","value":"ä»¥ä¸‹å›è°ƒå°†é’ˆå¯¹ä¸ä¼šç«‹å³æˆäº¤çš„è®¢å•ï¼ˆä½¿ç”¨è‡ªå®šä¹‰å®šä»·ï¼‰åœ¨æ¯ä¸ªï¼ˆè¯¦ç»†ï¼‰K çº¿è°ƒç”¨ä¸€æ¬¡ã€‚","position":{"start":{"line":737,"column":1},"end":{"line":737,"column":1}},"key":"VTtthurque"}],"key":"ytTVGBE84c"}],"key":"XfNd5H4O4f"},{"type":"heading","depth":4,"position":{"start":{"line":740,"column":1},"end":{"line":740,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰è®¢å•è¶…æ—¶ç¤ºä¾‹","position":{"start":{"line":740,"column":1},"end":{"line":740,"column":1}},"key":"gjyeSnt1lE"}],"identifier":"id","label":"è‡ªå®šä¹‰è®¢å•è¶…æ—¶ç¤ºä¾‹","html_id":"id-18","implicit":true,"key":"yIjQs3eAYb"},{"type":"paragraph","position":{"start":{"line":742,"column":1},"end":{"line":742,"column":1}},"children":[{"type":"text","value":"å¯¹æ¯ä¸ªæœªæˆäº¤è®¢å•è°ƒç”¨ï¼Œç›´åˆ°è®¢å•æˆäº¤æˆ–å–æ¶ˆã€‚","position":{"start":{"line":742,"column":1},"end":{"line":742,"column":1}},"key":"dKse7GuvKQ"}],"key":"wMCLpi5NEX"},{"type":"paragraph","position":{"start":{"line":744,"column":1},"end":{"line":744,"column":1}},"children":[{"type":"inlineCode","value":"check_entry_timeout()","position":{"start":{"line":744,"column":1},"end":{"line":744,"column":1}},"key":"RVsDEShfCi"},{"type":"text","value":" ç”¨äºäº¤æ˜“å…¥åœºï¼Œè€Œ ","position":{"start":{"line":744,"column":1},"end":{"line":744,"column":1}},"key":"jqbHRCwQGC"},{"type":"inlineCode","value":"check_exit_timeout()","position":{"start":{"line":744,"column":1},"end":{"line":744,"column":1}},"key":"ZFtF1vxQbo"},{"type":"text","value":" ç”¨äºäº¤æ˜“å‡ºåœºè®¢å•ã€‚","position":{"start":{"line":744,"column":1},"end":{"line":744,"column":1}},"key":"ylk1bZVXMw"}],"key":"GBFZYNdWAZ"},{"type":"paragraph","position":{"start":{"line":746,"column":1},"end":{"line":746,"column":1}},"children":[{"type":"text","value":"ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå®ƒæ ¹æ®èµ„äº§ä»·æ ¼åº”ç”¨ä¸åŒçš„æœªæˆäº¤è¶…æ—¶ã€‚","position":{"start":{"line":746,"column":1},"end":{"line":746,"column":1}},"key":"ncdGvSemjo"}],"key":"bh2aJEi0jv"},{"type":"paragraph","position":{"start":{"line":748,"column":1},"end":{"line":748,"column":1}},"children":[{"type":"text","value":"å®ƒå¯¹é«˜ä»·èµ„äº§åº”ç”¨è¾ƒçŸ­çš„è¶…æ—¶ï¼Œè€Œå¯¹ä½ä»·å¸ç§å…è®¸æ›´é•¿çš„æˆäº¤æ—¶é—´ã€‚","position":{"start":{"line":748,"column":1},"end":{"line":748,"column":1}},"key":"LcrYQ3GsXG"}],"key":"qn9gytlCA2"},{"type":"paragraph","position":{"start":{"line":750,"column":1},"end":{"line":750,"column":1}},"children":[{"type":"text","value":"å‡½æ•°å¿…é¡»è¿”å› ","position":{"start":{"line":750,"column":1},"end":{"line":750,"column":1}},"key":"HxEH20RbyG"},{"type":"inlineCode","value":"True","position":{"start":{"line":750,"column":1},"end":{"line":750,"column":1}},"key":"kqESC10dJw"},{"type":"text","value":"ï¼ˆå–æ¶ˆè®¢å•ï¼‰æˆ– ","position":{"start":{"line":750,"column":1},"end":{"line":750,"column":1}},"key":"TN1xDh505N"},{"type":"inlineCode","value":"False","position":{"start":{"line":750,"column":1},"end":{"line":750,"column":1}},"key":"Qzf8SqJhxP"},{"type":"text","value":"ï¼ˆä¿æŒè®¢å•æ´»è·ƒï¼‰ã€‚","position":{"start":{"line":750,"column":1},"end":{"line":750,"column":1}},"key":"NBhbzuG5lR"}],"key":"xq9Ie8WVo5"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* methods\n\n    # è®¾ç½® unfilledtimeout ä¸º 25 å°æ—¶ï¼Œå› ä¸ºä¸‹é¢çš„æœ€å¤§è¶…æ—¶æ˜¯ 24 å°æ—¶ã€‚\n    unfilledtimeout = {\n        \"entry\": 60 * 25,\n        \"exit\": 60 * 25\n    }\n\n    def check_entry_timeout(self, pair: str, trade: Trade, order: Order,\n                            current_time: datetime, **kwargs) -> bool:\n        if trade.open_rate > 100 and trade.open_date_utc < current_time - timedelta(minutes=5):\n            return True\n        elif trade.open_rate > 10 and trade.open_date_utc < current_time - timedelta(minutes=3):\n            return True\n        elif trade.open_rate < 1 and trade.open_date_utc < current_time - timedelta(hours=24):\n           return True\n        return False\n\n\n    def check_exit_timeout(self, pair: str, trade: Trade, order: Order,\n                           current_time: datetime, **kwargs) -> bool:\n        if trade.open_rate > 100 and trade.open_date_utc < current_time - timedelta(minutes=5):\n            return True\n        elif trade.open_rate > 10 and trade.open_date_utc < current_time - timedelta(minutes=3):\n            return True\n        elif trade.open_rate < 1 and trade.open_date_utc < current_time - timedelta(hours=24):\n           return True\n        return False","position":{"start":{"line":752,"column":1},"end":{"line":785,"column":1}},"key":"lS3RmpdtFF"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"Az9hCr5mHv"}],"key":"LU4vn5eook"},{"type":"paragraph","position":{"start":{"line":788,"column":1},"end":{"line":788,"column":1}},"children":[{"type":"text","value":"å¯¹äºä¸Šé¢çš„ç¤ºä¾‹ï¼Œ","position":{"start":{"line":788,"column":1},"end":{"line":788,"column":1}},"key":"CTh2bfb5bR"},{"type":"inlineCode","value":"unfilledtimeout","position":{"start":{"line":788,"column":1},"end":{"line":788,"column":1}},"key":"hjY7oxnCqV"},{"type":"text","value":" å¿…é¡»è®¾ç½®ä¸ºå¤§äº 24 å°æ—¶çš„å€¼ï¼Œå¦åˆ™è¯¥ç±»å‹çš„è¶…æ—¶å°†é¦–å…ˆåº”ç”¨ã€‚","position":{"start":{"line":788,"column":1},"end":{"line":788,"column":1}},"key":"YNkJnIp3Qc"}],"key":"ceBCGINbSG"}],"key":"xBSVXX3aLO"},{"type":"heading","depth":4,"position":{"start":{"line":791,"column":1},"end":{"line":791,"column":1}},"children":[{"type":"text","value":"è‡ªå®šä¹‰è®¢å•è¶…æ—¶ç¤ºä¾‹ï¼ˆä½¿ç”¨é¢å¤–æ•°æ®ï¼‰","position":{"start":{"line":791,"column":1},"end":{"line":791,"column":1}},"key":"EiUrvE5eaT"}],"identifier":"id","label":"è‡ªå®šä¹‰è®¢å•è¶…æ—¶ç¤ºä¾‹ï¼ˆä½¿ç”¨é¢å¤–æ•°æ®ï¼‰","html_id":"id-19","implicit":true,"key":"hkrqxsGvEn"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* methods\n\n    # è®¾ç½® unfilledtimeout ä¸º 25 å°æ—¶ï¼Œå› ä¸ºä¸‹é¢çš„æœ€å¤§è¶…æ—¶æ˜¯ 24 å°æ—¶ã€‚\n    unfilledtimeout = {\n        \"entry\": 60 * 25,\n        \"exit\": 60 * 25\n    }\n\n    def check_entry_timeout(self, pair: str, trade: Trade, order: Order,\n                            current_time: datetime, **kwargs) -> bool:\n        ob = self.dp.orderbook(pair, 1)\n        current_price = ob[\"bids\"][0][0]\n        # å¦‚æœä»·æ ¼æ¯”è®¢å•ä»·æ ¼é«˜å‡º 2% ä»¥ä¸Šï¼Œå–æ¶ˆä¹°å•ã€‚\n        if current_price > order.price * 1.02:\n            return True\n        return False\n\n\n    def check_exit_timeout(self, pair: str, trade: Trade, order: Order,\n                           current_time: datetime, **kwargs) -> bool:\n        ob = self.dp.orderbook(pair, 1)\n        current_price = ob[\"asks\"][0][0]\n        # å¦‚æœä»·æ ¼æ¯”è®¢å•ä»·æ ¼ä½ 2% ä»¥ä¸Šï¼Œå–æ¶ˆå–å•ã€‚\n        if current_price < order.price * 0.98:\n            return True\n        return False","position":{"start":{"line":793,"column":1},"end":{"line":824,"column":1}},"key":"yLqeFC7XeM"},{"type":"thematicBreak","position":{"start":{"line":826,"column":1},"end":{"line":826,"column":1}},"key":"Sbp8azbLmT"},{"type":"heading","depth":3,"position":{"start":{"line":828,"column":1},"end":{"line":828,"column":1}},"children":[{"type":"text","value":"æœºå™¨äººè®¢å•ç¡®è®¤","position":{"start":{"line":828,"column":1},"end":{"line":828,"column":1}},"key":"tfnrK724Xy"}],"identifier":"id","label":"æœºå™¨äººè®¢å•ç¡®è®¤","html_id":"id-20","implicit":true,"key":"Mmm9n1jKwn"},{"type":"paragraph","position":{"start":{"line":830,"column":1},"end":{"line":831,"column":1}},"children":[{"type":"text","value":"ç¡®è®¤äº¤æ˜“å…¥åœº/å‡ºåœºã€‚\nè¿™äº›æ˜¯åœ¨è®¢å•ä¸‹å•ä¹‹å‰æœ€åè°ƒç”¨çš„æ–¹æ³•ã€‚","position":{"start":{"line":830,"column":1},"end":{"line":830,"column":1}},"key":"pihYh0hl7y"}],"key":"X4gLMAgiBd"},{"type":"heading","depth":4,"position":{"start":{"line":835,"column":1},"end":{"line":835,"column":1}},"children":[{"type":"text","value":"äº¤æ˜“å…¥åœºï¼ˆä¹°å•ï¼‰ç¡®è®¤","position":{"start":{"line":835,"column":1},"end":{"line":835,"column":1}},"key":"vDO50KkPQJ"}],"label":"trade-entry-buy-order-confirmation","identifier":"trade-entry-buy-order-confirmation","html_id":"trade-entry-buy-order-confirmation","key":"WkERG1u8YB"},{"type":"paragraph","position":{"start":{"line":837,"column":1},"end":{"line":837,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_entry()","position":{"start":{"line":837,"column":1},"end":{"line":837,"column":1}},"key":"brbJO1iu0a"},{"type":"text","value":" å¯ç”¨äºåœ¨æœ€åä¸€åˆ»ä¸­æ­¢äº¤æ˜“å…¥åœºï¼ˆå¯èƒ½æ˜¯å› ä¸ºä»·æ ¼ä¸ç¬¦åˆé¢„æœŸï¼‰ã€‚","position":{"start":{"line":837,"column":1},"end":{"line":837,"column":1}},"key":"mdiUvnayeW"}],"key":"uFujMiqLbF"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* methods\n\n    def confirm_trade_entry(self, pair: str, order_type: str, amount: float, rate: float,\n                            time_in_force: str, current_time: datetime, entry_tag: str | None,\n                            side: str, **kwargs) -> bool:\n        \"\"\"\n        Called right before placing a entry order.\n        Timing for this function is critical, so avoid doing heavy computations or\n        network requests in this method.\n\n        For full documentation please go to https://www.freqtrade.io/en/latest/strategy-advanced/\n\n        When not implemented by a strategy, returns True (always confirming).\n\n        :param pair: Pair that's about to be bought/shorted.\n        :param order_type: Order type (as configured in order_types). usually limit or market.\n        :param amount: Amount in target (base) currency that's going to be traded.\n        :param rate: Rate that's going to be used when using limit orders \n                     or current rate for market orders.\n        :param time_in_force: Time in force. Defaults to GTC (Good-til-cancelled).\n        :param current_time: datetime object, containing the current datetime\n        :param entry_tag: Optional entry_tag (buy_tag) if provided with the buy signal.\n        :param side: \"long\" or \"short\" - indicating the direction of the proposed trade\n        :param **kwargs: Ensure to keep this here so updates to this won't break your strategy.\n        :return bool: When True is returned, then the buy-order is placed on the exchange.\n            False aborts the process\n        \"\"\"\n        return True\n","position":{"start":{"line":839,"column":1},"end":{"line":873,"column":1}},"key":"BChorHTYJI"},{"type":"heading","depth":4,"position":{"start":{"line":877,"column":1},"end":{"line":877,"column":1}},"children":[{"type":"text","value":"äº¤æ˜“å‡ºåœºï¼ˆå–å•ï¼‰ç¡®è®¤","position":{"start":{"line":877,"column":1},"end":{"line":877,"column":1}},"key":"guq8Nkwx8u"}],"label":"trade-exit-sell-order-confirmation","identifier":"trade-exit-sell-order-confirmation","html_id":"trade-exit-sell-order-confirmation","key":"S6ajJjQtcP"},{"type":"paragraph","position":{"start":{"line":879,"column":1},"end":{"line":879,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_exit()","position":{"start":{"line":879,"column":1},"end":{"line":879,"column":1}},"key":"wpVmgpxiIB"},{"type":"text","value":" å¯ç”¨äºåœ¨æœ€åä¸€åˆ»ä¸­æ­¢äº¤æ˜“å‡ºåœºï¼ˆå¯èƒ½æ˜¯å› ä¸ºä»·æ ¼ä¸ç¬¦åˆé¢„æœŸï¼‰ã€‚","position":{"start":{"line":879,"column":1},"end":{"line":879,"column":1}},"key":"pezBCSGowN"}],"key":"yc4cSc6cgr"},{"type":"paragraph","position":{"start":{"line":881,"column":1},"end":{"line":882,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_exit()","position":{"start":{"line":881,"column":1},"end":{"line":881,"column":1}},"key":"tZQIHkAPKd"},{"type":"text","value":" å¯èƒ½ä¼šåœ¨åŒä¸€è¿­ä»£ä¸­å¤šæ¬¡è°ƒç”¨åŒä¸€äº¤æ˜“ï¼Œå¦‚æœé€‚ç”¨ä¸åŒçš„é€€å‡ºåŸå› ã€‚\né€€å‡ºåŸå› ï¼ˆå¦‚æœé€‚ç”¨ï¼‰å°†æŒ‰ä»¥ä¸‹é¡ºåºæ’åˆ—ï¼š","position":{"start":{"line":881,"column":1},"end":{"line":881,"column":1}},"key":"a6mo7X2ABe"}],"key":"sKPTRLbmqw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":884,"column":1},"end":{"line":888,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":884,"column":1},"end":{"line":884,"column":1}},"children":[{"type":"inlineCode","value":"exit_signal","position":{"start":{"line":884,"column":1},"end":{"line":884,"column":1}},"key":"Db64bYSnv8"},{"type":"text","value":" / ","position":{"start":{"line":884,"column":1},"end":{"line":884,"column":1}},"key":"WIuJstYyu7"},{"type":"inlineCode","value":"custom_exit","position":{"start":{"line":884,"column":1},"end":{"line":884,"column":1}},"key":"w5dYmJ71uf"}],"key":"TRRf53qSR2"},{"type":"listItem","spread":true,"position":{"start":{"line":885,"column":1},"end":{"line":885,"column":1}},"children":[{"type":"inlineCode","value":"stop_loss","position":{"start":{"line":885,"column":1},"end":{"line":885,"column":1}},"key":"GP8zLu3zVA"}],"key":"CtHEQyLWOx"},{"type":"listItem","spread":true,"position":{"start":{"line":886,"column":1},"end":{"line":886,"column":1}},"children":[{"type":"inlineCode","value":"roi","position":{"start":{"line":886,"column":1},"end":{"line":886,"column":1}},"key":"EGwR5adlz3"}],"key":"FYEtg8cwd5"},{"type":"listItem","spread":true,"position":{"start":{"line":887,"column":1},"end":{"line":888,"column":1}},"children":[{"type":"inlineCode","value":"trailing_stop_loss","position":{"start":{"line":887,"column":1},"end":{"line":887,"column":1}},"key":"pV6ntJLCOd"}],"key":"eekvyLjeQc"}],"key":"CxpUJSFzlh"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* methods\n\n    def confirm_trade_exit(self, pair: str, trade: Trade, order_type: str, amount: float,\n                           rate: float, time_in_force: str, exit_reason: str,\n                           current_time: datetime, **kwargs) -> bool:\n        \"\"\"\n        Called right before placing a regular exit order.\n        Timing for this function is critical, so avoid doing heavy computations or\n        network requests in this method.\n\n        For full documentation please go to https://www.freqtrade.io/en/latest/strategy-advanced/\n\n        When not implemented by a strategy, returns True (always confirming).\n\n        :param pair: Pair for trade that's about to be exited.\n        :param trade: trade object.\n        :param order_type: Order type (as configured in order_types). usually limit or market.\n        :param amount: Amount in base currency.\n        :param rate: Rate that's going to be used when using limit orders\n                     or current rate for market orders.\n        :param time_in_force: Time in force. Defaults to GTC (Good-til-cancelled).\n        :param exit_reason: Exit reason.\n            Can be any of [\"roi\", \"stop_loss\", \"stoploss_on_exchange\", \"trailing_stop_loss\",\n                           \"exit_signal\", \"force_exit\", \"emergency_exit\"]\n        :param current_time: datetime object, containing the current datetime\n        :param **kwargs: Ensure to keep this here so updates to this won't break your strategy.\n        :return bool: When True, then the exit-order is placed on the exchange.\n            False aborts the process\n        \"\"\"\n        if exit_reason == \"force_exit\" and trade.calc_profit_ratio(rate) < 0:\n            # Reject force-sells with negative profit\n            # This is just a sample, please adjust to your needs\n            # (this does not necessarily make sense, assuming you know when you're force-selling)\n            return False\n        return True\n","position":{"start":{"line":889,"column":1},"end":{"line":930,"column":1}},"key":"NriRSGGC3T"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"JgqyuKtc02"}],"key":"bJI2sSJ8iv"},{"type":"paragraph","position":{"start":{"line":933,"column":1},"end":{"line":933,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_exit()","position":{"start":{"line":933,"column":1},"end":{"line":933,"column":1}},"key":"cfi9Rz9a0P"},{"type":"text","value":" å¯ä»¥é˜»æ­¢æ­¢æŸé€€å‡ºï¼Œå¯¼è‡´é‡å¤§æŸå¤±ï¼Œå› ä¸ºè¿™å°†å¿½ç•¥æ­¢æŸé€€å‡ºã€‚","position":{"start":{"line":933,"column":1},"end":{"line":933,"column":1}},"key":"bP9PXY1cK0"}],"key":"SIwG93QT5L"},{"type":"paragraph","position":{"start":{"line":935,"column":1},"end":{"line":935,"column":1}},"children":[{"type":"inlineCode","value":"confirm_trade_exit()","position":{"start":{"line":935,"column":1},"end":{"line":935,"column":1}},"key":"Kz5mV4tvvf"},{"type":"text","value":" ä¸ä¼šä¸ºæ¸…ç®—è°ƒç”¨ - å› ä¸ºæ¸…ç®—æ˜¯ç”±äº¤æ˜“æ‰€å¼ºåˆ¶æ‰§è¡Œçš„ï¼Œå› æ­¤æ— æ³•æ‹’ç»ã€‚","position":{"start":{"line":935,"column":1},"end":{"line":935,"column":1}},"key":"dzIT2subOA"}],"key":"LCl1ja4jes"}],"key":"gIAu7RRq06"},{"type":"heading","depth":3,"position":{"start":{"line":940,"column":1},"end":{"line":940,"column":1}},"children":[{"type":"text","value":"è°ƒæ•´äº¤æ˜“ä»“ä½","position":{"start":{"line":940,"column":1},"end":{"line":940,"column":1}},"key":"thinJmyFm2"}],"label":"adjust-trade-position","identifier":"adjust-trade-position","html_id":"adjust-trade-position","key":"HwnERCP0yJ"},{"type":"paragraph","position":{"start":{"line":942,"column":1},"end":{"line":944,"column":1}},"children":[{"type":"inlineCode","value":"position_adjustment_enable","position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"key":"FFByDmXPJA"},{"type":"text","value":" ç­–ç•¥å±æ€§å¯ç”¨äº†ç­–ç•¥ä¸­ ","position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"key":"M14NbJexsV"},{"type":"inlineCode","value":"adjust_trade_position()","position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"key":"wih993SOm7"},{"type":"text","value":" å›è°ƒçš„ä½¿ç”¨ã€‚\nå‡ºäºæ€§èƒ½åŸå› ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯ç¦ç”¨çš„ï¼Œå¦‚æœå¯ç”¨ï¼Œfreqtrade å°†åœ¨å¯åŠ¨æ—¶æ˜¾ç¤ºè­¦å‘Šæ¶ˆæ¯ã€‚\n","position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"key":"B1UJKqd5ga"},{"type":"inlineCode","value":"adjust_trade_position()","position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"key":"vDDd7x4Syi"},{"type":"text","value":" å¯ç”¨äºæ‰§è¡Œé¢å¤–çš„è®¢å•ï¼Œä¾‹å¦‚ä½¿ç”¨ DCAï¼ˆç¾å…ƒæˆæœ¬å¹³å‡ï¼‰ç®¡ç†é£é™©æˆ–å¢åŠ æˆ–å‡å°‘ä»“ä½ã€‚","position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"key":"noXbsLtYNB"}],"key":"TrYzmmInzM"},{"type":"paragraph","position":{"start":{"line":946,"column":1},"end":{"line":946,"column":1}},"children":[{"type":"text","value":"é¢å¤–è®¢å•ä¹Ÿä¼šå¯¼è‡´é¢å¤–è´¹ç”¨ï¼Œå¹¶ä¸”è¿™äº›è®¢å•ä¸è®¡å…¥ ","position":{"start":{"line":946,"column":1},"end":{"line":946,"column":1}},"key":"wfLdcCbOtS"},{"type":"inlineCode","value":"max_open_trades","position":{"start":{"line":946,"column":1},"end":{"line":946,"column":1}},"key":"XGTNYWnNT0"},{"type":"text","value":"ã€‚","position":{"start":{"line":946,"column":1},"end":{"line":946,"column":1}},"key":"dS36drRxhs"}],"key":"Vroi94f6Eh"},{"type":"paragraph","position":{"start":{"line":948,"column":1},"end":{"line":948,"column":1}},"children":[{"type":"text","value":"å½“æœ‰æœªæˆäº¤è®¢å•ï¼ˆä¹°å•æˆ–å–å•ï¼‰ç­‰å¾…æ‰§è¡Œæ—¶ï¼Œä¹Ÿä¼šè°ƒç”¨æ­¤å›è°ƒ - å¦‚æœæ•°é‡ã€ä»·æ ¼æˆ–æ–¹å‘ä¸åŒï¼Œå°†å–æ¶ˆç°æœ‰çš„æœªæˆäº¤è®¢å•ä»¥æ”¾ç½®æ–°è®¢å•ã€‚éƒ¨åˆ†æˆäº¤çš„è®¢å•ä¹Ÿå°†è¢«å–æ¶ˆï¼Œå¹¶å°†è¢«å›è°ƒè¿”å›çš„æ–°æ•°é‡æ›¿æ¢ã€‚","position":{"start":{"line":948,"column":1},"end":{"line":948,"column":1}},"key":"en0gPTS5ZE"}],"key":"HrcvZBH7ST"},{"type":"paragraph","position":{"start":{"line":950,"column":1},"end":{"line":950,"column":1}},"children":[{"type":"inlineCode","value":"adjust_trade_position()","position":{"start":{"line":950,"column":1},"end":{"line":950,"column":1}},"key":"GPQWouJ1Yn"},{"type":"text","value":" åœ¨äº¤æ˜“æœŸé—´éå¸¸é¢‘ç¹åœ°è¢«è°ƒç”¨ï¼Œå› æ­¤ä½ å¿…é¡»å°½å¯èƒ½ä¿æŒå®ç°çš„æ€§èƒ½ã€‚","position":{"start":{"line":950,"column":1},"end":{"line":950,"column":1}},"key":"GfGn8xyHbX"}],"key":"CrTCm6jPy3"},{"type":"paragraph","position":{"start":{"line":952,"column":1},"end":{"line":953,"column":1}},"children":[{"type":"text","value":"ä»“ä½è°ƒæ•´å°†å§‹ç»ˆåº”ç”¨äºäº¤æ˜“çš„æ–¹å‘ï¼Œå› æ­¤æ­£å€¼å°†å§‹ç»ˆå¢åŠ ä½ çš„ä»“ä½ï¼ˆè´Ÿå€¼å°†å‡å°‘ä½ çš„ä»“ä½ï¼‰ï¼Œæ— è®ºå®ƒæ˜¯å¤šå¤´è¿˜æ˜¯ç©ºå¤´äº¤æ˜“ã€‚\nè°ƒæ•´è®¢å•å¯ä»¥é€šè¿‡è¿”å›ä¸€ä¸ª 2 å…ƒç´ å…ƒç»„æ¥åˆ†é…æ ‡ç­¾ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯è°ƒæ•´æ•°é‡ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯æ ‡ç­¾ï¼ˆä¾‹å¦‚ ","position":{"start":{"line":952,"column":1},"end":{"line":952,"column":1}},"key":"Farj0LCZ7l"},{"type":"inlineCode","value":"return 250, \"increase_favorable_conditions\"","position":{"start":{"line":952,"column":1},"end":{"line":952,"column":1}},"key":"wNnPEJpQLi"},{"type":"text","value":"ï¼‰ã€‚","position":{"start":{"line":952,"column":1},"end":{"line":952,"column":1}},"key":"dzz7vk0wOH"}],"key":"EL6JeCXgyr"},{"type":"paragraph","position":{"start":{"line":955,"column":1},"end":{"line":955,"column":1}},"children":[{"type":"text","value":"æ— æ³•ä¿®æ”¹æ æ†ï¼Œè¿”å›çš„ä»“ä½é‡‘é¢å‡å®šä¸ºåº”ç”¨æ æ†ä¹‹å‰ã€‚","position":{"start":{"line":955,"column":1},"end":{"line":955,"column":1}},"key":"O9sPKbiP4U"}],"key":"TZM24czMdy"},{"type":"paragraph","position":{"start":{"line":957,"column":1},"end":{"line":957,"column":1}},"children":[{"type":"text","value":"å½“å‰åˆ†é…ç»™ä»“ä½çš„ç»„åˆä»“ä½é‡‘é¢ä¿å­˜åœ¨ ","position":{"start":{"line":957,"column":1},"end":{"line":957,"column":1}},"key":"MIDFmtehNH"},{"type":"inlineCode","value":"trade.stake_amount","position":{"start":{"line":957,"column":1},"end":{"line":957,"column":1}},"key":"a87vLsIGmR"},{"type":"text","value":" ä¸­ã€‚å› æ­¤ï¼Œ","position":{"start":{"line":957,"column":1},"end":{"line":957,"column":1}},"key":"quRbcER6E7"},{"type":"inlineCode","value":"trade.stake_amount","position":{"start":{"line":957,"column":1},"end":{"line":957,"column":1}},"key":"uMXWbZOOqb"},{"type":"text","value":" å°†åœ¨æ¯æ¬¡é€šè¿‡ ","position":{"start":{"line":957,"column":1},"end":{"line":957,"column":1}},"key":"h8gMHqzjFu"},{"type":"inlineCode","value":"adjust_trade_position()","position":{"start":{"line":957,"column":1},"end":{"line":957,"column":1}},"key":"rzMfGEchMH"},{"type":"text","value":" è¿›è¡Œé¢å¤–å…¥åœºå’Œéƒ¨åˆ†å‡ºåœºæ—¶æ›´æ–°ã€‚","position":{"start":{"line":957,"column":1},"end":{"line":957,"column":1}},"key":"D41pK2IhgM"}],"key":"SmO5FxuYUr"},{"type":"admonition","kind":"danger","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"æ¾æ•£é€»è¾‘","position":{"start":{"line":959,"column":1},"end":{"line":959,"column":1}},"key":"oce7ecDjAv"}],"key":"RxWZDdAgC9"},{"type":"paragraph","position":{"start":{"line":960,"column":1},"end":{"line":960,"column":1}},"children":[{"type":"text","value":"åœ¨æ¨¡æ‹Ÿå’Œå®ç›˜è¿è¡Œä¸­ï¼Œæ­¤å‡½æ•°å°†æ¯ ","position":{"start":{"line":960,"column":1},"end":{"line":960,"column":1}},"key":"S3sOSOW9Y9"},{"type":"inlineCode","value":"throttle_process_secs","position":{"start":{"line":960,"column":1},"end":{"line":960,"column":1}},"key":"WadJQtmW26"},{"type":"text","value":"ï¼ˆé»˜è®¤ä¸º 5 ç§’ï¼‰è°ƒç”¨ä¸€æ¬¡ã€‚å¦‚æœä½ æœ‰æ¾æ•£çš„é€»è¾‘ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæœ€åä¸€æ ¹ K çº¿çš„ RSI ä½äº 30ï¼Œåˆ™å¢åŠ ä»“ä½ï¼‰ï¼Œä½ çš„æœºå™¨äººå°†æ¯ 5 ç§’è¿›è¡Œä¸€æ¬¡é¢å¤–é‡æ–°å…¥åœºï¼Œç›´åˆ°ä½ ç”¨å®Œèµ„é‡‘ï¼Œè¾¾åˆ° ","position":{"start":{"line":960,"column":1},"end":{"line":960,"column":1}},"key":"YvOAoZWvA7"},{"type":"inlineCode","value":"max_position_adjustment","position":{"start":{"line":960,"column":1},"end":{"line":960,"column":1}},"key":"x6lSQVGwEZ"},{"type":"text","value":" é™åˆ¶ï¼Œæˆ–è€…å‡ºç° RSI å¤§äº 30 çš„æ–° K çº¿ã€‚","position":{"start":{"line":960,"column":1},"end":{"line":960,"column":1}},"key":"gK0RjyTEyb"}],"key":"fTPqW8o6P4"},{"type":"paragraph","position":{"start":{"line":962,"column":1},"end":{"line":962,"column":1}},"children":[{"type":"text","value":"éƒ¨åˆ†å‡ºåœºä¹Ÿå¯èƒ½å‘ç”ŸåŒæ ·çš„æƒ…å†µã€‚","position":{"start":{"line":962,"column":1},"end":{"line":962,"column":1}},"key":"d24k87TTj2"}],"key":"hyhckAjipB"},{"type":"paragraph","position":{"start":{"line":964,"column":1},"end":{"line":964,"column":1}},"children":[{"type":"text","value":"å› æ­¤ï¼Œè¯·ç¡®ä¿æœ‰ä¸¥æ ¼çš„é€»è¾‘å’Œ/æˆ–æ£€æŸ¥æœ€åæˆäº¤çš„è®¢å•ä»¥åŠæ˜¯å¦å·²æœ‰æœªæˆäº¤è®¢å•ã€‚","position":{"start":{"line":964,"column":1},"end":{"line":964,"column":1}},"key":"LBgaihoq0n"}],"key":"dkZc0eYndO"}],"key":"Nxaaqwmbpv"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"å¤šæ¬¡ä»“ä½è°ƒæ•´çš„æ€§èƒ½","position":{"start":{"line":967,"column":1},"end":{"line":967,"column":1}},"key":"dj4csK0D7k"}],"key":"vOlicCb0M0"},{"type":"paragraph","position":{"start":{"line":968,"column":1},"end":{"line":968,"column":1}},"children":[{"type":"text","value":"ä»“ä½è°ƒæ•´å¯ä»¥æ˜¯å¢åŠ ç­–ç•¥è¾“å‡ºçš„å¥½æ–¹æ³• - ä½†å¦‚æœå¹¿æ³›ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œä¹Ÿå¯èƒ½æœ‰ç¼ºç‚¹ã€‚","position":{"start":{"line":968,"column":1},"end":{"line":968,"column":1}},"key":"ZCvYQPOU1H"}],"key":"lMzWufElg7"},{"type":"paragraph","position":{"start":{"line":970,"column":1},"end":{"line":970,"column":1}},"children":[{"type":"text","value":"æ¯ä¸ªè®¢å•å°†åœ¨äº¤æ˜“æœŸé—´é™„åŠ åˆ°äº¤æ˜“å¯¹è±¡ - å› æ­¤å¢åŠ å†…å­˜ä½¿ç”¨ã€‚","position":{"start":{"line":970,"column":1},"end":{"line":970,"column":1}},"key":"YwbKpXhdE0"}],"key":"s9OEAXQK0y"},{"type":"paragraph","position":{"start":{"line":972,"column":1},"end":{"line":972,"column":1}},"children":[{"type":"text","value":"å› æ­¤ï¼Œä¸å»ºè®®ä½¿ç”¨é•¿æ—¶é—´æŒç»­å’Œ 10 æ¬¡ç”šè‡³ 100 æ¬¡ä»“ä½è°ƒæ•´çš„äº¤æ˜“ï¼Œåº”è¯¥å®šæœŸå…³é—­ä»¥é¿å…å½±å“æ€§èƒ½ã€‚","position":{"start":{"line":972,"column":1},"end":{"line":972,"column":1}},"key":"wEWTsf22dU"}],"key":"MrYWldHWd6"}],"key":"ZG3h63IqyW"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"å›æµ‹","position":{"start":{"line":975,"column":1},"end":{"line":975,"column":1}},"key":"vrwROvjp3g"}],"key":"aN6pYIKkxq"},{"type":"paragraph","position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"children":[{"type":"text","value":"åœ¨å›æµ‹æœŸé—´ï¼Œæ­¤å›è°ƒåœ¨ ","position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"key":"PZXJ75TbHg"},{"type":"inlineCode","value":"timeframe","position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"key":"BXvH4PUjyc"},{"type":"text","value":" æˆ– ","position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"key":"i2q5njWOpq"},{"type":"inlineCode","value":"timeframe_detail","position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"key":"C37hTuEhhI"},{"type":"text","value":" ä¸­çš„æ¯æ ¹ K çº¿è°ƒç”¨ä¸€æ¬¡ï¼Œå› æ­¤è¿è¡Œæ—¶æ€§èƒ½å°†å—åˆ°å½±å“ã€‚","position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"key":"MTsONkWrkj"}],"key":"j9PZsAW4iz"},{"type":"paragraph","position":{"start":{"line":978,"column":1},"end":{"line":978,"column":1}},"children":[{"type":"text","value":"è¿™ä¹Ÿå¯èƒ½å¯¼è‡´å®ç›˜å’Œå›æµ‹ä¹‹é—´çš„ç»“æœä¸åŒï¼Œå› ä¸ºå›æµ‹åªèƒ½åœ¨æ¯æ ¹ K çº¿è°ƒæ•´ä¸€æ¬¡äº¤æ˜“ï¼Œè€Œå®ç›˜å¯ä»¥åœ¨æ¯æ ¹ K çº¿å¤šæ¬¡è°ƒæ•´äº¤æ˜“ã€‚","position":{"start":{"line":978,"column":1},"end":{"line":978,"column":1}},"key":"mpKIhcUXgd"}],"key":"eMAtSMFXJ4"}],"key":"zuHiQrvshk"},{"type":"heading","depth":4,"position":{"start":{"line":981,"column":1},"end":{"line":981,"column":1}},"children":[{"type":"text","value":"å¢åŠ ä»“ä½","position":{"start":{"line":981,"column":1},"end":{"line":981,"column":1}},"key":"jmTrxiQYdo"}],"identifier":"id","label":"å¢åŠ ä»“ä½","html_id":"id-21","implicit":true,"key":"ouaZN9o85O"},{"type":"paragraph","position":{"start":{"line":983,"column":1},"end":{"line":983,"column":1}},"children":[{"type":"text","value":"å½“éœ€è¦è¿›è¡Œé¢å¤–å…¥åœºè®¢å•æ—¶ï¼ˆå³å¢åŠ ä»“ä½â€”â€”å¤šå¤´ä¸ºä¹°å•ï¼Œç©ºå¤´ä¸ºå–å•ï¼‰ï¼Œç­–ç•¥åº”è¿”å›ä¸€ä¸ªä»‹äº ","position":{"start":{"line":983,"column":1},"end":{"line":983,"column":1}},"key":"OpWLPk6QJe"},{"type":"inlineCode","value":"min_stake","position":{"start":{"line":983,"column":1},"end":{"line":983,"column":1}},"key":"a3lhrJ3RLy"},{"type":"text","value":" å’Œ ","position":{"start":{"line":983,"column":1},"end":{"line":983,"column":1}},"key":"pHnrHiHcrC"},{"type":"inlineCode","value":"max_stake","position":{"start":{"line":983,"column":1},"end":{"line":983,"column":1}},"key":"IpqUmcaSNN"},{"type":"text","value":" ä¹‹é—´çš„æ­£æ•° ","position":{"start":{"line":983,"column":1},"end":{"line":983,"column":1}},"key":"Q0yg1BG8bI"},{"type":"strong","position":{"start":{"line":983,"column":1},"end":{"line":983,"column":1}},"children":[{"type":"text","value":"stake_amount","position":{"start":{"line":983,"column":1},"end":{"line":983,"column":1}},"key":"kbrPShm8to"}],"key":"bcA8WqYRJA"},{"type":"text","value":"ï¼ˆä»¥ä»“ä½è´§å¸è®¡ä»·ï¼‰ã€‚","position":{"start":{"line":983,"column":1},"end":{"line":983,"column":1}},"key":"lVqqtJTqil"}],"key":"yIycCoWbuE"},{"type":"paragraph","position":{"start":{"line":985,"column":1},"end":{"line":986,"column":1}},"children":[{"type":"text","value":"å¦‚æœé’±åŒ…ä¸­æ²¡æœ‰è¶³å¤Ÿçš„èµ„é‡‘ï¼ˆè¿”å›å€¼é«˜äº ","position":{"start":{"line":985,"column":1},"end":{"line":985,"column":1}},"key":"Rn4Axb1ulG"},{"type":"inlineCode","value":"max_stake","position":{"start":{"line":985,"column":1},"end":{"line":985,"column":1}},"key":"LdhrcMjG3R"},{"type":"text","value":"ï¼‰ï¼Œåˆ™è¯¥ä¿¡å·ä¼šè¢«å¿½ç•¥ã€‚\n","position":{"start":{"line":985,"column":1},"end":{"line":985,"column":1}},"key":"YGpEbvD6v7"},{"type":"inlineCode","value":"max_entry_position_adjustment","position":{"start":{"line":985,"column":1},"end":{"line":985,"column":1}},"key":"BEX3rf5uS2"},{"type":"text","value":" å±æ€§ç”¨äºé™åˆ¶æœºå™¨äººæ¯ç¬”äº¤æ˜“ï¼ˆåœ¨é¦–æ¬¡å…¥åœºè®¢å•ä¹‹å¤–ï¼‰å¯æ‰§è¡Œçš„é¢å¤–å…¥åœºæ¬¡æ•°ã€‚é»˜è®¤å€¼ä¸º -1ï¼Œè¡¨ç¤ºæœºå™¨äººå¯¹è°ƒæ•´å…¥åœºæ¬¡æ•°æ²¡æœ‰é™åˆ¶ã€‚","position":{"start":{"line":985,"column":1},"end":{"line":985,"column":1}},"key":"Fi0zeXRPXO"}],"key":"RqeWRwsres"},{"type":"paragraph","position":{"start":{"line":988,"column":1},"end":{"line":988,"column":1}},"children":[{"type":"text","value":"ä¸€æ—¦è¾¾åˆ°ä½ åœ¨ ","position":{"start":{"line":988,"column":1},"end":{"line":988,"column":1}},"key":"Ks4JKF68Y7"},{"type":"inlineCode","value":"max_entry_position_adjustment","position":{"start":{"line":988,"column":1},"end":{"line":988,"column":1}},"key":"UWCjS4zpsn"},{"type":"text","value":" ä¸Šè®¾ç½®çš„æœ€å¤§é¢å¤–å…¥åœºæ¬¡æ•°ï¼Œé¢å¤–å…¥åœºå°†è¢«å¿½ç•¥ï¼Œä½†å›è°ƒä»ä¼šè¢«è°ƒç”¨ä»¥å¯»æ‰¾éƒ¨åˆ†å‡ºåœºæœºä¼šã€‚","position":{"start":{"line":988,"column":1},"end":{"line":988,"column":1}},"key":"oDDTAZdQBW"}],"key":"BCoQmkyl84"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"å…³äºä»“ä½å¤§å°","position":{"start":{"line":990,"column":1},"end":{"line":990,"column":1}},"key":"n8QZeTMvOu"}],"key":"AQaMPKudic"},{"type":"paragraph","position":{"start":{"line":991,"column":1},"end":{"line":991,"column":1}},"children":[{"type":"text","value":"ä½¿ç”¨å›ºå®šä»“ä½å¤§å°æ„å‘³ç€é¦–æ¬¡è®¢å•å°†ä½¿ç”¨è¯¥é‡‘é¢ï¼Œå°±åƒæ²¡æœ‰ä»“ä½è°ƒæ•´ä¸€æ ·ã€‚","position":{"start":{"line":991,"column":1},"end":{"line":991,"column":1}},"key":"lmUapfizY6"}],"key":"m9579lx4EF"},{"type":"paragraph","position":{"start":{"line":993,"column":1},"end":{"line":993,"column":1}},"children":[{"type":"text","value":"å¦‚æœä½ å¸Œæœ›é€šè¿‡ DCA è¿›è¡Œé¢å¤–ä¹°å…¥ï¼Œè¯·ç¡®ä¿é’±åŒ…ä¸­ç•™æœ‰è¶³å¤Ÿçš„èµ„é‡‘ã€‚","position":{"start":{"line":993,"column":1},"end":{"line":993,"column":1}},"key":"oS5KS666ol"}],"key":"jueko6sQ0q"},{"type":"paragraph","position":{"start":{"line":995,"column":1},"end":{"line":995,"column":1}},"children":[{"type":"text","value":"å¯¹ DCA è®¢å•ä½¿ç”¨ â€œunlimitedâ€ ä»“ä½é‡‘é¢æ—¶ï¼Œéœ€è¦ä½ å®ç° ","position":{"start":{"line":995,"column":1},"end":{"line":995,"column":1}},"key":"lLDRO89IsQ"},{"type":"inlineCode","value":"custom_stake_amount()","position":{"start":{"line":995,"column":1},"end":{"line":995,"column":1}},"key":"QUZTjm07rV"},{"type":"text","value":" å›è°ƒï¼Œä»¥é¿å…åˆå§‹è®¢å•å ç”¨å…¨éƒ¨èµ„é‡‘ã€‚","position":{"start":{"line":995,"column":1},"end":{"line":995,"column":1}},"key":"kEgZjW9Jy2"}],"key":"IDkXQFqgOd"}],"key":"u4xlgu1KZW"},{"type":"heading","depth":4,"position":{"start":{"line":998,"column":1},"end":{"line":998,"column":1}},"children":[{"type":"text","value":"å‡å°‘ä»“ä½","position":{"start":{"line":998,"column":1},"end":{"line":998,"column":1}},"key":"lN49zbPCHM"}],"identifier":"id","label":"å‡å°‘ä»“ä½","html_id":"id-22","implicit":true,"key":"LRdPb4BCNM"},{"type":"paragraph","position":{"start":{"line":1000,"column":1},"end":{"line":1000,"column":1}},"children":[{"type":"text","value":"ç­–ç•¥åº”è¿”å›ä¸€ä¸ªè´Ÿçš„ stake_amountï¼ˆä»¥ä»“ä½è´§å¸è®¡ä»·ï¼‰ç”¨äºéƒ¨åˆ†å‡ºåœºã€‚","position":{"start":{"line":1000,"column":1},"end":{"line":1000,"column":1}},"key":"alwjf9nzlx"}],"key":"siAKrIIXY8"},{"type":"paragraph","position":{"start":{"line":1002,"column":1},"end":{"line":1002,"column":1}},"children":[{"type":"text","value":"è¿”å›å½“å‰æŒæœ‰çš„å…¨éƒ¨ä»“ä½ï¼ˆ","position":{"start":{"line":1002,"column":1},"end":{"line":1002,"column":1}},"key":"eeWVpZ7xRh"},{"type":"inlineCode","value":"-trade.stake_amount","position":{"start":{"line":1002,"column":1},"end":{"line":1002,"column":1}},"key":"idwKp6yn2F"},{"type":"text","value":"ï¼‰å°†å¯¼è‡´å®Œå…¨å‡ºåœºã€‚","position":{"start":{"line":1002,"column":1},"end":{"line":1002,"column":1}},"key":"i7lLqidhNE"}],"key":"c0NO7YxrsQ"},{"type":"paragraph","position":{"start":{"line":1004,"column":1},"end":{"line":1004,"column":1}},"children":[{"type":"text","value":"è¿”å›è¶…è¿‡ä¸Šè¿°å€¼ï¼ˆå³å‰©ä½™ stake_amount å˜ä¸ºè´Ÿæ•°ï¼‰å°†å¯¼è‡´æœºå™¨äººå¿½ç•¥è¯¥ä¿¡å·ã€‚","position":{"start":{"line":1004,"column":1},"end":{"line":1004,"column":1}},"key":"ydffzTEWs1"}],"key":"EOXgGJ23q9"},{"type":"paragraph","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"children":[{"type":"text","value":"å¯¹äºéƒ¨åˆ†å‡ºåœºï¼Œé‡è¦çš„æ˜¯è¦çŸ¥é“ç”¨äºè®¡ç®—éƒ¨åˆ†å‡ºåœºè®¢å•å¸ç§æ•°é‡çš„å…¬å¼æ˜¯ ","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"yMl2k243yz"},{"type":"inlineCode","value":"éƒ¨åˆ†å‡ºåœºæ•°é‡ = negative_stake_amount * trade.amount / trade.stake_amount","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"EWc9bd2osW"},{"type":"text","value":"ï¼Œå…¶ä¸­ ","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"BlVIVLsxkF"},{"type":"inlineCode","value":"negative_stake_amount","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"LNgHhUf1i8"},{"type":"text","value":" æ˜¯ ","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"umAioEoEyD"},{"type":"inlineCode","value":"adjust_trade_position","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"Hsw7Ed3ZKK"},{"type":"text","value":" å‡½æ•°è¿”å›çš„å€¼ã€‚æ­£å¦‚å…¬å¼æ‰€ç¤ºï¼Œè¯¥å…¬å¼ä¸å½“å‰ä»“ä½ç›ˆäºæ— å…³ï¼Œåªä¸ ","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"IcZ02zFiv3"},{"type":"inlineCode","value":"trade.amount","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"aVVIwDxF8L"},{"type":"text","value":" å’Œ ","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"TRrt0g4iCQ"},{"type":"inlineCode","value":"trade.stake_amount","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"uR4fSRjmP7"},{"type":"text","value":" æœ‰å…³ï¼Œè¿™ä¸¤ä¸ªå€¼ä¸ä¼šå—åˆ°ä»·æ ¼æ³¢åŠ¨å½±å“ã€‚","position":{"start":{"line":1006,"column":1},"end":{"line":1006,"column":1}},"key":"nhe9M6TcQE"}],"key":"VJqjA4zMZ0"},{"type":"paragraph","position":{"start":{"line":1008,"column":1},"end":{"line":1008,"column":1}},"children":[{"type":"text","value":"ä¾‹å¦‚ï¼Œå‡è®¾ä½ ä»¥ 50 çš„å¼€ç›˜ä»·ä¹°å…¥ 2 ä¸ª SHITCOIN/USDTï¼Œæ„å‘³ç€è¯¥äº¤æ˜“çš„ä»“ä½é‡‘é¢ä¸º 100 USDTã€‚ç°åœ¨ä»·æ ¼æ¶¨åˆ° 200ï¼Œä½ æƒ³å–å‡ºä¸€åŠã€‚è¿™æ—¶ä½ éœ€è¦è¿”å› ","position":{"start":{"line":1008,"column":1},"end":{"line":1008,"column":1}},"key":"V3xgY50FrX"},{"type":"inlineCode","value":"trade.stake_amount","position":{"start":{"line":1008,"column":1},"end":{"line":1008,"column":1}},"key":"PtGJ3KW7W4"},{"type":"text","value":" çš„ -50%ï¼ˆ0.5 * 100 USDTï¼‰ï¼Œå³ -50ã€‚æœºå™¨äººä¼šè®¡ç®—éœ€è¦å–å‡ºçš„æ•°é‡ï¼Œå³ ","position":{"start":{"line":1008,"column":1},"end":{"line":1008,"column":1}},"key":"zLlb4nUHof"},{"type":"inlineCode","value":"50 * 2 / 100","position":{"start":{"line":1008,"column":1},"end":{"line":1008,"column":1}},"key":"PwgniQ1F4S"},{"type":"text","value":"ï¼Œç­‰äº 1 ä¸ª SHITCOIN/USDTã€‚å¦‚æœä½ è¿”å› -200ï¼ˆ2 * 200 çš„ 50%ï¼‰ï¼Œæœºå™¨äººä¼šå¿½ç•¥ï¼Œå› ä¸º ","position":{"start":{"line":1008,"column":1},"end":{"line":1008,"column":1}},"key":"HvayLoMW0O"},{"type":"inlineCode","value":"trade.stake_amount","position":{"start":{"line":1008,"column":1},"end":{"line":1008,"column":1}},"key":"qmTtb2Gxx7"},{"type":"text","value":" åªæœ‰ 100 USDTï¼Œè€Œä½ è¦æ±‚å–å‡º 200 USDTï¼Œç›¸å½“äºå–å‡º 4 ä¸ª SHITCOIN/USDTã€‚","position":{"start":{"line":1008,"column":1},"end":{"line":1008,"column":1}},"key":"f573FE8pHo"}],"key":"TvlMpPxcGr"},{"type":"paragraph","position":{"start":{"line":1010,"column":1},"end":{"line":1010,"column":1}},"children":[{"type":"text","value":"å›åˆ°ä¸Šé¢çš„ä¾‹å­ï¼Œå½“å‰ä»·æ ¼ä¸º 200ï¼Œä½ çš„äº¤æ˜“å½“å‰ USDT ä»·å€¼ä¸º 400 USDTã€‚å‡è®¾ä½ æƒ³éƒ¨åˆ†å–å‡º 100 USDTï¼Œä»¥å–å›åˆå§‹æŠ•èµ„å¹¶å°†åˆ©æ¶¦ç•™åœ¨äº¤æ˜“ä¸­ï¼Œå¸Œæœ›ä»·æ ¼ç»§ç»­ä¸Šæ¶¨ã€‚è¿™æ—¶ä½ éœ€è¦å…ˆè®¡ç®—è¦å–å‡ºçš„ç¡®åˆ‡æ•°é‡ã€‚ç”±äºä½ æƒ³æŒ‰å½“å‰ä»·æ ¼å–å‡ºä»·å€¼ 100 USDT çš„å¸ï¼Œéƒ¨åˆ†å–å‡ºçš„ç¡®åˆ‡æ•°é‡ä¸º ","position":{"start":{"line":1010,"column":1},"end":{"line":1010,"column":1}},"key":"ppKrQekgQt"},{"type":"inlineCode","value":"100 * 2 / 400","position":{"start":{"line":1010,"column":1},"end":{"line":1010,"column":1}},"key":"Nh3P2fRkOZ"},{"type":"text","value":"ï¼Œç­‰äº 0.5 ä¸ª SHITCOIN/USDTã€‚æ—¢ç„¶çŸ¥é“äº†è¦å–å‡ºçš„æ•°é‡ï¼ˆ0.5ï¼‰ï¼Œä½ åœ¨ ","position":{"start":{"line":1010,"column":1},"end":{"line":1010,"column":1}},"key":"laIgO832LP"},{"type":"inlineCode","value":"adjust_trade_position","position":{"start":{"line":1010,"column":1},"end":{"line":1010,"column":1}},"key":"bmYf2IS1XQ"},{"type":"text","value":" å‡½æ•°ä¸­éœ€è¦è¿”å›çš„å€¼æ˜¯ ","position":{"start":{"line":1010,"column":1},"end":{"line":1010,"column":1}},"key":"Zrt2bAi4QI"},{"type":"inlineCode","value":"-éƒ¨åˆ†å‡ºåœºæ•°é‡ * trade.stake_amount / trade.amount","position":{"start":{"line":1010,"column":1},"end":{"line":1010,"column":1}},"key":"OQuIPQyhAg"},{"type":"text","value":"ï¼Œå³ -25ã€‚æœºå™¨äººä¼šå–å‡º 0.5 ä¸ª SHITCOIN/USDTï¼Œäº¤æ˜“ä¸­ä¿ç•™ 1.5 ä¸ªã€‚ä½ å°†ä»éƒ¨åˆ†å‡ºåœºä¸­è·å¾— 100 USDTã€‚","position":{"start":{"line":1010,"column":1},"end":{"line":1010,"column":1}},"key":"GMGbXfBSuJ"}],"key":"f4pBosHfPw"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"æ­¢æŸè®¡ç®—","position":{"start":{"line":1012,"column":1},"end":{"line":1012,"column":1}},"key":"MBHgiwvAoV"}],"key":"f8AWgdjpNA"},{"type":"paragraph","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"children":[{"type":"text","value":"æ­¢æŸä»ç„¶ä»¥åˆå§‹å¼€ä»“ä»·ä¸ºåŸºå‡†è®¡ç®—ï¼Œè€Œä¸æ˜¯å‡ä»·ã€‚","position":{"start":{"line":1014,"column":1},"end":{"line":1014,"column":1}},"key":"s35THqAHpl"}],"key":"aqSxsBXDKK"},{"type":"paragraph","position":{"start":{"line":1016,"column":1},"end":{"line":1016,"column":1}},"children":[{"type":"text","value":"å¸¸è§„æ­¢æŸè§„åˆ™ä»ç„¶é€‚ç”¨ï¼ˆä¸èƒ½ä¸‹ç§»æ­¢æŸï¼‰ã€‚","position":{"start":{"line":1016,"column":1},"end":{"line":1016,"column":1}},"key":"N9Vejc6IOk"}],"key":"fNvNH6v6IG"},{"type":"paragraph","position":{"start":{"line":1018,"column":1},"end":{"line":1018,"column":1}},"children":[{"type":"text","value":"è™½ç„¶ ","position":{"start":{"line":1018,"column":1},"end":{"line":1018,"column":1}},"key":"aGwaTSQvIQ"},{"type":"inlineCode","value":"/stopentry","position":{"start":{"line":1018,"column":1},"end":{"line":1018,"column":1}},"key":"fVHcidrhey"},{"type":"text","value":" å‘½ä»¤ä¼šé˜»æ­¢æœºå™¨äººè¿›å…¥æ–°äº¤æ˜“ï¼Œä½†ä»“ä½è°ƒæ•´åŠŸèƒ½ä¼šç»§ç»­åœ¨å·²æœ‰äº¤æ˜“ä¸Šä¹°å…¥æ–°è®¢å•ã€‚","position":{"start":{"line":1018,"column":1},"end":{"line":1018,"column":1}},"key":"H2J10gx6XJ"}],"key":"bjyDH4Pz6v"}],"key":"Zmekoco0Ir"},{"type":"code","lang":"python","value":"# Default imports\n\nclass DigDeeperStrategy(IStrategy):\n\n    position_adjustment_enable = True\n\n    # Attempts to handle large drops with DCA. High stoploss is required.\n    stoploss = -0.30\n\n    # ... populate_* methods\n\n    # Example specific variables\n    max_entry_position_adjustment = 3\n    # This number is explained a bit further down\n    max_dca_multiplier = 5.5\n\n    # This is called when placing the initial order (opening trade)\n    def custom_stake_amount(self, pair: str, current_time: datetime, current_rate: float,\n                            proposed_stake: float, min_stake: float | None, max_stake: float,\n                            leverage: float, entry_tag: str | None, side: str,\n                            **kwargs) -> float:\n\n        # We need to leave most of the funds for possible further DCA orders\n        # This also applies to fixed stakes\n        return proposed_stake / self.max_dca_multiplier\n\n    def adjust_trade_position(self, trade: Trade, current_time: datetime,\n                              current_rate: float, current_profit: float,\n                              min_stake: float | None, max_stake: float,\n                              current_entry_rate: float, current_exit_rate: float,\n                              current_entry_profit: float, current_exit_profit: float,\n                              **kwargs\n                              ) -> float | None | tuple[float | None, str | None]:\n        \"\"\"\n        Custom trade adjustment logic, returning the stake amount that a trade should be\n        increased or decreased.\n        This means extra entry or exit orders with additional fees.\n        Only called when `position_adjustment_enable` is set to True.\n\n        For full documentation please go to https://www.freqtrade.io/en/latest/strategy-advanced/\n\n        When not implemented by a strategy, returns None\n\n        :param trade: trade object.\n        :param current_time: datetime object, containing the current datetime\n        :param current_rate: Current entry rate (same as current_entry_profit)\n        :param current_profit: Current profit (as ratio), calculated based on current_rate \n                               (same as current_entry_profit).\n        :param min_stake: Minimal stake size allowed by exchange (for both entries and exits)\n        :param max_stake: Maximum stake allowed (either through balance, or by exchange limits).\n        :param current_entry_rate: Current rate using entry pricing.\n        :param current_exit_rate: Current rate using exit pricing.\n        :param current_entry_profit: Current profit using entry pricing.\n        :param current_exit_profit: Current profit using exit pricing.\n        :param **kwargs: Ensure to keep this here so updates to this won't break your strategy.\n        :return float: Stake amount to adjust your trade,\n                       Positive values to increase position, Negative values to decrease position.\n                       Return None for no action.\n                       Optionally, return a tuple with a 2nd element with an order reason\n        \"\"\"\n        if trade.has_open_orders:\n            # Only act if no orders are open\n            return\n\n        if current_profit > 0.05 and trade.nr_of_successful_exits == 0:\n            # Take half of the profit at +5%\n            return -(trade.stake_amount / 2), \"half_profit_5%\"\n\n        if current_profit > -0.05:\n            return None\n\n        # Obtain pair dataframe (just to show how to access it)\n        dataframe, _ = self.dp.get_analyzed_dataframe(trade.pair, self.timeframe)\n        # Only buy when not actively falling price.\n        last_candle = dataframe.iloc[-1].squeeze()\n        previous_candle = dataframe.iloc[-2].squeeze()\n        if last_candle[\"close\"] < previous_candle[\"close\"]:\n            return None\n\n        filled_entries = trade.select_filled_orders(trade.entry_side)\n        count_of_entries = trade.nr_of_successful_entries\n        # Allow up to 3 additional increasingly larger buys (4 in total)\n        # Initial buy is 1x\n        # If that falls to -5% profit, we buy 1.25x more, average profit should increase to roughly -2.2%\n        # If that falls down to -5% again, we buy 1.5x more\n        # If that falls once again down to -5%, we buy 1.75x more\n        # Total stake for this trade would be 1 + 1.25 + 1.5 + 1.75 = 5.5x of the initial allowed stake.\n        # That is why max_dca_multiplier is 5.5\n        # Hope you have a deep wallet!\n        try:\n            # This returns first order stake size\n            stake_amount = filled_entries[0].stake_amount_filled\n            # This then calculates current safety order size\n            stake_amount = stake_amount * (1 + (count_of_entries * 0.25))\n            return stake_amount, \"1/3rd_increase\"\n        except Exception as exception:\n            return None\n\n        return None\n","position":{"start":{"line":1021,"column":1},"end":{"line":1122,"column":1}},"key":"vqULMvYkxf"},{"type":"heading","depth":4,"position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"children":[{"type":"text","value":"ä»“ä½è°ƒæ•´è®¡ç®—","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"key":"JHoQ65M9wj"}],"identifier":"id","label":"ä»“ä½è°ƒæ•´è®¡ç®—","html_id":"id-23","implicit":true,"key":"iPoyfNs2eC"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1126,"column":1},"end":{"line":1130,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1126,"column":1},"end":{"line":1126,"column":1}},"children":[{"type":"text","value":"å…¥åœºä»·æ ¼ä½¿ç”¨åŠ æƒå¹³å‡è®¡ç®—ã€‚","position":{"start":{"line":1126,"column":1},"end":{"line":1126,"column":1}},"key":"ywzwcaYCWy"}],"key":"sSxWBxSpCk"},{"type":"listItem","spread":true,"position":{"start":{"line":1127,"column":1},"end":{"line":1127,"column":1}},"children":[{"type":"text","value":"å‡ºåœºä¸ä¼šå½±å“å¹³å‡å…¥åœºä»·æ ¼ã€‚","position":{"start":{"line":1127,"column":1},"end":{"line":1127,"column":1}},"key":"vfavNdYAHJ"}],"key":"WhFTLp15YZ"},{"type":"listItem","spread":true,"position":{"start":{"line":1128,"column":1},"end":{"line":1128,"column":1}},"children":[{"type":"text","value":"éƒ¨åˆ†å‡ºåœºçš„ç›¸å¯¹åˆ©æ¶¦æ˜¯ç›¸å¯¹äºæ­¤æ—¶çš„å¹³å‡å…¥åœºä»·æ ¼ã€‚","position":{"start":{"line":1128,"column":1},"end":{"line":1128,"column":1}},"key":"Glfn9kQxpy"}],"key":"FWnxkQSVs0"},{"type":"listItem","spread":true,"position":{"start":{"line":1129,"column":1},"end":{"line":1130,"column":1}},"children":[{"type":"text","value":"æœ€ç»ˆå‡ºåœºçš„ç›¸å¯¹åˆ©æ¶¦æ˜¯åŸºäºæ€»æŠ•èµ„èµ„æœ¬è®¡ç®—çš„ã€‚ï¼ˆè§ä¸‹é¢çš„ä¾‹å­ï¼‰","position":{"start":{"line":1129,"column":1},"end":{"line":1129,"column":1}},"key":"YHsqpSOw2w"}],"key":"iwMdMFxBvD"}],"key":"nIpZUlfNWp"},{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"è®¡ç®—ç¤ºä¾‹","position":{"start":{"line":1131,"column":1},"end":{"line":1131,"column":1}},"key":"lFiol05VzD"}],"key":"feKKLayxjT"},{"type":"paragraph","position":{"start":{"line":1132,"column":1},"end":{"line":1132,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1132,"column":1},"end":{"line":1132,"column":1}},"children":[{"type":"text","value":"æ­¤ç¤ºä¾‹å‡è®¾é›¶æ‰‹ç»­è´¹ï¼Œä¸”ä¸ºä¸€ä¸ªè™šæ‹Ÿå¸çš„å¤šå¤´ä»“ä½ã€‚","position":{"start":{"line":1132,"column":1},"end":{"line":1132,"column":1}},"key":"GLtE6ceN3U"}],"key":"bsJxrJDBql"}],"key":"Kk98A87vDa"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1134,"column":1},"end":{"line":1140,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1134,"column":1},"end":{"line":1134,"column":1}},"children":[{"type":"text","value":"ä¹°å…¥ 100@8$","position":{"start":{"line":1134,"column":1},"end":{"line":1134,"column":1}},"key":"MJqRdxHz4z"}],"key":"IY9Vvi2WlB"},{"type":"listItem","spread":true,"position":{"start":{"line":1135,"column":1},"end":{"line":1135,"column":1}},"children":[{"type":"text","value":"ä¹°å…¥ 100@9$ -> å¹³å‡ä»·æ ¼ï¼š8.5$","position":{"start":{"line":1135,"column":1},"end":{"line":1135,"column":1}},"key":"ny3KZ7MvSi"}],"key":"jXbWgc1heU"},{"type":"listItem","spread":true,"position":{"start":{"line":1136,"column":1},"end":{"line":1136,"column":1}},"children":[{"type":"text","value":"å–å‡º 100@10$ -> å¹³å‡ä»·æ ¼ï¼š8.5$ï¼Œå·²å®ç°åˆ©æ¶¦ 150$ï¼Œ17.65%","position":{"start":{"line":1136,"column":1},"end":{"line":1136,"column":1}},"key":"JgwqNr2P3B"}],"key":"tWrdSm4iUv"},{"type":"listItem","spread":true,"position":{"start":{"line":1137,"column":1},"end":{"line":1137,"column":1}},"children":[{"type":"text","value":"ä¹°å…¥ 150@11$ -> å¹³å‡ä»·æ ¼ï¼š10$ï¼Œå·²å®ç°åˆ©æ¶¦ 150$ï¼Œ17.65%","position":{"start":{"line":1137,"column":1},"end":{"line":1137,"column":1}},"key":"D9O9nlegCA"}],"key":"JhvXB6pPQO"},{"type":"listItem","spread":true,"position":{"start":{"line":1138,"column":1},"end":{"line":1138,"column":1}},"children":[{"type":"text","value":"å–å‡º 100@12$ -> å¹³å‡ä»·æ ¼ï¼š10$ï¼Œæ€»å·²å®ç°åˆ©æ¶¦ 350$ï¼Œ20%","position":{"start":{"line":1138,"column":1},"end":{"line":1138,"column":1}},"key":"Xqn0L0yPO8"}],"key":"giQzGkMoMy"},{"type":"listItem","spread":true,"position":{"start":{"line":1139,"column":1},"end":{"line":1140,"column":1}},"children":[{"type":"text","value":"å–å‡º 150@14$ -> å¹³å‡ä»·æ ¼ï¼š10$ï¼Œæ€»å·²å®ç°åˆ©æ¶¦ 950$ï¼Œ40%  <- ","position":{"start":{"line":1139,"column":1},"end":{"line":1139,"column":1}},"key":"yUiopDS1G8"},{"type":"emphasis","position":{"start":{"line":1139,"column":1},"end":{"line":1139,"column":1}},"children":[{"type":"text","value":"è¿™å°†æ˜¯æœ€åçš„\"å‡ºåœº\"æ¶ˆæ¯","position":{"start":{"line":1139,"column":1},"end":{"line":1139,"column":1}},"key":"oAP3rzEMKK"}],"key":"CsvOFQcmqZ"}],"key":"BoV4GN9YmF"}],"key":"FACeYBOYLk"},{"type":"paragraph","position":{"start":{"line":1141,"column":1},"end":{"line":1141,"column":1}},"children":[{"type":"text","value":"è¿™ç¬”äº¤æ˜“çš„æ€»åˆ©æ¶¦æ˜¯ 950$ï¼Œæ€»æŠ•èµ„ä¸º 3350$ï¼ˆ","position":{"start":{"line":1141,"column":1},"end":{"line":1141,"column":1}},"key":"kdwb6MfiC2"},{"type":"inlineCode","value":"100@8$ + 100@9$ + 150@11$","position":{"start":{"line":1141,"column":1},"end":{"line":1141,"column":1}},"key":"FVFMvdugdw"},{"type":"text","value":"ï¼‰ã€‚å› æ­¤ï¼Œæœ€ç»ˆç›¸å¯¹åˆ©æ¶¦ä¸º 28.35%ï¼ˆ","position":{"start":{"line":1141,"column":1},"end":{"line":1141,"column":1}},"key":"abLzUwoTuC"},{"type":"inlineCode","value":"950 / 3350","position":{"start":{"line":1141,"column":1},"end":{"line":1141,"column":1}},"key":"lmEssrlPwp"},{"type":"text","value":"ï¼‰ã€‚","position":{"start":{"line":1141,"column":1},"end":{"line":1141,"column":1}},"key":"WL29hhDwKQ"}],"key":"D2MkzF97uu"}],"key":"X8A3V0uo2Z"},{"type":"heading","depth":3,"position":{"start":{"line":1144,"column":1},"end":{"line":1144,"column":1}},"children":[{"type":"text","value":"è°ƒæ•´è®¢å•ä»·æ ¼","position":{"start":{"line":1144,"column":1},"end":{"line":1144,"column":1}},"key":"ZMZGo0RcR1"}],"identifier":"id","label":"è°ƒæ•´è®¢å•ä»·æ ¼","html_id":"id-24","implicit":true,"key":"myqmQhMtb6"},{"type":"paragraph","position":{"start":{"line":1146,"column":1},"end":{"line":1146,"column":1}},"children":[{"type":"text","value":"ç­–ç•¥å¼€å‘è€…å¯ä»¥ä½¿ç”¨ ","position":{"start":{"line":1146,"column":1},"end":{"line":1146,"column":1}},"key":"XFTd27V0FF"},{"type":"inlineCode","value":"adjust_order_price()","position":{"start":{"line":1146,"column":1},"end":{"line":1146,"column":1}},"key":"RgzFlNajCb"},{"type":"text","value":" å›è°ƒåœ¨æ–°Kçº¿åˆ°è¾¾æ—¶åˆ·æ–°/æ›¿æ¢é™ä»·è®¢å•ã€‚","position":{"start":{"line":1146,"column":1},"end":{"line":1146,"column":1}},"key":"RZaA2vtrHb"}],"key":"JsHubt26ev"},{"type":"paragraph","position":{"start":{"line":1148,"column":1},"end":{"line":1148,"column":1}},"children":[{"type":"text","value":"é™¤éè®¢å•åœ¨å½“å‰Kçº¿å†…å·²è¢«ï¼ˆé‡æ–°ï¼‰æ”¾ç½®ï¼Œå¦åˆ™æ­¤å›è°ƒåœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ - é™åˆ¶æ¯ä¸ªè®¢å•çš„æœ€å¤§ï¼ˆé‡æ–°ï¼‰æ”¾ç½®æ¬¡æ•°ä¸ºæ¯æ ¹Kçº¿ä¸€æ¬¡ã€‚","position":{"start":{"line":1148,"column":1},"end":{"line":1148,"column":1}},"key":"SNoF5VY5HN"}],"key":"sY8g8bdtAk"},{"type":"paragraph","position":{"start":{"line":1150,"column":1},"end":{"line":1150,"column":1}},"children":[{"type":"text","value":"è¿™ä¹Ÿæ„å‘³ç€ç¬¬ä¸€æ¬¡è°ƒç”¨å°†åœ¨åˆå§‹è®¢å•æ”¾ç½®åçš„ä¸‹ä¸€æ ¹Kçº¿å¼€å§‹æ—¶è¿›è¡Œã€‚","position":{"start":{"line":1150,"column":1},"end":{"line":1150,"column":1}},"key":"nckCBX8XQg"}],"key":"LHsTDDk2hw"},{"type":"paragraph","position":{"start":{"line":1152,"column":1},"end":{"line":1152,"column":1}},"children":[{"type":"text","value":"è¯·æ³¨æ„ï¼Œ","position":{"start":{"line":1152,"column":1},"end":{"line":1152,"column":1}},"key":"zqypXzgPyX"},{"type":"inlineCode","value":"custom_entry_price()","position":{"start":{"line":1152,"column":1},"end":{"line":1152,"column":1}},"key":"Pik1xZUZ60"},{"type":"text","value":"/","position":{"start":{"line":1152,"column":1},"end":{"line":1152,"column":1}},"key":"xzgMDGAK9O"},{"type":"inlineCode","value":"custom_exit_price()","position":{"start":{"line":1152,"column":1},"end":{"line":1152,"column":1}},"key":"cW874YOvxu"},{"type":"text","value":" ä»ç„¶æ˜¯åœ¨ä¿¡å·å‘å‡ºæ—¶å†³å®šåˆå§‹é™ä»·è®¢å•ä»·æ ¼ç›®æ ‡çš„æ–¹æ³•ã€‚","position":{"start":{"line":1152,"column":1},"end":{"line":1152,"column":1}},"key":"yMKtHt0kHQ"}],"key":"O2WGGbnmCm"},{"type":"paragraph","position":{"start":{"line":1154,"column":1},"end":{"line":1154,"column":1}},"children":[{"type":"text","value":"å¯ä»¥é€šè¿‡è¿”å› ","position":{"start":{"line":1154,"column":1},"end":{"line":1154,"column":1}},"key":"vXxKhK8DzF"},{"type":"inlineCode","value":"None","position":{"start":{"line":1154,"column":1},"end":{"line":1154,"column":1}},"key":"LAkowjuxWL"},{"type":"text","value":" æ¥å–æ¶ˆæ­¤å›è°ƒä¸­çš„è®¢å•ã€‚","position":{"start":{"line":1154,"column":1},"end":{"line":1154,"column":1}},"key":"xJFl2Rivzw"}],"key":"VhLewFCRZj"},{"type":"paragraph","position":{"start":{"line":1156,"column":1},"end":{"line":1156,"column":1}},"children":[{"type":"text","value":"è¿”å› ","position":{"start":{"line":1156,"column":1},"end":{"line":1156,"column":1}},"key":"fqVSu50y7h"},{"type":"inlineCode","value":"current_order_rate","position":{"start":{"line":1156,"column":1},"end":{"line":1156,"column":1}},"key":"WF0gUqheqf"},{"type":"text","value":" å°†ä¿æŒè®¢å•åœ¨äº¤æ˜“æ‰€\"åŸæ ·\"ã€‚","position":{"start":{"line":1156,"column":1},"end":{"line":1156,"column":1}},"key":"ik1YoHT0vV"}],"key":"Uz5sj4uuZz"},{"type":"paragraph","position":{"start":{"line":1158,"column":1},"end":{"line":1158,"column":1}},"children":[{"type":"text","value":"è¿”å›ä»»ä½•å…¶ä»–ä»·æ ¼å°†å–æ¶ˆç°æœ‰è®¢å•ï¼Œå¹¶æ›¿æ¢ä¸ºæ–°è®¢å•ã€‚","position":{"start":{"line":1158,"column":1},"end":{"line":1158,"column":1}},"key":"ZN6M85Zq7C"}],"key":"baolfT4c3g"},{"type":"paragraph","position":{"start":{"line":1160,"column":1},"end":{"line":1161,"column":1}},"children":[{"type":"text","value":"å¦‚æœåŸå§‹è®¢å•çš„å–æ¶ˆå¤±è´¥ï¼Œåˆ™ä¸ä¼šæ›¿æ¢è®¢å• - å°½ç®¡è®¢å•å¾ˆå¯èƒ½å·²åœ¨äº¤æ˜“æ‰€è¢«å–æ¶ˆã€‚å¦‚æœè¿™ç§æƒ…å†µå‘ç”Ÿåœ¨åˆå§‹å…¥åœºæ—¶ï¼Œå°†å¯¼è‡´è®¢å•è¢«åˆ é™¤ï¼Œè€Œåœ¨ä»“ä½è°ƒæ•´è®¢å•ä¸­ï¼Œå°†å¯¼è‡´äº¤æ˜“è§„æ¨¡ä¿æŒä¸å˜ã€‚","position":{"start":{"line":1160,"column":1},"end":{"line":1160,"column":1}},"key":"RZi52dg7oa"},{"type":"break","position":{"start":{"line":1160,"column":1},"end":{"line":1160,"column":1}},"key":"tXmZaqWbLV"},{"type":"text","value":"å¦‚æœè®¢å•å·²éƒ¨åˆ†æˆäº¤ï¼Œåˆ™ä¸ä¼šæ›¿æ¢è®¢å•ã€‚ä½†æ˜¯ï¼Œå¦‚æœéœ€è¦/å¸Œæœ›ï¼Œä½ å¯ä»¥ä½¿ç”¨ ","position":{"start":{"line":1160,"column":1},"end":{"line":1160,"column":1}},"key":"ebhLUpPCDi"},{"type":"crossReference","position":{"start":{"line":1160,"column":1},"end":{"line":1160,"column":1}},"children":[{"type":"inlineCode","value":"adjust_trade_position()","position":{"start":{"line":1160,"column":1},"end":{"line":1160,"column":1}},"key":"IcQ4W9O4gu"}],"identifier":"adjust-trade-position","label":"adjust-trade-position","kind":"heading","template":"{name}","resolved":true,"html_id":"adjust-trade-position","key":"ASTMpYwkXx"},{"type":"text","value":" æ¥è°ƒæ•´äº¤æ˜“è§„æ¨¡åˆ°é¢„æœŸçš„ä»“ä½å¤§å°ã€‚","position":{"start":{"line":1160,"column":1},"end":{"line":1160,"column":1}},"key":"pzPj10xwoz"}],"key":"fl9wILx6i0"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"å¸¸è§„è¶…æ—¶","position":{"start":{"line":1163,"column":1},"end":{"line":1163,"column":1}},"key":"znSGvfcUvX"}],"key":"KAHUGvw9yI"},{"type":"paragraph","position":{"start":{"line":1164,"column":1},"end":{"line":1164,"column":1}},"children":[{"type":"text","value":"å…¥åœº ","position":{"start":{"line":1164,"column":1},"end":{"line":1164,"column":1}},"key":"gKofk2pjxq"},{"type":"inlineCode","value":"unfilledtimeout","position":{"start":{"line":1164,"column":1},"end":{"line":1164,"column":1}},"key":"a58uhqv4ZH"},{"type":"text","value":" æœºåˆ¶ï¼ˆä»¥åŠ ","position":{"start":{"line":1164,"column":1},"end":{"line":1164,"column":1}},"key":"CscZ76SM6R"},{"type":"inlineCode","value":"check_entry_timeout()","position":{"start":{"line":1164,"column":1},"end":{"line":1164,"column":1}},"key":"gUcc4Ctb7V"},{"type":"text","value":"/","position":{"start":{"line":1164,"column":1},"end":{"line":1164,"column":1}},"key":"FLcpDTIYVJ"},{"type":"inlineCode","value":"check_exit_timeout()","position":{"start":{"line":1164,"column":1},"end":{"line":1164,"column":1}},"key":"GcxoyiHur9"},{"type":"text","value":"ï¼‰ä¼˜å…ˆäºæ­¤å›è°ƒã€‚","position":{"start":{"line":1164,"column":1},"end":{"line":1164,"column":1}},"key":"PRAiGk3dzC"}],"key":"yBGO9dXYc6"},{"type":"paragraph","position":{"start":{"line":1166,"column":1},"end":{"line":1166,"column":1}},"children":[{"type":"text","value":"é€šè¿‡ä¸Šè¿°æ–¹æ³•å–æ¶ˆçš„è®¢å•ä¸ä¼šè°ƒç”¨æ­¤å›è°ƒã€‚è¯·ç¡®ä¿æ›´æ–°è¶…æ—¶å€¼ä»¥ç¬¦åˆä½ çš„é¢„æœŸã€‚","position":{"start":{"line":1166,"column":1},"end":{"line":1166,"column":1}},"key":"eS8uz7MXm2"}],"key":"iM4hkdIYKE"}],"key":"UPD38Cax1d"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n\n    # ... populate_* methods\n\n    def adjust_order_price(\n        self,\n        trade: Trade,\n        order: Order | None,\n        pair: str,\n        current_time: datetime,\n        proposed_rate: float,\n        current_order_rate: float,\n        entry_tag: str | None,\n        side: str,\n        is_entry: bool,\n        **kwargs,\n    ) -> float | None:\n        \"\"\"\n        Exit and entry order price re-adjustment logic, returning the user desired limit price.\n        This only executes when a order was already placed, still open (unfilled fully or partially)\n        and not timed out on subsequent candles after entry trigger.\n\n        For full documentation please go to https://www.freqtrade.io/en/latest/strategy-callbacks/\n\n        When not implemented by a strategy, returns current_order_rate as default.\n        If current_order_rate is returned then the existing order is maintained.\n        If None is returned then order gets canceled but not replaced by a new one.\n\n        :param pair: Pair that's currently analyzed\n        :param trade: Trade object.\n        :param order: Order object\n        :param current_time: datetime object, containing the current datetime\n        :param proposed_rate: Rate, calculated based on pricing settings in entry_pricing.\n        :param current_order_rate: Rate of the existing order in place.\n        :param entry_tag: Optional entry_tag (buy_tag) if provided with the buy signal.\n        :param side: 'long' or 'short' - indicating the direction of the proposed trade\n        :param is_entry: True if the order is an entry order, False if it's an exit order.\n        :param **kwargs: Ensure to keep this here so updates to this won't break your strategy.\n        :return float or None: New entry price value if provided\n        \"\"\"\n\n        # Limit entry orders to use and follow SMA200 as price target for the first 10 minutes since entry trigger for BTC/USDT pair.\n        if (\n            is_entry\n            and pair == \"BTC/USDT\" \n            and entry_tag == \"long_sma200\" \n            and side == \"long\" \n            and (current_time - timedelta(minutes=10)) <= trade.open_date_utc\n        ):\n            # just cancel the order if it has been filled more than half of the amount\n            if order.filled > order.remaining:\n                return None\n            else:\n                dataframe, _ = self.dp.get_analyzed_dataframe(pair=pair, timeframe=self.timeframe)\n                current_candle = dataframe.iloc[-1].squeeze()\n                # desired price\n                return current_candle[\"sma_200\"]\n        # default: maintain existing order\n        return current_order_rate","position":{"start":{"line":1169,"column":1},"end":{"line":1231,"column":1}},"key":"KKXgpQ5NMQ"},{"type":"admonition","kind":"danger","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"ä¸ ","position":{"start":{"line":1233,"column":1},"end":{"line":1233,"column":1}},"key":"KEGBx6Tyok"},{"type":"inlineCode","value":"adjust_*_price()","position":{"start":{"line":1233,"column":1},"end":{"line":1233,"column":1}},"key":"f6Nm0jGG15"},{"type":"text","value":" çš„ä¸å…¼å®¹æ€§","position":{"start":{"line":1233,"column":1},"end":{"line":1233,"column":1}},"key":"EfrQYafZkU"}],"key":"zuoEeSz8ov"},{"type":"paragraph","position":{"start":{"line":1234,"column":1},"end":{"line":1234,"column":1}},"children":[{"type":"text","value":"å¦‚æœä½ åŒæ—¶å®ç°äº† ","position":{"start":{"line":1234,"column":1},"end":{"line":1234,"column":1}},"key":"IENGTahFCS"},{"type":"inlineCode","value":"adjust_order_price()","position":{"start":{"line":1234,"column":1},"end":{"line":1234,"column":1}},"key":"UFO4gUEHIC"},{"type":"text","value":" å’Œ ","position":{"start":{"line":1234,"column":1},"end":{"line":1234,"column":1}},"key":"sVWX2EGwWZ"},{"type":"inlineCode","value":"adjust_entry_price()","position":{"start":{"line":1234,"column":1},"end":{"line":1234,"column":1}},"key":"NSRL2Dg1fn"},{"type":"text","value":"/","position":{"start":{"line":1234,"column":1},"end":{"line":1234,"column":1}},"key":"EgO2jJAfkR"},{"type":"inlineCode","value":"adjust_exit_price()","position":{"start":{"line":1234,"column":1},"end":{"line":1234,"column":1}},"key":"jPwl3oqCbi"},{"type":"text","value":"ï¼Œåˆ™åªä¼šä½¿ç”¨ ","position":{"start":{"line":1234,"column":1},"end":{"line":1234,"column":1}},"key":"UmV1P1jeOj"},{"type":"inlineCode","value":"adjust_order_price()","position":{"start":{"line":1234,"column":1},"end":{"line":1234,"column":1}},"key":"bCZYROONUU"},{"type":"text","value":"ã€‚","position":{"start":{"line":1234,"column":1},"end":{"line":1234,"column":1}},"key":"Ecc7B966YR"}],"key":"IWRx4cIf03"},{"type":"paragraph","position":{"start":{"line":1236,"column":1},"end":{"line":1236,"column":1}},"children":[{"type":"text","value":"å¦‚æœä½ éœ€è¦è°ƒæ•´å…¥åœº/å‡ºåœºä»·æ ¼ï¼Œä½ å¯ä»¥é€‰æ‹©åœ¨ ","position":{"start":{"line":1236,"column":1},"end":{"line":1236,"column":1}},"key":"hjLIhgvlS5"},{"type":"inlineCode","value":"adjust_order_price()","position":{"start":{"line":1236,"column":1},"end":{"line":1236,"column":1}},"key":"weYmaa9G0f"},{"type":"text","value":" ä¸­å®ç°é€»è¾‘ï¼Œæˆ–è€…ä½¿ç”¨åˆ†å¼€çš„ ","position":{"start":{"line":1236,"column":1},"end":{"line":1236,"column":1}},"key":"pvD4pzgNaJ"},{"type":"inlineCode","value":"adjust_entry_price()","position":{"start":{"line":1236,"column":1},"end":{"line":1236,"column":1}},"key":"j5WRhLmCnZ"},{"type":"text","value":" / ","position":{"start":{"line":1236,"column":1},"end":{"line":1236,"column":1}},"key":"ODa56L4nN5"},{"type":"inlineCode","value":"adjust_exit_price()","position":{"start":{"line":1236,"column":1},"end":{"line":1236,"column":1}},"key":"GJOmU6i8IB"},{"type":"text","value":" å›è°ƒï¼Œä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨ä¸¤è€…ã€‚","position":{"start":{"line":1236,"column":1},"end":{"line":1236,"column":1}},"key":"ztLuhob03N"}],"key":"OOkhwxL72n"},{"type":"paragraph","position":{"start":{"line":1238,"column":1},"end":{"line":1238,"column":1}},"children":[{"type":"text","value":"æ··åˆä½¿ç”¨è¿™äº›åŠŸèƒ½æ˜¯ä¸æ”¯æŒçš„ï¼Œä¼šåœ¨æœºå™¨äººå¯åŠ¨æ—¶å¼•å‘é”™è¯¯ã€‚","position":{"start":{"line":1238,"column":1},"end":{"line":1238,"column":1}},"key":"Zwbpqt1hNH"}],"key":"sri1WjEUmF"}],"key":"rB9rX1sJ3Y"},{"type":"heading","depth":4,"position":{"start":{"line":1241,"column":1},"end":{"line":1241,"column":1}},"children":[{"type":"text","value":"è°ƒæ•´å…¥åœºä»·æ ¼","position":{"start":{"line":1241,"column":1},"end":{"line":1241,"column":1}},"key":"gbOpmNv3JV"}],"identifier":"id","label":"è°ƒæ•´å…¥åœºä»·æ ¼","html_id":"id-25","implicit":true,"key":"AJFSDXKdDz"},{"type":"paragraph","position":{"start":{"line":1243,"column":1},"end":{"line":1243,"column":1}},"children":[{"type":"text","value":"ç­–ç•¥å¼€å‘è€…å¯ä»¥ä½¿ç”¨ ","position":{"start":{"line":1243,"column":1},"end":{"line":1243,"column":1}},"key":"m1t7Asfjzz"},{"type":"inlineCode","value":"adjust_entry_price()","position":{"start":{"line":1243,"column":1},"end":{"line":1243,"column":1}},"key":"d538jfyZs7"},{"type":"text","value":" å›è°ƒåœ¨æ–°Kçº¿åˆ°è¾¾æ—¶åˆ·æ–°/æ›¿æ¢å…¥åœºé™ä»·è®¢å•ã€‚","position":{"start":{"line":1243,"column":1},"end":{"line":1243,"column":1}},"key":"uWGbLWjzsB"}],"key":"V1jlb0ui85"},{"type":"paragraph","position":{"start":{"line":1245,"column":1},"end":{"line":1245,"column":1}},"children":[{"type":"text","value":"è¿™æ˜¯ ","position":{"start":{"line":1245,"column":1},"end":{"line":1245,"column":1}},"key":"leGvLzdXbl"},{"type":"inlineCode","value":"adjust_order_price()","position":{"start":{"line":1245,"column":1},"end":{"line":1245,"column":1}},"key":"NmXhDVnfkr"},{"type":"text","value":" çš„ä¸€ä¸ªå­é›†ï¼Œä»…ç”¨äºå…¥åœºè®¢å•ã€‚","position":{"start":{"line":1245,"column":1},"end":{"line":1245,"column":1}},"key":"JHUlPIM6LM"}],"key":"rNTRPdnzXG"},{"type":"paragraph","position":{"start":{"line":1247,"column":1},"end":{"line":1247,"column":1}},"children":[{"type":"text","value":"å…¶ä½™æ‰€æœ‰è¡Œä¸ºä¸ ","position":{"start":{"line":1247,"column":1},"end":{"line":1247,"column":1}},"key":"uOOFgsxvDc"},{"type":"inlineCode","value":"adjust_order_price()","position":{"start":{"line":1247,"column":1},"end":{"line":1247,"column":1}},"key":"LYK1Hypz4v"},{"type":"text","value":" ç›¸åŒã€‚","position":{"start":{"line":1247,"column":1},"end":{"line":1247,"column":1}},"key":"LwASTINL1t"}],"key":"cLmXZr7lYV"},{"type":"paragraph","position":{"start":{"line":1249,"column":1},"end":{"line":1249,"column":1}},"children":[{"type":"text","value":"äº¤æ˜“å¼€å§‹æ—¥æœŸï¼ˆ","position":{"start":{"line":1249,"column":1},"end":{"line":1249,"column":1}},"key":"wpkFgw2EZc"},{"type":"inlineCode","value":"trade.open_date_utc","position":{"start":{"line":1249,"column":1},"end":{"line":1249,"column":1}},"key":"qbqNPEVxyi"},{"type":"text","value":"ï¼‰å°†ä¿æŒåœ¨ç¬¬ä¸€ä¸ªè®¢å•æ”¾ç½®çš„æ—¶é—´ã€‚","position":{"start":{"line":1249,"column":1},"end":{"line":1249,"column":1}},"key":"RN6uL9nFg7"}],"key":"AfHHhXLzAv"},{"type":"paragraph","position":{"start":{"line":1251,"column":1},"end":{"line":1251,"column":1}},"children":[{"type":"text","value":"è¯·ç¡®ä¿æ³¨æ„è¿™ä¸€ç‚¹ - å¹¶ç›¸åº”åœ°è°ƒæ•´å…¶ä»–å›è°ƒä¸­çš„é€»è¾‘ï¼Œä½¿ç”¨ç¬¬ä¸€ä¸ªæˆäº¤è®¢å•çš„æ—¥æœŸã€‚","position":{"start":{"line":1251,"column":1},"end":{"line":1251,"column":1}},"key":"vfzLJRORTM"}],"key":"f5bobm1Hie"},{"type":"heading","depth":4,"position":{"start":{"line":1253,"column":1},"end":{"line":1253,"column":1}},"children":[{"type":"text","value":"è°ƒæ•´å‡ºåœºä»·æ ¼","position":{"start":{"line":1253,"column":1},"end":{"line":1253,"column":1}},"key":"UEquF51JcN"}],"identifier":"id","label":"è°ƒæ•´å‡ºåœºä»·æ ¼","html_id":"id-26","implicit":true,"key":"HgsPLcamVk"},{"type":"paragraph","position":{"start":{"line":1255,"column":1},"end":{"line":1255,"column":1}},"children":[{"type":"text","value":"ç­–ç•¥å¼€å‘è€…å¯ä»¥ä½¿ç”¨ ","position":{"start":{"line":1255,"column":1},"end":{"line":1255,"column":1}},"key":"v2P5TRgzYS"},{"type":"inlineCode","value":"adjust_exit_price()","position":{"start":{"line":1255,"column":1},"end":{"line":1255,"column":1}},"key":"jlFUxZcdqO"},{"type":"text","value":" å›è°ƒåœ¨æ–°Kçº¿åˆ°è¾¾æ—¶åˆ·æ–°/æ›¿æ¢å‡ºåœºé™ä»·è®¢å•ã€‚","position":{"start":{"line":1255,"column":1},"end":{"line":1255,"column":1}},"key":"DX1KBJ1Uut"}],"key":"J0Gr1tOaRM"},{"type":"paragraph","position":{"start":{"line":1257,"column":1},"end":{"line":1257,"column":1}},"children":[{"type":"text","value":"è¿™æ˜¯ ","position":{"start":{"line":1257,"column":1},"end":{"line":1257,"column":1}},"key":"ICMADkLb7o"},{"type":"inlineCode","value":"adjust_order_price()","position":{"start":{"line":1257,"column":1},"end":{"line":1257,"column":1}},"key":"DOp7LrzCQw"},{"type":"text","value":" çš„ä¸€ä¸ªå­é›†ï¼Œä»…ç”¨äºå‡ºåœºè®¢å•ã€‚","position":{"start":{"line":1257,"column":1},"end":{"line":1257,"column":1}},"key":"eBxQe9tirO"}],"key":"OFScKk5Dkw"},{"type":"paragraph","position":{"start":{"line":1259,"column":1},"end":{"line":1259,"column":1}},"children":[{"type":"text","value":"å…¶ä½™æ‰€æœ‰è¡Œä¸ºä¸ ","position":{"start":{"line":1259,"column":1},"end":{"line":1259,"column":1}},"key":"IHv6v3wDO5"},{"type":"inlineCode","value":"adjust_order_price()","position":{"start":{"line":1259,"column":1},"end":{"line":1259,"column":1}},"key":"WvF6acx4hS"},{"type":"text","value":" ç›¸åŒã€‚","position":{"start":{"line":1259,"column":1},"end":{"line":1259,"column":1}},"key":"HpKzUANhFj"}],"key":"ofgCjpfhyY"},{"type":"heading","depth":3,"position":{"start":{"line":1261,"column":1},"end":{"line":1261,"column":1}},"children":[{"type":"text","value":"æ æ†å›è°ƒ","position":{"start":{"line":1261,"column":1},"end":{"line":1261,"column":1}},"key":"UY63mz2EWG"}],"identifier":"id","label":"æ æ†å›è°ƒ","html_id":"id-27","implicit":true,"key":"ZmMCvDceKk"},{"type":"paragraph","position":{"start":{"line":1263,"column":1},"end":{"line":1263,"column":1}},"children":[{"type":"text","value":"åœ¨å…è®¸æ æ†äº¤æ˜“çš„å¸‚åœºä¸­ï¼Œæ­¤æ–¹æ³•å¿…é¡»è¿”å›æ‰€éœ€çš„æ æ†å€æ•°ï¼ˆé»˜è®¤ä¸º 1 -> æ— æ æ†ï¼‰ã€‚","position":{"start":{"line":1263,"column":1},"end":{"line":1263,"column":1}},"key":"xO8OoJP9pd"}],"key":"RJp61bM8gP"},{"type":"paragraph","position":{"start":{"line":1265,"column":1},"end":{"line":1265,"column":1}},"children":[{"type":"text","value":"å‡è®¾èµ„é‡‘ä¸º 500USDTï¼Œæ æ†å€æ•°ä¸º 3 çš„äº¤æ˜“å°†äº§ç”Ÿ 500 x 3 = 1500 USDT çš„ä»“ä½ã€‚","position":{"start":{"line":1265,"column":1},"end":{"line":1265,"column":1}},"key":"IxmpnTMl2M"}],"key":"SuJp7IbEYZ"},{"type":"paragraph","position":{"start":{"line":1267,"column":1},"end":{"line":1268,"column":1}},"children":[{"type":"text","value":"è¶…è¿‡ ","position":{"start":{"line":1267,"column":1},"end":{"line":1267,"column":1}},"key":"uFDa5Fcra5"},{"type":"inlineCode","value":"max_leverage","position":{"start":{"line":1267,"column":1},"end":{"line":1267,"column":1}},"key":"xjLnlxuGHW"},{"type":"text","value":" çš„å€¼å°†è¢«è°ƒæ•´ä¸º ","position":{"start":{"line":1267,"column":1},"end":{"line":1267,"column":1}},"key":"XMmSeI2bES"},{"type":"inlineCode","value":"max_leverage","position":{"start":{"line":1267,"column":1},"end":{"line":1267,"column":1}},"key":"KqR3iGUvDc"},{"type":"text","value":"ã€‚\nå¯¹äºä¸æ”¯æŒæ æ†çš„å¸‚åœº/äº¤æ˜“æ‰€ï¼Œæ­¤æ–¹æ³•å°†è¢«å¿½ç•¥ã€‚","position":{"start":{"line":1267,"column":1},"end":{"line":1267,"column":1}},"key":"W2YQHC0PSY"}],"key":"dJcfptfW6T"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n    def leverage(self, pair: str, current_time: datetime, current_rate: float,\n                 proposed_leverage: float, max_leverage: float, entry_tag: str | None, side: str,\n                 **kwargs) -> float:\n        \"\"\"\n        Customize leverage for each new trade. This method is only called in futures mode.\n\n        :param pair: Pair that's currently analyzed\n        :param current_time: datetime object, containing the current datetime\n        :param current_rate: Rate, calculated based on pricing settings in exit_pricing.\n        :param proposed_leverage: A leverage proposed by the bot.\n        :param max_leverage: Max leverage allowed on this pair\n        :param entry_tag: Optional entry_tag (buy_tag) if provided with the buy signal.\n        :param side: \"long\" or \"short\" - indicating the direction of the proposed trade\n        :return: A leverage amount, which is between 1.0 and max_leverage.\n        \"\"\"\n        return 1.0","position":{"start":{"line":1270,"column":1},"end":{"line":1290,"column":1}},"key":"olEZ3S8Xr2"},{"type":"paragraph","position":{"start":{"line":1292,"column":1},"end":{"line":1292,"column":1}},"children":[{"type":"text","value":"æ‰€æœ‰åˆ©æ¶¦è®¡ç®—éƒ½åŒ…å«æ æ†ã€‚æ­¢æŸå’Œ ROI çš„è®¡ç®—ä¹ŸåŒ…å«æ æ†ã€‚","position":{"start":{"line":1292,"column":1},"end":{"line":1292,"column":1}},"key":"N4BWkxTYh4"}],"key":"ihC8KSOugJ"},{"type":"paragraph","position":{"start":{"line":1294,"column":1},"end":{"line":1294,"column":1}},"children":[{"type":"text","value":"åœ¨ 10 å€æ æ†ä¸‹è®¾ç½® 10% çš„æ­¢æŸï¼Œå°†åœ¨ä»·æ ¼ä¸‹è·Œ 1% æ—¶è§¦å‘æ­¢æŸã€‚","position":{"start":{"line":1294,"column":1},"end":{"line":1294,"column":1}},"key":"Fp5pX6eWoD"}],"key":"eZ1xmAwpWr"},{"type":"heading","depth":3,"position":{"start":{"line":1296,"column":1},"end":{"line":1296,"column":1}},"children":[{"type":"text","value":"è®¢å•æˆäº¤å›è°ƒ","position":{"start":{"line":1296,"column":1},"end":{"line":1296,"column":1}},"key":"fCz72rJ0Sp"}],"identifier":"id","label":"è®¢å•æˆäº¤å›è°ƒ","html_id":"id-28","implicit":true,"key":"W4qdhTgLQw"},{"type":"paragraph","position":{"start":{"line":1298,"column":1},"end":{"line":1298,"column":1}},"children":[{"type":"inlineCode","value":"order_filled()","position":{"start":{"line":1298,"column":1},"end":{"line":1298,"column":1}},"key":"D7Iu0PvDBX"},{"type":"text","value":" å›è°ƒå¯ç”¨äºåœ¨è®¢å•æˆäº¤åæ ¹æ®å½“å‰äº¤æ˜“çŠ¶æ€æ‰§è¡Œç‰¹å®šæ“ä½œã€‚","position":{"start":{"line":1298,"column":1},"end":{"line":1298,"column":1}},"key":"uY47cycAET"}],"key":"G8ZPr2ryRx"},{"type":"paragraph","position":{"start":{"line":1300,"column":1},"end":{"line":1300,"column":1}},"children":[{"type":"text","value":"å®ƒå°†ç‹¬ç«‹äºè®¢å•ç±»å‹ï¼ˆå…¥åœºã€å‡ºåœºã€æ­¢æŸæˆ–ä»“ä½è°ƒæ•´ï¼‰è¢«è°ƒç”¨ã€‚","position":{"start":{"line":1300,"column":1},"end":{"line":1300,"column":1}},"key":"NHYaMJEIjB"}],"key":"JfgAFUQNBg"},{"type":"paragraph","position":{"start":{"line":1302,"column":1},"end":{"line":1302,"column":1}},"children":[{"type":"text","value":"å‡è®¾ä½ çš„ç­–ç•¥éœ€è¦åœ¨å¼€ä»“æ—¶å­˜å‚¨è¯¥ K çº¿çš„æœ€é«˜ä»·ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹ç¤ºä¾‹æ‰€ç¤ºçš„å›è°ƒå®ç°è¿™ä¸€ç‚¹ã€‚","position":{"start":{"line":1302,"column":1},"end":{"line":1302,"column":1}},"key":"EMrl0s5W1r"}],"key":"LjoQktTRQe"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n    def order_filled(self, pair: str, trade: Trade, order: Order, current_time: datetime, **kwargs) -> None:\n        \"\"\"\n        Called right after an order fills. \n        Will be called for all order types (entry, exit, stoploss, position adjustment).\n        :param pair: Pair for trade\n        :param trade: trade object.\n        :param order: Order object.\n        :param current_time: datetime object, containing the current datetime\n        :param **kwargs: Ensure to keep this here so updates to this won't break your strategy.\n        \"\"\"\n        # Obtain pair dataframe (just to show how to access it)\n        dataframe, _ = self.dp.get_analyzed_dataframe(trade.pair, self.timeframe)\n        last_candle = dataframe.iloc[-1].squeeze()\n        \n        if (trade.nr_of_successful_entries == 1) and (order.ft_order_side == trade.entry_side):\n            trade.set_custom_data(key=\"entry_candle_high\", value=last_candle[\"high\"])\n\n        return None\n","position":{"start":{"line":1304,"column":1},"end":{"line":1327,"column":1}},"key":"Owj3ckKuRl"},{"type":"heading","depth":3,"position":{"start":{"line":1329,"column":1},"end":{"line":1329,"column":1}},"children":[{"type":"text","value":"å›¾è¡¨æ³¨é‡Šå›è°ƒ","position":{"start":{"line":1329,"column":1},"end":{"line":1329,"column":1}},"key":"gcCVsLZPE2"}],"identifier":"id","label":"å›¾è¡¨æ³¨é‡Šå›è°ƒ","html_id":"id-29","implicit":true,"key":"GTdECNLdFk"},{"type":"paragraph","position":{"start":{"line":1331,"column":1},"end":{"line":1332,"column":1}},"children":[{"type":"text","value":"æ¯å½“ freqUI è¯·æ±‚æ˜¾ç¤ºå›¾è¡¨æ•°æ®æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨å›¾è¡¨æ³¨é‡Šå›è°ƒã€‚\næ­¤å›è°ƒåœ¨äº¤æ˜“å‘¨æœŸä¸­æ²¡æœ‰å®é™…æ„ä¹‰ï¼Œä»…ç”¨äºå›¾è¡¨å±•ç¤ºã€‚","position":{"start":{"line":1331,"column":1},"end":{"line":1331,"column":1}},"key":"VsgBK2VSKQ"}],"key":"Eejchh87nu"},{"type":"paragraph","position":{"start":{"line":1334,"column":1},"end":{"line":1335,"column":1}},"children":[{"type":"text","value":"ç­–ç•¥å¯ä»¥è¿”å›ä¸€ä¸ª ","position":{"start":{"line":1334,"column":1},"end":{"line":1334,"column":1}},"key":"HuQmdB6RlA"},{"type":"inlineCode","value":"AnnotationType","position":{"start":{"line":1334,"column":1},"end":{"line":1334,"column":1}},"key":"I8ME0x5WdO"},{"type":"text","value":" å¯¹è±¡åˆ—è¡¨ï¼Œè¿™äº›å¯¹è±¡ä¼šæ˜¾ç¤ºåœ¨å›¾è¡¨ä¸Šã€‚\næ ¹æ®è¿”å›å†…å®¹ï¼Œå›¾è¡¨å¯ä»¥æ˜¾ç¤ºæ°´å¹³åŒºåŸŸã€å‚ç›´åŒºåŸŸæˆ–æ¡†é€‰åŒºåŸŸã€‚","position":{"start":{"line":1334,"column":1},"end":{"line":1334,"column":1}},"key":"kOGVXTL9EX"}],"key":"RutrcctYkv"},{"type":"paragraph","position":{"start":{"line":1337,"column":1},"end":{"line":1337,"column":1}},"children":[{"type":"text","value":"å®Œæ•´å¯¹è±¡å¦‚ä¸‹æ‰€ç¤ºï¼š","position":{"start":{"line":1337,"column":1},"end":{"line":1337,"column":1}},"key":"zZ9uJwDrej"}],"key":"uuE1O0HBVT"},{"type":"code","lang":"json","value":"{\n    \"type\": \"area\", // Type of the annotation, currently only \"area\" is supported\n    \"start\": \"2024-01-01 15:00:00\", // Start date of the area\n    \"end\": \"2024-01-01 16:00:00\",  // End date of the area\n    \"y_start\": 94000.2,  // Price / y axis value\n    \"y_end\": 98000, // Price / y axis value\n    \"color\": \"\",\n    \"label\": \"some label\"\n}","position":{"start":{"line":1339,"column":1},"end":{"line":1349,"column":1}},"key":"gXMb4cO831"},{"type":"paragraph","position":{"start":{"line":1351,"column":1},"end":{"line":1352,"column":1}},"children":[{"type":"text","value":"ä¸‹é¢çš„ç¤ºä¾‹å°†åœ¨å›¾è¡¨ä¸Šæ ‡è®°ç¬¬ 8 å°æ—¶å’Œç¬¬ 15 å°æ—¶çš„åŒºåŸŸï¼Œä½¿ç”¨ç°è‰²çªå‡ºæ˜¾ç¤ºå¸‚åœºå¼€ç›˜å’Œæ”¶ç›˜æ—¶é—´ã€‚\nè¿™æ˜¾ç„¶æ˜¯ä¸€ä¸ªéå¸¸åŸºç¡€çš„ç¤ºä¾‹ã€‚","position":{"start":{"line":1351,"column":1},"end":{"line":1351,"column":1}},"key":"VBwnQ5sSzI"}],"key":"xGsTtrGjGx"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n    def plot_annotations(\n        self, pair: str, start_date: datetime, end_date: datetime, dataframe: DataFrame, **kwargs\n    ) -> list[AnnotationType]:\n        \"\"\"\n        Retrieve area annotations for a chart.\n        Must be returned as array, with type, label, color, start, end, y_start, y_end.\n        All settings except for type are optional - though it usually makes sense to include either\n        \"start and end\" or \"y_start and y_end\" for either horizontal or vertical plots\n        (or all 4 for boxes).\n        :param pair: Pair that's currently analyzed\n        :param start_date: Start date of the chart data being requested\n        :param end_date: End date of the chart data being requested\n        :param dataframe: DataFrame with the analyzed data for the chart\n        :param **kwargs: Ensure to keep this here so updates to this won't break your strategy.\n        :return: List of AnnotationType objects\n        \"\"\"\n        annotations = []\n        while start_dt < end_date:\n            start_dt += timedelta(hours=1)\n            if start_dt.hour in (8, 15):\n                annotations.append(\n                    {\n                        \"type\": \"area\",\n                        \"label\": \"Trade open and close hours\",\n                        \"start\": start_dt,\n                        \"end\": start_dt + timedelta(hours=1),\n                        # Omitting y_start and y_end will result in a vertical area spanning the whole height of the main Chart\n                        \"color\": \"rgba(133, 133, 133, 0.4)\",\n                    }\n                )\n\n        return annotations\n","position":{"start":{"line":1354,"column":1},"end":{"line":1391,"column":1}},"key":"X7ZMkIXE0o"},{"type":"paragraph","position":{"start":{"line":1393,"column":1},"end":{"line":1393,"column":1}},"children":[{"type":"text","value":"æ‰€æœ‰æ¡ç›®éƒ½å°†è¢«éªŒè¯ï¼Œå¦‚æœä¸ç¬¦åˆé¢„æœŸçš„æ¨¡å¼ï¼Œå°†ä¸ä¼šè¢«ä¼ é€’ç»™ UIï¼Œå¹¶ä¸”ä¼šè®°å½•é”™è¯¯ã€‚","position":{"start":{"line":1393,"column":1},"end":{"line":1393,"column":1}},"key":"dZMeIlb0XC"}],"key":"XbHJqkbjXD"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"è¿‡å¤šå›¾ç‰‡æ³¨é‡Š","position":{"start":{"line":1395,"column":1},"end":{"line":1395,"column":1}},"key":"zxclv5xqx9"}],"key":"QsGk4M7StI"},{"type":"paragraph","position":{"start":{"line":1396,"column":1},"end":{"line":1396,"column":1}},"children":[{"type":"text","value":"ä½¿ç”¨è¿‡å¤šæ³¨é‡Šå¯èƒ½å¯¼è‡´ UI å¡é¡¿ï¼Œç‰¹åˆ«æ˜¯åœ¨ç»˜åˆ¶å¤§é‡å†å²æ•°æ®æ—¶ã€‚","position":{"start":{"line":1396,"column":1},"end":{"line":1396,"column":1}},"key":"IlHC63j05E"}],"key":"DCTWLMsTI7"},{"type":"paragraph","position":{"start":{"line":1398,"column":1},"end":{"line":1398,"column":1}},"children":[{"type":"text","value":"è¯·è°¨æ…ä½¿ç”¨æ³¨é‡ŠåŠŸèƒ½ã€‚","position":{"start":{"line":1398,"column":1},"end":{"line":1398,"column":1}},"key":"QcDWGUNJYR"}],"key":"rKad5IepEX"}],"key":"qX1CL0sxLl"},{"type":"heading","depth":4,"position":{"start":{"line":1401,"column":1},"end":{"line":1401,"column":1}},"children":[{"type":"text","value":"å›¾è¡¨æ³¨é‡Šç¤ºä¾‹","position":{"start":{"line":1401,"column":1},"end":{"line":1401,"column":1}},"key":"Tv4Bwfb48R"}],"identifier":"id","label":"å›¾è¡¨æ³¨é‡Šç¤ºä¾‹","html_id":"id-30","implicit":true,"key":"XzXt93YOGt"},{"type":"paragraph","position":{"start":{"line":1403,"column":1},"end":{"line":1404,"column":1}},"children":[{"type":"image","url":"/build/freqUI-chart-annotat-6ca425e986932e863842497203176546.png","alt":"FreqUI - å›¾è¡¨æ³¨é‡Š","position":{"start":{"line":1403,"column":1},"end":{"line":1403,"column":1}},"key":"YJhSD56D7Z","urlSource":"assets/freqUI-chart-annotations-dark.png","urlOptimized":"/build/freqUI-chart-annotat-6ca425e986932e863842497203176546.webp"},{"type":"text","value":"\n","position":{"start":{"line":1403,"column":1},"end":{"line":1403,"column":1}},"key":"KP4cpR6ney"},{"type":"image","url":"/build/freqUI-chart-annotat-1e4333673f820e578805f2b84b0b8eca.png","alt":"FreqUI - å›¾è¡¨æ³¨é‡Š","position":{"start":{"line":1403,"column":1},"end":{"line":1403,"column":1}},"key":"rhuCHsGlXN","urlSource":"assets/freqUI-chart-annotations-light.png","urlOptimized":"/build/freqUI-chart-annotat-1e4333673f820e578805f2b84b0b8eca.webp"}],"key":"bPfQgD5LFW"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"ä¸Šå›¾ä½¿ç”¨çš„ä»£ç ","position":{"start":{"line":1406,"column":1},"end":{"line":1406,"column":1}},"key":"WcwiTpaKf8"}],"key":"ubvJIQyhdz"},{"type":"paragraph","position":{"start":{"line":1407,"column":1},"end":{"line":1407,"column":1}},"children":[{"type":"text","value":"è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œä»…ä¾›å‚è€ƒã€‚","position":{"start":{"line":1407,"column":1},"end":{"line":1407,"column":1}},"key":"rPVs16ocXf"}],"key":"bKAN8Dg5kR"},{"type":"code","lang":"python","value":"# Default imports\n\nclass AwesomeStrategy(IStrategy):\n    def plot_annotations(\n        self, pair: str, start_date: datetime, end_date: datetime, dataframe: DataFrame, **kwargs\n    ) -> list[AnnotationType]:\n        annotations = []\n        while start_dt < end_date:\n            start_dt += timedelta(hours=1)\n            if (start_dt.hour % 4) == 0:\n                mark_areas.append(\n                    {\n                        \"type\": \"area\",\n                        \"label\": \"4h\",\n                        \"start\": start_dt,\n                        \"end\": start_dt + timedelta(hours=1),\n                        \"color\": \"rgba(133, 133, 133, 0.4)\",\n                    }\n                )\n            elif (start_dt.hour % 2) == 0:\n            price = dataframe.loc[dataframe[\"date\"] == start_dt, [\"close\"]].mean()\n                mark_areas.append(\n                    {\n                        \"type\": \"area\",\n                        \"label\": \"2h\",\n                        \"start\": start_dt,\n                        \"end\": start_dt + timedelta(hours=1),\n                        \"y_end\": price * 1.01,\n                        \"y_start\": price * 0.99,\n                        \"color\": \"rgba(0, 255, 0, 0.4)\",\n                    }\n                )\n\n        return annotations\n","position":{"start":{"line":1409,"column":1},"end":{"line":1445,"column":1}},"key":"FZa2YCcfUN"}],"key":"seqj7298CO"}],"key":"Lwlgm7IWN4"}],"key":"wtiu5KsOXX"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"ç­–ç•¥è‡ªå®šä¹‰æŒ‡å—","short_title":"ç­–ç•¥è‡ªå®šä¹‰","url":"/strategy-customization","group":"å®‰è£…"},"next":{"title":"æ­¢æŸé…ç½®æŒ‡å—","short_title":"æ­¢æŸ","url":"/stoploss","group":"å®‰è£…"}}},"domain":"http://localhost:3002"}