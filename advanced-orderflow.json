{"version":2,"kind":"Article","sha256":"018b8dd41806dc6718577f55b2277190a5899a73b7d7c9c98a531490f46ed7e1","slug":"advanced-orderflow","location":"/advanced-orderflow.md","dependencies":[],"frontmatter":{"title":"高级委托流分析","description":"本文档介绍了 FreqTrade 的委托流分析功能,包括如何配置和使用公共成交数据进行高级委托流分析。","short_title":"委托流分析","subtitle":"深入了解委托流数据分析功能","subject":"FreqTrade 委托流指南","authors":[{"id":"Freqtrade","name":"Freqtrade"}],"github":"https://github.com/freqtrade-cn/docs_zh-CN","keywords":["Freqtrade","中文文档","交易机器人","量化交易","加密货币","数字货币","区块链","人工智能","机器学习"],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/freqtrade-cn/docs_zh-CN/blob/main/advanced-orderflow.md","exports":[{"format":"md","filename":"advanced-orderflow.md","url":"/build/advanced-orderflow-41587fd757bdd5a8b62d61caa8dd2428.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"委托流（Orderflow）数据","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Kl6GCQE3ds"}],"identifier":"id-orderflow","label":"委托流（Orderflow）数据","html_id":"id-orderflow","implicit":true,"key":"Olbi4Hzjb8"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"本指南将带你了解如何在 Freqtrade 中利用公共成交数据进行高级委托流分析。","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"SkaYFtQPVW"}],"key":"twRWUl8kpL"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"实验性功能","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"vVtrgDEXdx"}],"key":"YthjkrJq7F"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"委托流功能目前处于测试阶段，未来版本可能会有变动。如有问题或建议，请在 ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"BKRZZfRiOH"},{"type":"link","url":"https://github.com/freqtrade/freqtrade/issues","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Freqtrade GitHub 仓库","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"OaNa5wrjXs"}],"urlSource":"https://github.com/freqtrade/freqtrade/issues","error":true,"key":"OTnOlSt3O6"},{"type":"text","value":" 反馈。","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"UQEWO1khd1"}],"key":"YF2aJqt6ht"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"目前尚未与 freqAI 联合测试——将这两者结合使用暂不在官方支持范围内。","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"jAD6OCqezq"}],"key":"ShozaCEGKR"}],"key":"O0pHVhdp1d"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"性能提示","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"U7i0tYDP7G"}],"key":"Gv5GW4KTKI"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"委托流需要原始成交数据。这类数据体量较大，freqtrade 在下载最近 X 根 K 线的成交数据时，初次启动可能会变慢。此外，启用该功能会增加内存占用。请确保有足够的系统资源。","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"ZLXNd3ORU8"}],"key":"Jp5Tpg67Fc"}],"key":"NK9eXoy2IX"},{"type":"heading","depth":3,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"快速开始","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"CfPlRwT56r"}],"identifier":"id","label":"快速开始","html_id":"id","implicit":true,"key":"BpBC5VPxQn"},{"type":"heading","depth":4,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"启用公共成交数据","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"h9jNC8SRk3"}],"identifier":"id","label":"启用公共成交数据","html_id":"id-1","implicit":true,"key":"pcnWLX2jsK"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"在你的 ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"qWaBEtaifK"},{"type":"inlineCode","value":"config.json","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"kq2cJjk9Rn"},{"type":"text","value":" 文件中，将 ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"T5KBnPhYvm"},{"type":"inlineCode","value":"exchange","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"JGH1AlAmMH"},{"type":"text","value":" 部分的 ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"NuORWQ3TJN"},{"type":"inlineCode","value":"use_public_trades","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"sMoyGre9u0"},{"type":"text","value":" 选项设置为 true。","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"Y5qpfByDgf"}],"key":"EPBLOmv5Qq"},{"type":"code","lang":"json","value":"\"exchange\": {\n   ...\n   \"use_public_trades\": true,\n}","position":{"start":{"line":29,"column":1},"end":{"line":34,"column":1}},"key":"fqAoMmhDn6"},{"type":"heading","depth":4,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"配置委托流处理","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"TGyCkooAJK"}],"identifier":"id","label":"配置委托流处理","html_id":"id-2","implicit":true,"key":"s31K7PxWD5"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"在 config.json 的 orderflow 部分定义你想要的委托流处理设置。你可以调整如下参数：","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"ERtTC7WG52"}],"key":"wmJBRaoKGI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":40,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"inlineCode","value":"cache_size","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"UHUvyXrFxV"},{"type":"text","value":"：缓存多少根历史委托流 K 线，避免每根新 K 线都重新计算","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"CyLBIpw2Yy"}],"key":"fr0hFIkEbC"},{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"inlineCode","value":"max_candles","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"vFGxu7BR7O"},{"type":"text","value":"：限制获取成交数据的最大 K 线数量","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"z1iJexa2aL"}],"key":"YQYujVuxzf"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"inlineCode","value":"scale","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"yvXdm5dWoh"},{"type":"text","value":"：控制 footprint 图的价格分箱大小","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"YGPrgVaMxx"}],"key":"cHeTKTuzTV"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"inlineCode","value":"stacked_imbalance_range","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"f12vHUh6u1"},{"type":"text","value":"：定义连续失衡价位的最小数量","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"NYrROep1iu"}],"key":"bHx23CqVI7"},{"type":"listItem","spread":true,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"inlineCode","value":"imbalance_volume","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"ryJHLw8wS7"},{"type":"text","value":"：过滤成交量低于该阈值的失衡","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"jxqPrckOqp"}],"key":"NX31w4dysR"},{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"inlineCode","value":"imbalance_ratio","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"aKqbPk7cv0"},{"type":"text","value":"：过滤买卖量差低于该值的失衡","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"p8bdKKFoyL"}],"key":"k9GQODnbCP"}],"key":"ZxP5qrYxUA"},{"type":"code","lang":"json","value":"\"orderflow\": {\n    \"cache_size\": 1000, \n    \"max_candles\": 1500, \n    \"scale\": 0.5, \n    \"stacked_imbalance_range\": 3, // 至少需要这么多连续失衡\n    \"imbalance_volume\": 1, // 过滤低于该值的失衡\n    \"imbalance_ratio\": 3 // 过滤低于该比值的失衡\n  },","position":{"start":{"line":47,"column":1},"end":{"line":56,"column":1}},"key":"c1AJgySpwb"},{"type":"heading","depth":3,"position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"text","value":"下载回测用成交数据","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"LgY5IcSdqC"}],"identifier":"id","label":"下载回测用成交数据","html_id":"id-3","implicit":true,"key":"cbfV8MO6kn"},{"type":"paragraph","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"如需下载历史成交数据用于回测，请在 freqtrade download-data 命令中加上 --dl-trades 参数。","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"P6wzrOJjW1"}],"key":"r0ROVPqGDi"},{"type":"code","lang":"bash","value":"freqtrade download-data -p BTC/USDT:USDT --timerange 20230101- --trading-mode futures --timeframes 5m --dl-trades","position":{"start":{"line":62,"column":1},"end":{"line":64,"column":1}},"key":"V3sOrEr45K"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"数据可用性","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"iPbKhxS0uk"}],"key":"DEPMnVncPf"},{"type":"paragraph","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"并非所有交易所都提供公共成交数据。对于支持的交易所，如果你用 ","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"xUCVVmjCmi"},{"type":"inlineCode","value":"--dl-trades","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"ykg2Gg7Vxj"},{"type":"text","value":" 下载数据而数据不可用，freqtrade 会发出警告。","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"Ri6xeNuHTW"}],"key":"yFyhvnNAGU"}],"key":"PqPZMDyE4P"},{"type":"heading","depth":3,"position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"children":[{"type":"text","value":"访问委托流数据","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"oP2t1MsIRt"}],"identifier":"id","label":"访问委托流数据","html_id":"id-4","implicit":true,"key":"VEoKUH6nL1"},{"type":"paragraph","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"启用后，你的数据表（dataframe）会新增如下列：","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"wf5Rkv0R3j"}],"key":"C7s85JEqlg"},{"type":"code","lang":"python","value":"\ndataframe[\"trades\"] # 包含每笔成交的详细信息。\ndataframe[\"orderflow\"] # footprint 图字典（见下文）\ndataframe[\"imbalances\"] # 委托流失衡信息。\ndataframe[\"bid\"] # 总买单量\ndataframe[\"ask\"] # 总卖单量\ndataframe[\"delta\"] # 买卖量差。\ndataframe[\"min_delta\"] # 本 K 线内最小 delta\ndataframe[\"max_delta\"] # 本 K 线内最大 delta\ndataframe[\"total_trades\"] # 总成交笔数\ndataframe[\"stacked_imbalances_bid\"] # 堆叠买方失衡区间起点价位列表\ndataframe[\"stacked_imbalances_ask\"] # 堆叠卖方失衡区间起点价位列表","position":{"start":{"line":74,"column":1},"end":{"line":87,"column":1}},"key":"mJZB3aITjx"},{"type":"paragraph","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"text","value":"你可以在策略代码中访问这些列进行进一步分析。例如：","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"f2jKcod3Hx"}],"key":"dfqHHLzcAb"},{"type":"code","lang":"python","value":"def populate_indicators(self, dataframe: DataFrame, metadata: dict) -> DataFrame:\n    # 计算累计 delta\n    dataframe[\"cum_delta\"] = cumulative_delta(dataframe[\"delta\"])\n    # 访问总成交笔数\n    total_trades = dataframe[\"total_trades\"]\n    ...\n\ndef cumulative_delta(delta: Series):\n    cumdelta = delta.cumsum()\n    return cumdelta\n","position":{"start":{"line":91,"column":1},"end":{"line":103,"column":1}},"key":"YkuipLA1qH"},{"type":"heading","depth":4,"position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"Footprint 图（","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"zXfXWcadqn"},{"type":"inlineCode","value":"dataframe[\"orderflow\"]","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"CBeiDZINKX"},{"type":"text","value":"）","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"UGpd2JGLRU"}],"identifier":"footprint-dataframe-orderflow","label":"Footprint 图（dataframe[\"orderflow\"]）","html_id":"footprint-dataframe-orderflow","implicit":true,"key":"XM18lpF0Z2"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"该列为不同价位的买卖订单提供详细分布，有助于洞察委托流动态。配置中的 ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"c5Sd6Xa4qJ"},{"type":"inlineCode","value":"scale","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"j0NHuja4uo"},{"type":"text","value":" 参数决定价格分箱大小。","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"Sm56CAeite"}],"key":"jK2izMCMAM"},{"type":"paragraph","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"inlineCode","value":"orderflow","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"C1uLNW3HUg"},{"type":"text","value":" 列为如下结构的字典：","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"htSbo2Jlyb"}],"key":"bacpCi7d1J"},{"type":"code","lang":"output","value":"{\n    \"price\": {\n        \"bid_amount\": 0.0,\n        \"ask_amount\": 0.0,\n        \"bid\": 0,\n        \"ask\": 0,\n        \"delta\": 0.0,\n        \"total_volume\": 0.0,\n        \"total_trades\": 0\n    }\n}","position":{"start":{"line":111,"column":1},"end":{"line":123,"column":1}},"key":"k1zrshAbK2"},{"type":"heading","depth":5,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"orderflow 列说明","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"ERl9N6aZ8N"}],"identifier":"orderflow","label":"orderflow 列说明","html_id":"orderflow","implicit":true,"key":"OswTUwfTN5"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":127,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"key：价格分箱（以 ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"YERU2VjdHM"},{"type":"inlineCode","value":"scale","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"nByzSXjrEb"},{"type":"text","value":" 为间隔分箱）","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"Ibmt0dzzlI"}],"key":"RlMcIAbNiO"},{"type":"listItem","spread":true,"position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"inlineCode","value":"bid_amount","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"HIkVAGOCXN"},{"type":"text","value":"：每个价位的买入总量","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"JuUGp2j821"}],"key":"OsBiThFspT"},{"type":"listItem","spread":true,"position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"inlineCode","value":"ask_amount","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"EW7tI1ERlx"},{"type":"text","value":"：每个价位的卖出总量","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"X7bmI2D0VX"}],"key":"QAz8Xw1jG9"},{"type":"listItem","spread":true,"position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"inlineCode","value":"bid","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"L1jsvZ1YLv"},{"type":"text","value":"：每个价位的买单数","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"r5ZcryYq0E"}],"key":"QqrVFTSZJl"},{"type":"listItem","spread":true,"position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"inlineCode","value":"ask","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"oGqQdZLDS5"},{"type":"text","value":"：每个价位的卖单数","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"vT1ad29rtA"}],"key":"V9eITAMHfR"},{"type":"listItem","spread":true,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"inlineCode","value":"delta","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"B51pFqfGaD"},{"type":"text","value":"：每个价位的买卖量差","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"jy4M78YXmy"}],"key":"iucZBuWGpd"},{"type":"listItem","spread":true,"position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"inlineCode","value":"total_volume","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"oeXt1YeZA4"},{"type":"text","value":"：每个价位的总成交量（买入+卖出）","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"VibNUO6zBg"}],"key":"yUs2VAYFmR"},{"type":"listItem","spread":true,"position":{"start":{"line":134,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"inlineCode","value":"total_trades","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"ZEZum3M1Mk"},{"type":"text","value":"：每个价位的总成交笔数（买单+卖单）","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"CIFDXfUwqx"}],"key":"wzLzwt2uoN"}],"key":"WfGbsHCwB1"},{"type":"paragraph","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"text","value":"利用这些特性，你可以基于委托流分析获得市场情绪和潜在交易机会。","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"hVrP7WB3KG"}],"key":"FfHuuPpZgv"},{"type":"heading","depth":4,"position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"原始成交数据（","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"usR6yHRpXh"},{"type":"inlineCode","value":"dataframe[\"trades\"]","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"IuIFIZFXNn"},{"type":"text","value":"）","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"MVBzR2IBYX"}],"identifier":"id-dataframe-trades","label":"原始成交数据（dataframe[\"trades\"]）","html_id":"id-dataframe-trades","implicit":true,"key":"mHi1atXnRo"},{"type":"paragraph","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"该列为本 K 线期间发生的每笔成交组成的列表，可用于更细粒度的委托流分析。","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"c6lDnJJ3ym"}],"key":"psH7MohgcB"},{"type":"paragraph","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"每条记录为如下结构的字典：","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"y61lbecST1"}],"key":"xTQwM4XhLP"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":144,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"inlineCode","value":"timestamp","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"TAg82Ubp9j"},{"type":"text","value":"：成交时间戳","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"vfcWfneOe5"}],"key":"HxYOypFQ8b"},{"type":"listItem","spread":true,"position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"inlineCode","value":"date","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"aO7XERYwPh"},{"type":"text","value":"：成交日期","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"bt0fclQiKC"}],"key":"tp9DEURe1Y"},{"type":"listItem","spread":true,"position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"inlineCode","value":"price","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"thu5UtYQq2"},{"type":"text","value":"：成交价格","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"bEJFydVV11"}],"key":"AnQyZMj5Mn"},{"type":"listItem","spread":true,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"inlineCode","value":"amount","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"hNRcgVK95t"},{"type":"text","value":"：成交量","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"mn9a626R3b"}],"key":"UTKs1z8sNr"},{"type":"listItem","spread":true,"position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"inlineCode","value":"side","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"HoZCQ4wvpo"},{"type":"text","value":"：买入或卖出","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"hizKhh171W"}],"key":"gb7D7cr9kC"},{"type":"listItem","spread":true,"position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"inlineCode","value":"id","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"SlZzmxWjhB"},{"type":"text","value":"：成交唯一标识","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"Skz2WJvubY"}],"key":"HZEbT0FNQp"},{"type":"listItem","spread":true,"position":{"start":{"line":150,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"inlineCode","value":"cost","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"j3IQAjLLNa"},{"type":"text","value":"：成交总额（价格 * 数量）","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"rd8VbIMwPm"}],"key":"UAWSVKgKIs"}],"key":"PX2Uml39NV"},{"type":"heading","depth":4,"position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"失衡（","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"rf9u3WORdk"},{"type":"inlineCode","value":"dataframe[\"imbalances\"]","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"W2KfJ1R4WM"},{"type":"text","value":"）","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"R3w6f1PGM2"}],"identifier":"id-dataframe-imbalances","label":"失衡（dataframe[\"imbalances\"]）","html_id":"id-dataframe-imbalances","implicit":true,"key":"ABeiSNNxnH"},{"type":"paragraph","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"该列为字典，记录委托流中的失衡信息。当某价位的买卖量差异显著时，视为失衡。","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"F2lo4cgCi5"}],"key":"GmQ7lAGW4f"},{"type":"paragraph","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"每行数据如下——以价格为索引，对应的 bid/ask 失衡值为列：","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"hePDMLwtYT"}],"key":"bsnx5nIqqG"},{"type":"code","lang":"output","value":"{\n    \"price\": {\n        \"bid_imbalance\": False,\n        \"ask_imbalance\": False\n    }\n}","position":{"start":{"line":158,"column":1},"end":{"line":165,"column":1}},"key":"h9GBu9Wclb"}],"key":"K3Wv6AetHl"}],"key":"Rs3wRtiT8E"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"高级超参数优化","short_title":"高级超参数优化","url":"/advanced-hyperopt","group":"高级话题"},"next":{"title":"生产者/消费者模式","short_title":"生产者/消费者","url":"/producer-consumer","group":"高级话题"}}},"domain":"http://localhost:3001"}